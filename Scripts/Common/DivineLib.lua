load(Base64Decode("DQpsb2NhbCBBQlMsUkFORCxNSU4sTUFYLEhVR0UsRkxPT1IsQ0VJTCxERUcsUEksU0lOLENPUyxBU0lOLENPU0lOPSBtYXRoLmFicyxtYXRoLnJhbmRvbSxtYXRoLm1pbixtYXRoLm1heCxtYXRoLmh1Z2UsbWF0aC5mbG9vcixtYXRoLmNlaWwsbWF0aC5kZWcsbWF0aC5waSxtYXRoLnNpbixtYXRoLmNvcyxtYXRoLmFzaW4sbWF0aC5hY29zDQpsb2NhbCBERUdfUkFEX01VTFQgPSBQSS8xODANCmxvY2FsIG5vcm1hbFZlYyA9IFZlY3RvcigwLDEsMCkNCmxvY2FsIHNhY0xvYWRBdHRlbXB0cyA9IDANCiANCmxvY2FsIGRMaWJTYXZlID0gR2V0U2F2ZSgiRGl2aW5lTGliU2F2ZSIpDQoNCmxvY2FsIHNraW5zID0gew0KICAtLSBBDQpbIkFhdHJveCJdICAgICAgID0geyJDbGFzc2ljIiwgIkp1c3RpY2FyIiwgIk1lY2hhIiwgIlNlYSBIdW50ZXIifSwNClsiQWhyaSJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiRHluYXN0eSIsICJNaWRuaWdodCIsICJGb3hmaXJlIiwgIlBvcHN0YXIiLCAiQ2hhbGxlbmdlciIsICJBY2FkZW15In0sDQpbIkFrYWxpIl0gICAgICAgID0geyJDbGFzc2ljIiwgIlN0aW5nZXIiLCAiQ3JpbXNvbiIsICJBbGwtc3RhciIsICJOdXJzZSIsICJCbG9vZCBNb29uIiwgIlNpbHZlcmZhbmciLCAiSGVhZGh1bnRlciJ9LA0KWyJBbGlzdGFyIl0gICAgICA9IHsiQ2xhc3NpYyIsICJCbGFjayIsICJHb2xkZW4iLCAiTWF0YWRvciIsICJMb25naG9ybiIsICJVbmNoYWluZWQiLCAiSW5mZXJuYWwiLCAiU3dlZXBlciIsICJNYXJhdWRlciJ9LA0KWyJBbXVtdSJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJQaGFyYW9oIiwgIlZhbmNvdXZlciIsICJFbXVtdSIsICJSZS1HaWZ0ZWQiLCAiQWxtb3N0LVByb20gS2luZyIsICJMaXR0bGUgS25pZ2h0IiwgIlNhZCBSb2JvdCIsICJTdXJwcmlzZSBQYXJ0eSJ9LA0KWyJBbml2aWEiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJUZWFtIFNwaXJpdCIsICJCaXJkIG9mIFByZXkiLCAiTm94dXMgSHVudGVyIiwgIkhleHRlY2giLCAiQmxhY2tmcm9zdCIsICJQcmVoaXN0b3JpYyJ9LA0KWyJBbm5pZSJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJHb3RoIiwgIlJlZCBSaWRpbmciLCAiQW5uaWUgaW4gV29uZGVybGFuZCIsICJQcm9tIFF1ZWVuIiwgIkZyb3N0ZmlyZSIsICJSZXZlcnNlIiwgIkZyYW5rZW5UaWJiZXJzIiwgIlBhbmRhIiwgIlN3ZWV0aGVhcnQifSwNClsiQXNoZSJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiRnJlbGpvcmQiLCAiU2hlcndvb2QgRm9yZXN0IiwgIldvYWQiLCAiUXVlZW4iLCAiQW1ldGh5c3QiLCAiSGVhcnRzZWVrZXIiLCAiTWFyYXVkZXIifSwNClsiQXppciJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiR2FsYWN0aWMiLCAiR3JhdmVsb3JkIn0sDQogIC0tIEIgIA0KWyJCYXJkIl0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJFbGRlcndvb2QiLCAiQ2hyb21hIFBhY2s6IE1hcmlnb2xkIiwgIkNocm9tYSBQYWNrOiBJdnkiLCAiQ2hyb21hIFBhY2s6IFNhZ2UifSwNClsiQmxpdHpjcmFuayJdICAgPSB7IkNsYXNzaWMiLCAiUnVzdHkiLCAiR29hbGtlZXBlciIsICJCb29tIEJvb20iLCAiUGlsdG92ZXIgQ3VzdG9tcyIsICJEZWZpbml0ZWx5IE5vdCIsICJpQmxpdHpjcmFuayIsICJSaW90IiwgIkNocm9tYSBQYWNrOiBNb2x0ZW4iLCAiQ2hyb21hIFBhY2s6IENvYmFsdCIsICJDaHJvbWEgUGFjazogR3VubWV0YWwiLCAiQmF0dGxlIEJvc3MifSwNClsiQnJhbmQiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiQXBvY2FseXB0aWMiLCAiVmFuZGFsIiwgIkNyeW9jb3JlIiwgIlpvbWJpZSIsICJTcGlyaXQgRmlyZSJ9LA0KWyJCcmF1bSJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJEcmFnb25zbGF5ZXIiLCAiRWwgVGlncmUiLCAiTGlvbmhlYXJ0In0sDQogIC0tIEMgIA0KWyJDYWl0bHluIl0gICAgICA9IHsiQ2xhc3NpYyIsICJSZXNpc3RhbmNlIiwgIlNoZXJpZmYiLCAiU2FmYXJpIiwgIkFyY3RpYyBXYXJmYXJlIiwgIk9mZmljZXIiLCAiSGVhZGh1bnRlciIsICJDaHJvbWEgUGFjazogUGluayIsICJDaHJvbWEgUGFjazogR3JlZW4iLCAiQ2hyb21hIFBhY2s6IEJsdWUiLCJMdW5hciJ9LA0KWyJDYXNzaW9wZWlhIl0gICA9IHsiQ2xhc3NpYyIsICJEZXNwZXJhZGEiLCAiU2lyZW4iLCAiTXl0aGljIiwgIkphZGUgRmFuZyIsICJDaHJvbWEgUGFjazogRGF5IiwgIkNocm9tYSBQYWNrOiBEdXNrIiwgIkNocm9tYSBQYWNrOiBOaWdodCJ9LA0KWyJDaG9nYXRoIl0gICAgICA9IHsiQ2xhc3NpYyIsICJOaWdodG1hcmUiLCAiR2VudGxlbWFuIiwgIkxvY2ggTmVzcyIsICJKdXJhc3NpYyIsICJCYXR0bGVjYXN0IFByaW1lIiwgIlByZWhpc3RvcmljIn0sDQpbIkNvcmtpIl0gICAgICAgID0geyJDbGFzc2ljIiwgIlVGTyIsICJJY2UgVG9ib2dnYW4iLCAiUmVkIEJhcm9uIiwgIkhvdCBSb2QiLCAiVXJmcmlkZXIiLCAiRHJhZ29ud2luZyIsICJGbmF0aWMifSwNCiAgLS0gRA0KWyJEYXJpdXMiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJMb3JkIiwgIkJpb2ZvcmdlIiwgIldvYWQgS2luZyIsICJEdW5rbWFzdGVyIiwgIkNocm9tYSBQYWNrOiBCbGFjayBJcm9uIiwgIkNocm9tYSBQYWNrOiBCcm9uemUiLCAiQ2hyb21hIFBhY2s6IENvcHBlciIsICJBY2FkZW15In0sDQpbIkRpYW5hIl0gICAgICAgID0geyJDbGFzc2ljIiwgIkRhcmsgVmFsa3lyaWUiLCAiTHVuYXIgR29kZGVzcyJ9LA0KWyJEck11bmRvIl0gICAgICA9IHsiQ2xhc3NpYyIsICJUb3hpYyIsICJNci4gTXVuZG92ZXJzZSIsICJDb3Jwb3JhdGUgTXVuZG8iLCAiTXVuZG8gTXVuZG8iLCAiRXhlY3V0aW9uZXIgTXVuZG8iLCAiUmFnZWJvcm4gTXVuZG8iLCAiVFBBIE11bmRvIiwgIlBvb2wgUGFydHkifSwNClsiRHJhdmVuIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiU291bCBSZWF2ZXIiLCAiR2xhZGlhdG9yIiwgIlByaW1ldGltZSIsICJQb29sIFBhcnR5In0sDQogIC0tIEUgDQpbIkVra28iXSAgICAgICAgID0geyJDbGFzc2ljIiwgIlNhbmRzdG9ybSIsICJBY2FkZW15In0sDQpbIkVsaXNlIl0gICAgICAgID0geyJDbGFzc2ljIiwgIkRlYXRoIEJsb3Nzb20iLCAiVmljdG9yaW91cyIsICJCbG9vZCBNb29uIn0sDQpbIkV2ZWx5bm4iXSAgICAgID0geyJDbGFzc2ljIiwgIlNoYWRvdyIsICJNYXNxdWVyYWRlIiwgIlRhbmdvIiwgIlNhZmVjcmFja2VyIn0sDQpbIkV6cmVhbCJdICAgICAgID0geyJDbGFzc2ljIiwgIk5vdHRpbmdoYW0iLCAiU3RyaWtlciIsICJGcm9zdGVkIiwgIkV4cGxvcmVyIiwgIlB1bHNlZmlyZSIsICJUUEEiLCAiRGVib25haXIiLCAiQWNlIG9mIFNwYWRlcyJ9LA0KICAtLSBGIA0KWyJGaWRkbGVTdGlja3MiXSA9IHsiQ2xhc3NpYyIsICJTcGVjdHJhbCIsICJVbmlvbiBKYWNrIiwgIkJhbmRpdG8iLCAiUHVtcGtpbmhlYWQiLCAiRmlkZGxlIE1lIFRpbWJlcnMiLCAiU3VycHJpc2UgUGFydHkiLCAiRGFyayBDYW5keSIsICJSaXNlbiJ9LA0KWyJGaW9yYSJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJSb3lhbCBHdWFyZCIsICJOaWdodHJhdmVuIiwgIkhlYWRtaXN0cmVzcyIsICJQUk9KRUNUIn0sDQpbIkZpenoiXSAgICAgICAgID0geyJDbGFzc2ljIiwgIkF0bGFudGVhbiIsICJUdW5kcmEiLCAiRmlzaGVybWFuIiwgIlZvaWQiLCAiQ2hyb21hIFBhY2s6IE9yYW5nZSIsICJDaHJvbWEgUGFjazogQmxhY2siLCAiQ2hyb21hIFBhY2s6IFJlZCIsICJDb3R0b250YWlsIn0sDQogIC0tIEcgIA0KWyJHYWxpbyJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJFbmNoYW50ZWQiLCAiSGV4dGVjaCIsICJDb21tYW5kbyIsICJHYXRla2VlcGVyIiwgIkRlYm9uYWlyIn0sDQpbIkdhbmdwbGFuayJdICAgID0geyJDbGFzc2ljIiwgIlNwb29reSIsICJNaW51dGVtYW4iLCAiU2FpbG9yIiwgIlRveSBTb2xkaWVyIiwgIlNwZWNpYWwgRm9yY2VzIiwgIlN1bHRhbiIsICJDYXB0YWluIn0sDQpbIkdhcmVuIl0gICAgICAgID0geyJDbGFzc2ljIiwgIlNhbmd1aW5lIiwgIkRlc2VydCBUcm9vcGVyIiwgIkNvbW1hbmRvIiwgIkRyZWFka25pZ2h0IiwgIlJ1Z2dlZCIsICJTdGVlbCBMZWdpb24iLCAiQ2hyb21hIFBhY2s6IEdhcm5ldCIsICJDaHJvbWEgUGFjazogUGx1bSIsICJDaHJvbWEgUGFjazogSXZvcnkiLCAiUm9ndWUgQWRtaXJhbCJ9LA0KWyJHbmFyIl0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJEaW5vIiwgIkdlbnRsZW1hbiJ9LA0KWyJHcmFnYXMiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJTY3ViYSIsICJIaWxsYmlsbHkiLCAiU2FudGEiLCAiR3JhZ2FzLCBFc3EuIiwgIlZhbmRhbCIsICJPa3RvYmVyZmVzdCIsICJTdXBlcmZhbiIsICJGbmF0aWMiLCAiQ2Fza2JyZWFrZXIifSwNClsiR3JhdmVzIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiSGlyZWQgR3VuIiwgIkphaWxicmVhayIsICJNYWZpYSIsICJSaW90IiwgIlBvb2wgUGFydHkiLCAiQ3V0dGhyb2F0In0sDQogIC0tIEggDQpbIkhlY2FyaW0iXSAgICAgID0geyJDbGFzc2ljIiwgIkJsb29kIEtuaWdodCIsICJSZWFwZXIiLCAiSGVhZGxlc3MiLCAiQXJjYWRlIiwgIkVsZGVyd29vZCJ9LA0KWyJIZWltZXJkaW5nZXIiXSA9IHsiQ2xhc3NpYyIsICJBbGllbiBJbnZhZGVyIiwgIkJsYXN0IFpvbmUiLCAiUGlsdG92ZXIgQ3VzdG9tcyIsICJTbm93bWVyZGluZ2VyIiwgIkhhem1hdCJ9LA0KICAtLSBJIA0KWyJJbGxhb2kiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJWb2lkIEJyaW5nZXIifSwNClsiSXJlbGlhIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiTmlnaHRibGFkZSIsICJBdmlhdG9yIiwgIkluZmlsdHJhdG9yIiwgIkZyb3N0YmxhZGUiLCAiT3JkZXIgb2YgdGhlIExvdHVzIn0sDQogIC0tIEogDQpbIkphbm5hIl0gICAgICAgID0geyJDbGFzc2ljIiwgIlRlbXBlc3QiLCAiSGV4dGVjaCIsICJGcm9zdCBRdWVlbiIsICJWaWN0b3Jpb3VzIiwgIkZvcmVjYXN0IiwgIkZuYXRpYyJ9LA0KWyJKYXJ2YW5JViJdICAgICA9IHsiQ2xhc3NpYyIsICJDb21tYW5kbyIsICJEcmFnb25zbGF5ZXIiLCAiRGFya2ZvcmdlIiwgIlZpY3RvcmlvdXMiLCAiV2FycmluZyBLaW5nZG9tcyIsICJGbmF0aWMifSwNClsiSmF4Il0gICAgICAgICAgPSB7IkNsYXNzaWMiLCAiVGhlIE1pZ2h0eSIsICJWYW5kYWwiLCAiQW5nbGVyIiwgIlBBWCIsICJKYXhpbXVzIiwgIlRlbXBsZSIsICJOZW1lc2lzIiwgIlNLVCBUMSIsICJDaHJvbWEgUGFjazogQ3JlYW0iLCAiQ2hyb21hIFBhY2s6IEFtYmVyIiwgIkNocm9tYSBQYWNrOiBCcmljayIsICJXYXJkZW4ifSwNClsiSmF5Y2UiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiRnVsbCBNZXRhbCIsICJEZWJvbmFpciIsICJGb3JzYWtlbiJ9LA0KWyJKaW54Il0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJNYWZpYSIsICJGaXJlY3JhY2tlciIsICJTbGF5ZXIifSwNCiAgLS0gSyANClsiS2FsaXN0YSJdICAgICAgPSB7IkNsYXNzaWMiLCAiQmxvb2QgTW9vbiIsICJDaGFtcGlvbnNoaXAifSwNClsiS2FybWEiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiU3VuIEdvZGRlc3MiLCAiU2FrdXJhIiwgIlRyYWRpdGlvbmFsIiwgIk9yZGVyIG9mIHRoZSBMb3R1cyIsICJXYXJkZW4ifSwNClsiS2FydGh1cyJdICAgICAgPSB7IkNsYXNzaWMiLCAiUGhhbnRvbSIsICJTdGF0dWUgb2YiLCAiR3JpbSBSZWFwZXIiLCAiUGVudGFraWxsIiwgIkZuYXRpYyIsICJDaHJvbWEgUGFjazogQnVybiIsICJDaHJvbWEgUGFjazogQmxpZ2h0IiwgIkNocm9tYSBQYWNrOiBGcm9zdGJpdGUifSwNClsiS2Fzc2FkaW4iXSAgICAgPSB7IkNsYXNzaWMiLCAiRmVzdGl2YWwiLCAiRGVlcCBPbmUiLCAiUHJlLVZvaWQiLCAiSGFyYmluZ2VyIiwgIkNvc21pYyBSZWF2ZXIifSwNClsiS2F0YXJpbmEiXSAgICAgPSB7IkNsYXNzaWMiLCAiTWVyY2VuYXJ5IiwgIlJlZCBDYXJkIiwgIkJpbGdld2F0ZXIiLCAiS2l0dHkgQ2F0IiwgIkhpZ2ggQ29tbWFuZCIsICJTYW5kc3Rvcm0iLCAiU2xheSBCZWxsZSIsICJXYXJyaW5nIEtpbmdkb21zIn0sDQpbIktheWxlIl0gICAgICAgID0geyJDbGFzc2ljIiwgIlNpbHZlciIsICJWaXJpZGlhbiIsICJVbm1hc2tlZCIsICJCYXR0bGVib3JuIiwgIkp1ZGdtZW50IiwgIkFldGhlciBXaW5nIiwgIlJpb3QifSwNClsiS2VubmVuIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiRGVhZGx5IiwgIlN3YW1wIE1hc3RlciIsICJLYXJhdGUiLCAiS2VubmVuIE0uRC4iLCAiQXJjdGljIE9wcyJ9LA0KWyJLaGF6aXgiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJNZWNoYSIsICJHdWFyZGlhbiBvZiB0aGUgU2FuZHMifSwNClsiS2luZHJlZCJdICAgICAgPSB7IkNsYXNzaWMiLCAiU2hhZG93ZmlyZSJ9LA0KWyJLb2dNYXciXSAgICAgICA9IHsiQ2xhc3NpYyIsICJDYXRlcnBpbGxhciIsICJTb25vcmFuIiwgIk1vbmFyY2giLCAiUmVpbmRlZXIiLCAiTGlvbiBEYW5jZSIsICJEZWVwIFNlYSIsICJKdXJhc3NpYyIsICJCYXR0bGVjYXN0In0sDQogIC0tIEwgDQpbIkxlYmxhbmMiXSAgICAgID0geyJDbGFzc2ljIiwgIldpY2tlZCIsICJQcmVzdGlnaW91cyIsICJNaXN0bGV0b2UiLCAiUmF2ZW5ib3JuIn0sDQpbIkxlZVNpbiJdICAgICAgID0geyJDbGFzc2ljIiwgIlRyYWRpdGlvbmFsIiwgIkFjb2x5dGUiLCAiRHJhZ29uIEZpc3QiLCAiTXVheSBUaGFpIiwgIlBvb2wgUGFydHkiLCAiU0tUIFQxIiwgIkNocm9tYSBQYWNrOiBCbGFjayIsICJDaHJvbWEgUGFjazogQmx1ZSIsICJDaHJvbWEgUGFjazogWWVsbG93IiwgIktub2Nrb3V0In0sDQpbIkxlb25hIl0gICAgICAgID0geyJDbGFzc2ljIiwgIlZhbGt5cmllIiwgIkRlZmVuZGVyIiwgIklyb24gU29sYXJpIiwgIlBvb2wgUGFydHkiLCAiQ2hyb21hIFBhY2s6IFBpbmsiLCAiQ2hyb21hIFBhY2s6IEF6dXJlIiwgIkNocm9tYSBQYWNrOiBMZW1vbiIsICJQUk9KRUNUIn0sDQpbIkxpc3NhbmRyYSJdICAgID0geyJDbGFzc2ljIiwgIkJsb29kc3RvbmUiLCAiQmxhZGUgUXVlZW4ifSwNClsiTHVjaWFuIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiSGlyZWQgR3VuIiwgIlN0cmlrZXIiLCAiQ2hyb21hIFBhY2s6IFllbGxvdyIsICJDaHJvbWEgUGFjazogUmVkIiwgIkNocm9tYSBQYWNrOiBCbHVlIiwgIlBST0pFQ1QifSwNClsiTHVsdSJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiQml0dGVyc3dlZXQiLCAiV2lja2VkIiwgIkRyYWdvbiBUcmFpbmVyIiwgIldpbnRlciBXb25kZXIiLCAiUG9vbCBQYXJ0eSJ9LA0KWyJMdXgiXSAgICAgICAgICA9IHsiQ2xhc3NpYyIsICJTb3JjZXJlc3MiLCAiU3BlbGx0aGllZiIsICJDb21tYW5kbyIsICJJbXBlcmlhbCIsICJTdGVlbCBMZWdpb24iLCAiU3RhciBHdWFyZGlhbiJ9LA0KICAtLSBNIA0KWyJNYWxwaGl0ZSJdICAgICA9IHsiQ2xhc3NpYyIsICJTaGFtcm9jayIsICJDb3JhbCBSZWVmIiwgIk1hcmJsZSIsICJPYnNpZGlhbiIsICJHbGFjaWFsIiwgIk1lY2hhIiwgIklyb25zaWRlIn0sDQpbIk1hbHphaGFyIl0gICAgID0geyJDbGFzc2ljIiwgIlZpemllciIsICJTaGFkb3cgUHJpbmNlIiwgIkRqaW5uIiwgIk92ZXJsb3JkIiwgIlNub3cgRGF5In0sDQpbIk1hb2thaSJdICAgICAgID0geyJDbGFzc2ljIiwgIkNoYXJyZWQiLCAiVG90ZW1pYyIsICJGZXN0aXZlIiwgIkhhdW50ZWQiLCAiR29hbGtlZXBlciJ9LA0KWyJNYXN0ZXJZaSJdICAgICA9IHsiQ2xhc3NpYyIsICJBc3Nhc3NpbiIsICJDaG9zZW4iLCAiSW9uaWEiLCAiU2FtdXJhaSBZaSIsICJIZWFkaHVudGVyIiwgIkNocm9tYSBQYWNrOiBHb2xkIiwgIkNocm9tYSBQYWNrOiBBcXVhIiwgIkNocm9tYSBQYWNrOiBDcmltc29uIiwgIlBST0pFQ1QifSwNClsiTWlzc0ZvcnR1bmUiXSAgPSB7IkNsYXNzaWMiLCAiQ293Z2lybCIsICJXYXRlcmxvbyIsICJTZWNyZXQgQWdlbnQiLCAiQ2FuZHkgQ2FuZSIsICJSb2FkIFdhcnJpb3IiLCAiTWFmaWEiLCAiQXJjYWRlIiwgIkNhcHRhaW4ifSwNClsiTW9yZGVrYWlzZXIiXSAgPSB7IkNsYXNzaWMiLCAiRHJhZ29uIEtuaWdodCIsICJJbmZlcm5hbCIsICJQZW50YWtpbGwiLCAiTG9yZCIsICJLaW5nIG9mIENsdWJzIn0sDQpbIk1vcmdhbmEiXSAgICAgID0geyJDbGFzc2ljIiwgIkV4aWxlZCIsICJTaW5mdWwgU3VjY3VsZW5jZSIsICJCbGFkZSBNaXN0cmVzcyIsICJCbGFja3Rob3JuIiwgIkdob3N0IEJyaWRlIiwgIlZpY3RvcmlvdXMiLCAiQ2hyb21hIFBhY2s6IFRveGljIiwgIkNocm9tYSBQYWNrOiBQYWxlIiwgIkNocm9tYSBQYWNrOiBFYm9ueSIsIkx1bmFyIn0sDQogIC0tIE4gDQpbIk5hbWkiXSAgICAgICAgID0geyJDbGFzc2ljIiwgIktvaSIsICJSaXZlciBTcGlyaXQiLCAiVXJmIiwgIkNocm9tYSBQYWNrOiBTdW5iZWFtIiwgIkNocm9tYSBQYWNrOiBTbW9rZSIsICJDaHJvbWEgUGFjazogVHdpbGlnaHQifSwNClsiTmFzdXMiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiR2FsYWN0aWMiLCAiUGhhcmFvaCIsICJEcmVhZGtuaWdodCIsICJSaW90IEstOSIsICJJbmZlcm5hbCIsICJBcmNoZHVrZSIsICJDaHJvbWEgUGFjazogQnVybiIsICJDaHJvbWEgUGFjazogQmxpZ2h0IiwgIkNocm9tYSBQYWNrOiBGcm9zdGJpdGUiLH0sDQpbIk5hdXRpbHVzIl0gICAgID0geyJDbGFzc2ljIiwgIkFieXNzYWwiLCAiU3VidGVycmFuZWFuIiwgIkFzdHJvTmF1dGlsdXMiLCAiV2FyZGVuIn0sDQpbIk5pZGFsZWUiXSAgICAgID0geyJDbGFzc2ljIiwgIlNub3cgQnVubnkiLCAiTGVvcGFyZCIsICJGcmVuY2ggTWFpZCIsICJQaGFyYW9oIiwgIkJld2l0Y2hpbmciLCAiSGVhZGh1bnRlciIsICJXYXJyaW5nIEtpbmdkb21zIn0sDQpbIk5vY3R1cm5lIl0gICAgID0geyJDbGFzc2ljIiwgIkZyb3plbiBUZXJyb3IiLCAiVm9pZCIsICJSYXZhZ2VyIiwgIkhhdW50aW5nIiwgIkV0ZXJudW0ifSwNClsiTnVudSJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiU2FzcXVhdGNoIiwgIldvcmtzaG9wIiwgIkdydW5neSIsICJOdW51IEJvdCIsICJEZW1vbGlzaGVyIiwgIlRQQSIsICJab21iaWUifSwNCiAgLS0gTyANClsiT2xhZiJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiRm9yc2FrZW4iLCAiR2xhY2lhbCIsICJCcm9sYWYiLCAiUGVudGFraWxsIiwgIk1hcmF1ZGVyIn0sDQpbIk9yaWFubmEiXSAgICAgID0geyJDbGFzc2ljIiwgIkdvdGhpYyIsICJTZXduIENoYW9zIiwgIkJsYWRlY3JhZnQiLCAiVFBBIiwgIldpbnRlciBXb25kZXIifSwNCiAgLS0gUCANClsiUGFudGhlb24iXSAgICAgPSB7IkNsYXNzaWMiLCAiTXlybWlkb24iLCAiUnV0aGxlc3MiLCAiUGVyc2V1cyIsICJGdWxsIE1ldGFsIiwgIkdsYWl2ZSBXYXJyaW9yIiwgIkRyYWdvbnNsYXllciIsICJTbGF5ZXIifSwNClsiUG9wcHkiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiTm94dXMiLCAiTG9sbGlwb3BweSIsICJCbGFja3NtaXRoIiwgIlJhZ2RvbGwiLCAiQmF0dGxlIFJlZ2FsaWEiLCAiU2NhcmxldCBIYW1tZXIifSwNCiAgLS0gUSANClsiUXVpbm4iXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiUGhvZW5peCIsICJXb2FkIFNjb3V0IiwgIkNvcnNhaXIifSwNCiAgLS0gUiANClsiUmFtbXVzIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiS2luZyIsICJDaHJvbWUiLCAiTW9sdGVuIiwgIkZyZWxqb3JkIiwgIk5pbmphIiwgIkZ1bGwgTWV0YWwiLCAiR3VhcmRpYW4gb2YgdGhlIFNhbmRzIn0sDQpbIlJla3NhaSJdICAgICAgID0geyJDbGFzc2ljIiwgIkV0ZXJudW0iLCAiUG9vbCBQYXJ0eSJ9LA0KWyJSZW5la3RvbiJdICAgICA9IHsiQ2xhc3NpYyIsICJHYWxhY3RpYyIsICJPdXRiYWNrIiwgIkJsb29kZnVyeSIsICJSdW5lIFdhcnMiLCAiU2NvcmNoZWQgRWFydGgiLCAiUG9vbCBQYXJ0eSIsICJTY29yY2hlZCBFYXJ0aCIsICJQcmVoaXN0b3JpYyJ9LA0KWyJSZW5nYXIiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJIZWFkaHVudGVyIiwgIk5pZ2h0IEh1bnRlciIsICJTU1cifSwNClsiUml2ZW4iXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiUmVkZWVtZWQiLCAiQ3JpbXNvbiBFbGl0ZSIsICJCYXR0bGUgQnVubnkiLCAiQ2hhbXBpb25zaGlwIiwgIkRyYWdvbmJsYWRlIiwgIkFyY2FkZSJ9LA0KWyJSdW1ibGUiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJSdW1ibGUgaW4gdGhlIEp1bmdsZSIsICJCaWxnZXJhdCIsICJTdXBlciBHYWxheHkifSwNClsiUnl6ZSJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiSHVtYW4iLCAiVHJpYmFsIiwgIlVuY2xlIiwgIlRyaXVtcGhhbnQiLCAiUHJvZmVzc29yIiwgIlpvbWJpZSIsICJEYXJrIENyeXN0YWwiLCAiUGlyYXRlIiwgIldoaXRlYmVhcmQifSwNCiAgLS0gUyANClsiU2VqdWFuaSJdICAgICAgPSB7IkNsYXNzaWMiLCAiU2FicmV0dXNrIiwgIkRhcmtyaWRlciIsICJUcmFkaXRpb25hbCIsICJCZWFyIENhdmFscnkiLCAiUG9ybyBSaWRlciJ9LA0KWyJTaGFjbyJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJNYWQgSGF0dGVyIiwgIlJveWFsIiwgIk51dGNyYWNrbyIsICJXb3Jrc2hvcCIsICJBc3lsdW0iLCAiTWFza2VkIiwgIldpbGQgQ2FyZCJ9LA0KWyJTaGVuIl0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJGcm96ZW4iLCAiWWVsbG93IEphY2tldCIsICJTdXJnZW9uIiwgIkJsb29kIE1vb24iLCAiV2FybG9yZCIsICJUUEEifSwNClsiU2h5dmFuYSJdICAgICAgPSB7IkNsYXNzaWMiLCAiSXJvbnNjYWxlIiwgIkJvbmVjbGF3IiwgIkRhcmtmbGFtZSIsICJJY2UgRHJha2UiLCAiQ2hhbXBpb25zaGlwIn0sDQpbIlNpbmdlZCJdICAgICAgID0geyJDbGFzc2ljIiwgIlJpb3QgU3F1YWQiLCAiSGV4dGVjaCIsICJTdXJmZXIiLCAiTWFkIFNjaWVudGlzdCIsICJBdWdtZW50ZWQiLCAiU25vdyBEYXkiLCAiU1NXIn0sDQpbIlNpb24iXSAgICAgICAgID0geyJDbGFzc2ljIiwgIkhleHRlY2giLCAiQmFyYmFyaWFuIiwgIkx1bWJlcmphY2siLCAiV2FybW9uZ2VyIn0sDQpbIlNpdmlyIl0gICAgICAgID0geyJDbGFzc2ljIiwgIldhcnJpb3IgUHJpbmNlc3MiLCAiU3BlY3RhY3VsYXIiLCAiSHVudHJlc3MiLCAiQmFuZGl0IiwgIlBBWCIsICJTbm93c3Rvcm0iLCAiV2FyZGVuIiwgIlZpY3RvcmlvdXMifSwNClsiU2thcm5lciJdICAgICAgPSB7IkNsYXNzaWMiLCAiU2FuZHNjb3VyZ2UiLCAiRWFydGhydW5lIiwgIkJhdHRsZWNhc3QgQWxwaGEiLCAiR3VhcmRpYW4gb2YgdGhlIFNhbmRzIn0sDQpbIlNvbmEiXSAgICAgICAgID0geyJDbGFzc2ljIiwgIk11c2UiLCAiUGVudGFraWxsIiwgIlNpbGVudCBOaWdodCIsICJHdXFpbiIsICJBcmNhZGUiLCAiREoifSwNClsiU29yYWthIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiRHJ5YWQiLCAiRGl2aW5lIiwgIkNlbGVzdGluZSIsICJSZWFwZXIiLCAiT3JkZXIgb2YgdGhlIEJhbmFuYSJ9LA0KWyJTd2FpbiJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJOb3J0aGVybiBGcm9udCIsICJCaWxnZXdhdGVyIiwgIlR5cmFudCJ9LA0KWyJTeW5kcmEiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJKdXN0aWNhciIsICJBdGxhbnRlYW4iLCAiUXVlZW4gb2YgRGlhbW9uZHMifSwNCiAgLS0gVCANClsiVGFobUtlbmNoIl0gICAgPSB7IkNsYXNzaWMiLCAiTWFzdGVyIENoZWYifSwNClsiVGFsb24iXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiUmVuZWdhZGUiLCAiQ3JpbXNvbiBFbGl0ZSIsICJEcmFnb25ibGFkZSIsICJTU1cifSwNClsiVGFyaWMiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiRW1lcmFsZCIsICJBcm1vciBvZiB0aGUgRmlmdGggQWdlIiwgIkJsb29kc3RvbmUifSwNClsiVGVlbW8iXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiSGFwcHkgRWxmIiwgIlJlY29uIiwgIkJhZGdlciIsICJBc3Ryb25hdXQiLCAiQ290dG9udGFpbCIsICJTdXBlciIsICJQYW5kYSIsICJPbWVnYSBTcXVhZCJ9LA0KWyJUaHJlc2giXSAgICAgICA9IHsiQ2xhc3NpYyIsICJEZWVwIFRlcnJvciIsICJDaGFtcGlvbnNoaXAiLCAiQmxvb2QgTW9vbiIsICJTU1cifSwNClsiVHJpc3RhbmEiXSAgICAgPSB7IkNsYXNzaWMiLCAiUmlvdCBHaXJsIiwgIkVhcm5lc3QgRWxmIiwgIkZpcmVmaWdodGVyIiwgIkd1ZXJpbGxhIiwgIkJ1Y2NhbmVlciIsICJSb2NrZXQgR2lybCIsICJDaHJvbWEgUGFjazogTmF2eSIsICJDaHJvbWEgUGFjazogUHVycGxlIiwgIkNocm9tYSBQYWNrOiBPcmFuZ2UiLCAiRHJhZ29uIFRyYWluZXIifSwNClsiVHJ1bmRsZSJdICAgICAgPSB7IkNsYXNzaWMiLCAiTGlsJyBTbHVnZ2VyIiwgIkp1bmt5YXJkIiwgIlRyYWRpdGlvbmFsIiwgIkNvbnN0YWJsZSJ9LA0KWyJUcnluZGFtZXJlIl0gICA9IHsiQ2xhc3NpYyIsICJIaWdobGFuZCIsICJLaW5nIiwgIlZpa2luZyIsICJEZW1vbmJsYWRlIiwgIlN1bHRhbiIsICJXYXJyaW5nIEtpbmdkb21zIiwgIk5pZ2h0bWFyZSJ9LA0KWyJUd2lzdGVkRmF0ZSJdICA9IHsiQ2xhc3NpYyIsICJQQVgiLCAiSmFjayBvZiBIZWFydHMiLCAiVGhlIE1hZ25pZmljZW50IiwgIlRhbmdvIiwgIkhpZ2ggTm9vbiIsICJNdXNrZXRlZXIiLCAiVW5kZXJ3b3JsZCIsICJSZWQgQ2FyZCIsICJDdXRwdXJzZSJ9LA0KWyJUd2l0Y2giXSAgICAgICA9IHsiQ2xhc3NpYyIsICJLaW5ncGluIiwgIldoaXN0bGVyIFZpbGxhZ2UiLCAiTWVkaWV2YWwiLCAiR2FuZ3N0ZXIiLCAiVmFuZGFsIiwgIlBpY2twb2NrZXQiLCAiU1NXIn0sDQogIC0tIFUgDQpbIlVkeXIiXSAgICAgICAgID0geyJDbGFzc2ljIiwgIkJsYWNrIEJlbHQiLCAiUHJpbWFsIiwgIlNwaXJpdCBHdWFyZCIsICJEZWZpbml0ZWx5IE5vdCJ9LA0KWyJVcmdvdCJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJHaWFudCBFbmVteSBDcmFiZ290IiwgIkJ1dGNoZXIiLCAiQmF0dGxlY2FzdCJ9LA0KICAtLSBWIA0KWyJWYXJ1cyJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJCbGlnaHQgQ3J5c3RhbCIsICJBcmNsaWdodCIsICJBcmN0aWMgT3BzIiwgIkhlYXJ0c2Vla2VyIiwgIlN3aWZ0Ym9sdCJ9LA0KWyJWYXluZSJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJWaW5kaWNhdG9yIiwgIkFyaXN0b2NyYXQiLCAiRHJhZ29uc2xheWVyIiwgIkhlYXJ0c2Vla2VyIiwgIlNLVCBUMSIsICJBcmNsaWdodCIsICJDaHJvbWEgUGFjazogR3JlZW4iLCAiQ2hyb21hIFBhY2s6IFJlZCIsICJDaHJvbWEgUGFjazogU2lsdmVyIn0sDQpbIlZlaWdhciJdICAgICAgID0geyJDbGFzc2ljIiwgIldoaXRlIE1hZ2UiLCAiQ3VybGluZyIsICJWZWlnYXIgR3JleWJlYXJkIiwgIkxlcHJlY2hhdW4iLCAiQmFyb24gVm9uIiwgIlN1cGVyYiBWaWxsYWluIiwgIkJhZCBTYW50YSIsICJGaW5hbCBCb3NzIn0sDQpbIlZlbGtveiJdICAgICAgID0geyJDbGFzc2ljIiwgIkJhdHRsZWNhc3QiLCAiQXJjbGlnaHQifSwNClsiVmkiXSAgICAgICAgICAgPSB7IkNsYXNzaWMiLCAiTmVvbiBTdHJpa2UiLCAiT2ZmaWNlciIsICJEZWJvbmFpciIsICJEZW1vbiJ9LA0KWyJWaWt0b3IiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJGdWxsIE1hY2hpbmUiLCAiUHJvdG90eXBlIiwgIkNyZWF0b3IifSwNClsiVmxhZGltaXIiXSAgICAgPSB7IkNsYXNzaWMiLCAiQ291bnQiLCAiTWFycXVpcyIsICJOb3NmZXJhdHUiLCAiVmFuZGFsIiwgIkJsb29kIExvcmQiLCAiU291bHN0ZWFsZXIiLCAiQWNhZGVteSJ9LA0KWyJWb2xpYmVhciJdICAgICA9IHsiQ2xhc3NpYyIsICJUaHVuZGVyIExvcmQiLCAiTm9ydGhlcm4gU3Rvcm0iLCAiUnVuZWd1YXJkIiwgIkNhcHRhaW4ifSwNCiAgLS0gVyANClsiV2Fyd2ljayJdICAgICAgPSB7IkNsYXNzaWMiLCAiR3JleSIsICJVcmYgdGhlIE1hbmF0ZWUiLCAiQmlnIEJhZCIsICJUdW5kcmEgSHVudGVyIiwgIkZlcmFsIiwgIkZpcmVmYW5nIiwgIkh5ZW5hIiwgIk1hcmF1ZGVyIn0sDQpbIk1vbmtleUtpbmciXSAgID0geyJDbGFzc2ljIiwgIlZvbGNhbmljIiwgIkdlbmVyYWwiLCAiSmFkZSBEcmFnb24iLCAiVW5kZXJ3b3JsZCIsIlJhZGlhbnQifSwNCiAgLS0gWCANClsiWGVyYXRoIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiUnVuZWJvcm4iLCAiQmF0dGxlY2FzdCIsICJTY29yY2hlZCBFYXJ0aCIsICJHdWFyZGlhbiBvZiB0aGUgU2FuZHMifSwNClsiWGluWmhhbyJdICAgICAgPSB7IkNsYXNzaWMiLCAiQ29tbWFuZG8iLCAiSW1wZXJpYWwiLCAiVmlzY2VybyIsICJXaW5nZWQgSHVzc2FyIiwgIldhcnJpbmcgS2luZ2RvbXMiLCAiU2VjcmV0IEFnZW50In0sDQogIC0tIFkgDQpbIllhc3VvIl0gICAgICAgID0geyJDbGFzc2ljIiwgIkhpZ2ggTm9vbiIsICJQUk9KRUNUIn0sDQpbIllvcmljayJdICAgICAgID0geyJDbGFzc2ljIiwgIlVuZGVydGFrZXIiLCAiUGVudGFraWxsIn0sDQogIC0tIFogDQpbIlphYyJdICAgICAgICAgID0geyJDbGFzc2ljIiwgIlNwZWNpYWwgV2VhcG9uIiwgIlBvb2wgUGFydHkiLCAiQ2hyb21hIFBhY2s6IE9yYW5nZSIsICJDaHJvbWEgUGFjazogQnViYmxlZ3VtIiwgIkNocm9tYSBQYWNrOiBIb25leSJ9LA0KWyJaZWQiXSAgICAgICAgICA9IHsiQ2xhc3NpYyIsICJTaG9ja2JsYWRlIiwgIlNLVCBUMSIsICJQUk9KRUNUIn0sDQpbIlppZ2dzIl0gICAgICAgID0geyJDbGFzc2ljIiwgIk1hZCBTY2llbnRpc3QiLCAiTWFqb3IiLCAiUG9vbCBQYXJ0eSIsICJTbm93IERheSIsICJNYXN0ZXIgQXJjYW5pc3QifSwNClsiWmlsZWFuIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiT2xkIFNhaW50IiwgIkdyb292eSIsICJTaHVyaW1hIERlc2VydCIsICJUaW1lIE1hY2hpbmUiLCAiQmxvb2QgTW9vbiJ9LA0KWyJaeXJhIl0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJXaWxkZmlyZSIsICJIYXVudGVkIiwgIlNLVCBUMSJ9LA0KfQ0KbG9jYWwgZnVuY3Rpb24gbG9nREwobXNnKQ0KcHJpbnQoIjxmb250IGNvbG9yPVwiI2U4OGViY1wiPltEaXZpbmVMaWJdPC9mb250PiAiLi5tc2cpDQplbmQNCg0KY2xhc3MgJ0RJbmZvJw0KREluZm8uTkFNRSA9ICJEaXZpbmVMaWIiDQpESW5mby5WRVJTSU9OID0gMC4xDQpESW5mby5TU0wgPSB0cnVlDQpESW5mby5TQVZFX1BBVEggPSBMSUJfUEFUSC4uIkRpdmluZUxpYi5sdWEiDQpESW5mby5IT1NUX1VSTCA9ICdyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJw0KREluZm8uU0NSSVBUX1BBVEggPSAnL1Bld1Bld1BldzIvQm9ML21hc3Rlci9QZXd0aWxpdHkubHVhJw0KREluZm8uVkVSU0lPTl9QQVRIID0gJy9QZXdQZXdQZXcyL0JvTC9tYXN0ZXIvVmVyc2lvbnMvUGV3dGlsaXR5LnZlcnNpb24nDQoNCmNsYXNzICdERHJhdycNCkREcmF3LmNmZyA9IG5pbA0KRERyYXcuUkFOR0VTX0NPTE9SX01BUFBJTkcgPSB7USA9IHsyNTUsMjU1LCAxODMsNTF9ICwgVyA9IHsyNTUsNTIsMTUyLDIxOX0gLCBFID17MjU1LDQsMTIwLDEyMH0gLCBSID17MjU1LDE5NCwzMywzM30sSSA9IHsyNTUsMjQ1LDExNSw1NH19DQogIEREcmF3LmluY2x1ZGUgPSBmdW5jdGlvbihjZmcsLi4uKQ0KCUREcmF3LmNmZyA9IGNmZw0KCUREcmF3LmNmZzphZGRTdWJNZW51KCJEcmF3aW5nIiwiZHJhd2luZyIpDQoJRERyYXcuY2ZnLmRyYXdpbmc6YWRkUGFyYW0oImRyYXdSYW5nZXMiLCJEcmF3IFNwZWxsIFJhbmdlcyIsU0NSSVBUX1BBUkFNX09OT0ZGLHRydWUpDQoJRERyYXcuY2ZnLmRyYXdpbmc6YWRkU3ViTWVudSgiRHJhdyBTcGVsbCBSYW5nZXMgU2V0dGluZ3MiLCJyYW5nZXNDb2xvcnMiKQ0KCUREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9yczphZGRQYXJhbSgiZHJhd1JhbmdlIi4uX1EsIkRyYXcgUSBSYW5nZSIsU0NSSVBUX1BBUkFNX09OT0ZGLHRydWUpDQoJRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzOmFkZFBhcmFtKCIiLi5fUSwiUSIsU0NSSVBUX1BBUkFNX0NPTE9SLCBERHJhdy5SQU5HRVNfQ09MT1JfTUFQUElORy5RKQ0KCUREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9yczphZGRQYXJhbSgiZHJhd1JhbmdlIi4uX1csIkRyYXcgVyBSYW5nZSIsU0NSSVBUX1BBUkFNX09OT0ZGLGZhbHNlKQ0KCUREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9yczphZGRQYXJhbSgiIi4uX1csIlciLFNDUklQVF9QQVJBTV9DT0xPUiwgRERyYXcuUkFOR0VTX0NPTE9SX01BUFBJTkcuVykNCglERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnM6YWRkUGFyYW0oImRyYXdSYW5nZSIuLl9FLCJEcmF3IEUgUmFuZ2UiLFNDUklQVF9QQVJBTV9PTk9GRixmYWxzZSkNCglERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnM6YWRkUGFyYW0oIiIuLl9FLCJFIixTQ1JJUFRfUEFSQU1fQ09MT1IsIEREcmF3LlJBTkdFU19DT0xPUl9NQVBQSU5HLkUpDQoJRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzOmFkZFBhcmFtKCJkcmF3UmFuZ2UiLi5fUiwiRHJhdyBSIFJhbmdlIixTQ1JJUFRfUEFSQU1fT05PRkYsZmFsc2UpDQoJRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzOmFkZFBhcmFtKCIiLi5fUiwiUiIsU0NSSVBUX1BBUkFNX0NPTE9SLCBERHJhdy5SQU5HRVNfQ09MT1JfTUFQUElORy5SKQ0KCWxvY2FsIGlnbml0ZVNsb3QgPSBEVXRpbC5nZXRTdW1tb25lclNsb3QoInN1bW1vbmVyZG90IikNCglpZiBpZ25pdGVTbG90IHRoZW4NCgkJRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzOmFkZFBhcmFtKCJkcmF3UmFuZ2UiLi5pZ25pdGVTbG90LCJEcmF3IElnbml0ZSBSYW5nZSIsU0NSSVBUX1BBUkFNX09OT0ZGLGZhbHNlKQ0KCQlERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnM6YWRkUGFyYW0oIiIuLmlnbml0ZVNsb3QsIkkiLFNDUklQVF9QQVJBTV9DT0xPUiwgRERyYXcuUkFOR0VTX0NPTE9SX01BUFBJTkcuSSkNCgllbmQNCglERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnM6YWRkUGFyYW0oImFscGhhIiwiVHJhbnNwYXJlbmN5IiwgU0NSSVBUX1BBUkFNX1NMSUNFLDI1NSwwLDI1NSwwKQ0KCUREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9yczphZGRQYXJhbSgid2lkdGgiLCJUaGlja25lc3MiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMSwxLDUsMCkNCglERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnM6YWRkUGFyYW0oInNhbXBsaW5nIiwiU2FtcGxpbmciLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMTgwLDEsNTAwLDApDQoJRERyYXcuY2ZnLmRyYXdpbmc6YWRkUGFyYW0oImRyYXdISW5kaWNhdG9yIiwiRHJhdyBIZWFsdGhiYXIgSW5kaWNhdG9yIixTQ1JJUFRfUEFSQU1fT05PRkYsdHJ1ZSkNCglERHJhdy5jZmcuZHJhd2luZzphZGRTdWJNZW51KCJEcmF3IEhlYWx0aGJhciBJbmRpY2F0b3IgU2V0dGluZ3MiLCJoSW5kaWNhdG9yU2V0dGluZ3MiKQ0KCUREcmF3LmNmZy5kcmF3aW5nLmhJbmRpY2F0b3JTZXR0aW5nczphZGRQYXJhbSgiZHJhd0luUmFuZ2UiLCJEcmF3IE9ubHkgd2hlbiBlbmVteSBpcyBpbiBzcGVsbCByYW5nZSIsU0NSSVBUX1BBUkFNX09OT0ZGLGZhbHNlKQ0KCUREcmF3LmNmZy5kcmF3aW5nLmhJbmRpY2F0b3JTZXR0aW5nczphZGRQYXJhbSgiZHJhd05vdE9uQ0QiLCJEcmF3IE9ubHkgd2hlbiBTcGVsbCBpcyBub3Qgb24gQ0QiLFNDUklQVF9QQVJBTV9PTk9GRix0cnVlKQ0KCUREcmF3LmNmZy5kcmF3aW5nLmhJbmRpY2F0b3JTZXR0aW5nczphZGRQYXJhbSgic2l6ZSIsIkhlYWx0aGJhciBJbmRpY2F0b3JzIFNpemUiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMTUsMTAsMjIsMCkNCglERHJhdy5jZmcuZHJhd2luZy5oSW5kaWNhdG9yU2V0dGluZ3M6YWRkUGFyYW0oImhlaWdodCIsIkhlYWx0aGJhciBJbmRpY2F0b3JzIEhlaWdodCIsIFNDUklQVF9QQVJBTV9TTElDRSwxNSwxLDIwMCwwKQ0KCUREcmF3LmNmZy5kcmF3aW5nLmhJbmRpY2F0b3JTZXR0aW5nczphZGRQYXJhbSgiYWxwaGEiLCJIZWFsdGhiYXIgT3ZlcmRyYXcgVHJhbnNwYXJlbmN5IiwgU0NSSVBUX1BBUkFNX1NMSUNFLDExNSwwLDI1NSwwKQ0KCQ0KCWxvY2FsIHNwZWxscyA9IHRhYmxlLnBhY2soLi4uKQ0KCUFkZERyYXdDYWxsYmFjayhmdW5jdGlvbigpDQoJCWlmIG15SGVyby5kZWFkIG9yIG5vdCBERHJhdy5jZmcuZHJhd2luZy5kcmF3UmFuZ2VzIHRoZW4gcmV0dXJuIGVuZA0KCQlsb2NhbCBhbHBoYSA9IEREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9ycy5hbHBoYQ0KCQlsb2NhbCB3aWR0aCA9IEREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9ycy53aWR0aA0KCQlsb2NhbCBzYW1wbGluZyA9IEREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9ycy5zYW1wbGluZw0KCQlmb3IgaSA9IDEsIHNwZWxscy5uIGRvDQoJCWxvY2FsIHNwZWxsID0gc3BlbGxzW2ldDQoJCSAgICBpZiBzcGVsbCBhbmQgRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzWyJkcmF3UmFuZ2UiLi5zcGVsbC5pZHhdIGFuZCBteUhlcm86Q2FuVXNlU3BlbGwoc3BlbGwuaWR4KSA9PSBSRUFEWSB0aGVuDQoJCQkJbG9jYWwgY29sb3IgPSBERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnNbIiIuLnNwZWxsLmlkeF0NCgkJCQlERHJhdy5kcmF3TEZTKG15SGVyby54LCBteUhlcm8ueSwgbXlIZXJvLnosIHNwZWxsLnJhbmdlLHdpZHRoLEFSR0IoYWxwaGEsY29sb3JbMl0sY29sb3JbM10sY29sb3JbNF0pLHNhbXBsaW5nLGZhbHNlLHRydWUpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KICBlbmQNCiAgDQogIA0KICBERHJhdy5nZXRIZWF0Q29sb3IgPSBmdW5jdGlvbiAodmFsdWUsbWluLG1heCxhbHBoYSkgICAgIA0KCWxvY2FsIHZhbCA9ICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKTsNCglyZXR1cm4gQVJHQihhbHBoYSwgRkxPT1IoMjU1ICogdmFsKSxGTE9PUigyNTUgKiAoMSAtIHZhbCkpLCAwKTsNCiAgZW5kDQogIA0KIEREcmF3LmRyYXdMaW5lcyA9IGZ1bmN0aW9uKHB0cyx3aWR0aCxjb2xvciwgc2VnTGVuZ3RoKQ0KICBsb2NhbCBzZWdDb3VudGVyID0gMA0KICBsb2NhbCBkcmF3ID0gZmFsc2UNCiAgZm9yIGkgPSAyLCNwdHMgZG8NCiAgIGlmIHNlZ0xlbmd0aCB0aGVuDQogICAgICBpZiBzZWdDb3VudGVyID09IHNlZ0xlbmd0aCB0aGVuDQogICAgICAgIGRyYXcgPSBub3QgZHJhdw0KICAgICAgICBzZWdDb3VudGVyID0gMA0KICAgICAgZWxzZQ0KICAgICAgICBzZWdDb3VudGVyID0gc2VnQ291bnRlciArIDEgDQogICAgICBlbmQNCiAgICBlbmQNCiAgICANCiAgICBpZiAobm90IHNlZ0xlbmd0aCkgb3IgKGRyYXcpIHRoZW4NCiAgICAgIERyYXdMaW5lM0QocHRzW2ldLngscHRzW2ldLnkscHRzW2ldLnoscHRzW2ktMV0ueCxwdHNbaS0xXS55LHB0c1tpLTFdLnosd2lkdGgsY29sb3IpDQogICAgIC0tRHJhd0xpbmUocHRzW2ldLngsIHB0c1tpXS55LCBwdHNbaSAtIDFdLngsIHB0c1tpIC0gMV0ueSwgd2lkdGgsY29sb3IpDQogICAgZW5kIA0KICBlbmQNCmVuZA0KDQpmdW5jdGlvbiBERHJhdy5nZXRUcmFuc0NvbG9yKHRyYW5zLGNvbG9yKQ0KCXJldHVybiAgdG9udW1iZXIoc3RyaW5nLmZvcm1hdCgiJTAyWCIsIjB4Ii4udHJhbnMuLmNvbG9yKSwxNikNCmVuZA0KDQpERHJhdy5EcmF3Q2lyY2xlQ3VzdG9tID0gZnVuY3Rpb24oeCwgeSwgeiwgcmFkaXVzLCB3aWR0aCwgY29sb3IsIGNob3JkbGVuZ3RoLHZpc2lvbkNhcmUsIHNlZ0xlbmd0aCkNCiAgcmFkaXVzID0gcmFkaXVzIG9yIDMwMA0KICBxdWFsaXR5ID0gbWF0aC5tYXgoOCxyb3VuZCgxODAvbWF0aC5kZWcoKG1hdGguYXNpbigoY2hvcmRsZW5ndGgvKDIqcmFkaXVzKSkpKSkpKQ0KICBxdWFsaXR5ID0gMiAqIG1hdGgucGkgLyBxdWFsaXR5DQogIHJhZGl1cyA9IHJhZGl1cyouOTINCiAgbG9jYWwgcG9pbnRzID0ge30NCiAgZm9yIHRoZXRhID0gMCwgMiAqIG1hdGgucGkgKyBxdWFsaXR5LCBxdWFsaXR5IGRvDQogICAgbG9jYWwgcG9zPSBEM0RYVkVDVE9SMyh4ICsgcmFkaXVzICogbWF0aC5jb3ModGhldGEpLCB5LCB6IC0gcmFkaXVzICogbWF0aC5zaW4odGhldGEpKQ0KICAgIGlmIHZpc2lvbkNhcmUgdGhlbg0KICAgICAgbG9jYWwgYmxvY2tlZCA9IHRydWUNCiAgICAgIGZvciBpID0gMjAwLHJhZGl1cywxNSBkbw0KICAgICAgICBsb2NhbCB2YWxpZFBvcyA9IEQzRFhWRUNUT1IzKHggKyBpICogbWF0aC5jb3ModGhldGEpLCB5LCB6IC0gaSAqIG1hdGguc2luKHRoZXRhKSkNCiAgICAgICAgaWYgYmxvY2tlZCBhbmQgKElzR3Jhc3ModmFsaWRQb3MpICBvciBJc1dhbGwodmFsaWRQb3MpKSB0aGVuDQogICAgICAgICAgcG9zID0gdmFsaWRQb3MNCiAgICAgICAgICBibG9ja2VkID0gZmFsc2UNCiAgICAgICAgZW5kDQogICAgICBlbmQNCiAgICBlbmQNCiAgIC0tIGxvY2FsIGMgPSBXb3JsZFRvU2NyZWVuKHBvcykNCiAgICBwb2ludHNbI3BvaW50cyArIDFdID0gRDNEWFZFQ1RPUjMocG9zLngsIHBvcy55LHBvcy56KQ0KICBlbmQNCiAgRERyYXcuZHJhd0xpbmVzKHBvaW50cywgd2lkdGggb3IgMSwgY29sb3Igb3IgIDB4QkJmZjY2MDAsc2VnTGVuZ3RoKQ0KZW5kDQoNCmZ1bmN0aW9uIHJvdW5kKG51bSkNCiAgaWYgbnVtID49IDAgdGhlbiByZXR1cm4gbWF0aC5mbG9vcihudW0rLjUpIGVsc2UgcmV0dXJuIG1hdGguY2VpbChudW0tLjUpIGVuZA0KZW5kDQoNCiBERHJhdy5kcmF3TEZTID0gZnVuY3Rpb24oeCwgeSwgeiwgcmFkaXVzLHdpZHRoLGNvbG9yLGNob3JkTGVuZ3RoLHZpc2lvbkNhcmUsYWx3YXlzRHJhdyxzZWdMZW5ndGgpDQogIGxvY2FsIHZQb3MxID0gVmVjdG9yKHgsIHksIHopDQogIGxvY2FsIHZQb3MyID0gVmVjdG9yKGNhbWVyYVBvcy54LCBjYW1lcmFQb3MueSwgY2FtZXJhUG9zLnopDQogIGxvY2FsIHRQb3MgPSB2UG9zMSAtICh2UG9zMSAtIHZQb3MyKTpub3JtYWxpemVkKCkgKiByYWRpdXMNCiAgbG9jYWwgc1BvcyA9IFdvcmxkVG9TY3JlZW4oRDNEWFZFQ1RPUjModFBvcy54LCB0UG9zLnksIHRQb3MueikpDQogIGlmIGFsd2F5c0RyYXcgb3IgT25TY3JlZW4oeyB4ID0gc1Bvcy54LCB5ID0gc1Bvcy55IH0sIHsgeCA9IHNQb3MueCwgeSA9IHNQb3MueSB9KSAgdGhlbg0KICAgIEREcmF3LkRyYXdDaXJjbGVDdXN0b20oeCwgeSwgeiwgcmFkaXVzLCB3aWR0aCwgY29sb3IsY2hvcmRMZW5ndGgsdmlzaW9uQ2FyZSxzZWdMZW5ndGgpDQogIGVuZA0KZW5kDQpjbGFzcyAnRFByZWRpY3Rpb25zJw0KIA0KCURQcmVkaWN0aW9ucy5kUHJlZCxEUHJlZGljdGlvbnMua1ByZWQsRFByZWRpY3Rpb25zLmZoUHJlZCxEUHJlZGljdGlvbnMudlByZWQgPSBuaWwsbmlsLG5pbCxuaWwNCglEUHJlZGljdGlvbnMuaW5jbHVkZVByZWQgPSBmYWxzZQ0KCURQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPSBuaWwNCglEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMgPSB7ZHByZWQgPSBmYWxzZSxrcHJlZCA9IGZhbHNlLGZoID0gZmFsc2UsIHZwcmVkID0gZmFsc2V9DQoJRFByZWRpY3Rpb25zLmluY2x1ZGVQcmVkaWN0aW9uID0gZnVuY3Rpb24oY2ZnKSAgDQoJCURQcmVkaWN0aW9ucy5jZmcgPSBjZmcNCgkJRFByZWRpY3Rpb25zLmluY2x1ZGVQcmVkID0gdHJ1ZQ0KCQlEUHJlZGljdGlvbnMuY2ZnOmFkZFN1Yk1lbnUoIlByZWRpY3Rpb24iLCJwcmVkIikNCgkJRFByZWRpY3Rpb25zLmNmZy5wcmVkOmFkZFBhcmFtKCJwcmVkaWN0aW9uIiwgIlNlbGVjdCAiLCBTQ1JJUFRfUEFSQU1fTElTVCwgMSwgeyAiRGl2aW5lIFByZWQiLCJGSCBQcmVkIiwiVlByZWQifSkNCgkJRFByZWRpY3Rpb25zLmNmZy5wcmVkOmFkZFBhcmFtKCJoaXRjaGFuY2UiLCJRIEhpdENoYW5jZSAlID49IiwgU0NSSVBUX1BBUkFNX1NMSUNFLDUwLDEsMTAwLDApDQoJCUFkZFRpY2tDYWxsYmFjayhmdW5jdGlvbigpDQoJCQlpZiBEUHJlZGljdGlvbnMuaW5jbHVkZVByZWQgdGhlbiANCgkJCQlpZiBEUHJlZGljdGlvbnMuY2ZnLnByZWQucHJlZGljdGlvbiA9PSAxIHRoZW4gDQoJCQkJCWlmIG5vdCBEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMuZHByZWQgdGhlbg0KCQkJCQkJaWYgRmlsZUV4aXN0KExJQl9QQVRIIC4uICJEaXZpbmVQcmVkLmx1YSIpIGFuZCBGaWxlRXhpc3QoTElCX1BBVEggLi4gIkRpdmluZVByZWQubHVhYyIpIHRoZW4gDQoJCQkJCQkJcmVxdWlyZSAoIkRpdmluZVByZWQiKQ0KCQkJCQkJCURQcmVkaWN0aW9ucy5kUHJlZCA9IERpdmluZVByZWQoKQ0KCQkJCQkJCS0tbG9nREwoIkxvYWRlZCBEaXZpbmUgUHJlZGljaXRvbi4iKQ0KCQkJCQkJCURQcmVkaWN0aW9ucy5sb2FkZWRQcmVkTGlicy5kcHJlZCA9IHRydWUNCgkJCQkJCQlEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID0gRFByZWRpY3Rpb25zLmNmZy5wcmVkLnByZWRpY3Rpb24gDQoNCgkJCQkJCWVsc2UNCgkJCQkJCQlsb2dETCgiQ291bGRuJ3QgZmluZCBEaXZpbmUgUHJlZGljdGlvbiBMaWIsIHBsZWFzZSBtYWtlIHN1cmUgaXRzIGRvd25sb2FkZWQgYW5kIHRoYXQgaXQgaGFzIHRoZSBzYW1lIG9yaWdpbmFsIGZpbGUgbmFtZSBvciBjaG9vc2UgYW5vdGhlciBwcmVkaWN0aW9uLiIpDQoJCQkJCQkJLS1EZWxheUFjdGlvbihmdW5jdGlvbigpIGVuZCwxKQ0KCQkJCQkJCURQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPSBuaWwNCgkJCQkJCWVuZA0KCQkJCQllbHNlDQoJCQkJCQlEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID0gRFByZWRpY3Rpb25zLmNmZy5wcmVkLnByZWRpY3Rpb24gDQoJCQkJCWVuZA0KCQkJCQkNCgkJCS0tW1sJZWxzZWlmIERQcmVkaWN0aW9ucy5jZmcucHJlZC5wcmVkaWN0aW9uID09IDIgdGhlbg0KCQkJCQlpZiBub3QgRFByZWRpY3Rpb25zLmxvYWRlZFByZWRMaWJzLmtwcmVkIHRoZW4NCgkJCQkJCWlmIEZpbGVFeGlzdChMSUJfUEFUSCAuLiAiS1ByZWRpY3Rpb24ubHVhIikgdGhlbiANCgkJCQkJCQkJcmVxdWlyZSAoIktQcmVkaWN0aW9uIikNCgkJCQkJCQkJRFByZWRpY3Rpb25zLmtQcmVkID0gS1ByZWRpY3Rpb24oKQ0KCQkJCQkJCQlsb2dETCgiTG9hZGVkIEtQcmVkaWN0aW9uIikNCgkJCQkJCQkJRFByZWRpY3Rpb25zLmxvYWRlZFByZWRMaWJzLmtwcmVkID0gdHJ1ZQ0KCQkJCQkJCQlEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID0gRFByZWRpY3Rpb25zLmNmZy5wcmVkLnByZWRpY3Rpb24gDQoJCQkJCQllbHNlDQoJCQkJCQkJCWxvZ0RMKCJDb3VsZG4ndCBmaW5kIEtQcmVkaWN0aW9uIExpYiwgcGxlYXNlIG1ha2Ugc3VyZSBpdHMgZG93bmxvYWRlZCBhbmQgdGhhdCBpdCBoYXMgdGhlIHNhbWUgb3JpZ2luYWwgZmlsZSBuYW1lIG9yIGNob29zZSBhbm90aGVyIHByZWRpY3Rpb24uIikNCgkJCQkJCQkJLS1EZWxheUFjdGlvbihmdW5jdGlvbigpIGVuZCwxKQ0KCQkJCQkJCQlEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID0gbmlsDQoJCQkJCQllbmQNCgkJCQkJZWxzZQ0KCQkJCQkJRFByZWRpY3Rpb25zLnNlbGVjdGVkUHJlZGljdGlvbiA9IERQcmVkaWN0aW9ucy5jZmcucHJlZC5wcmVkaWN0aW9uIA0KCQkJCQllbmRdXS0tDQoJCQkJZWxzZWlmIERQcmVkaWN0aW9ucy5jZmcucHJlZC5wcmVkaWN0aW9uID09IDIgdGhlbg0KCQkJCQlpZiBub3QgRFByZWRpY3Rpb25zLmxvYWRlZFByZWRMaWJzLmZoIHRoZW4NCgkJCQkJCWlmIEZIUHJlZGljdGlvbiB0aGVuIA0KCQkJCQkJCQktLXJlcXVpcmUgKCJGSFByZWRpY3Rpb24iKQ0KCQkJCQkJCQlsb2dETCgiRGV0ZWN0ZWQgYW5kIHNldCBGSFByZWRpY3Rpb24iKQ0KCQkJCQkJCQlEUHJlZGljdGlvbnMuZmhQcmVkID0gRkhQcmVkaWN0aW9uDQoJCQkJCQkJCURQcmVkaWN0aW9ucy5sb2FkZWRQcmVkTGlicy5maCA9IHRydWUNCgkJCQkJCQkJRFByZWRpY3Rpb25zLnNlbGVjdGVkUHJlZGljdGlvbiA9IERQcmVkaWN0aW9ucy5jZmcucHJlZC5wcmVkaWN0aW9uIA0KCQkJCQkJZWxzZQ0KCQkJCQkJCQlsb2dETCgiUGxlYXNlIE1ha2Ugc3VyZSB0byBwbGFjZSBGSFByZWRpY3Rpb24ubHVhIGluIFNjcmlwdHMgZm9sZGVyIGFuZCBydW4gaXQgYXMgYSBzdGFuZGFsb25lIHNjcmlwdCB0byBiZSBhYmxlIHRvIHVzZSBpdCBvciBzZWxlY3QgYW5vdGhlciBwcmVkaWN0aW9uLiIpDQoJCQkJCQkJCS0tRGVsYXlBY3Rpb24oZnVuY3Rpb24oKSBlbmQsMSkNCgkJCQkJCQkJRFByZWRpY3Rpb25zLnNlbGVjdGVkUHJlZGljdGlvbiA9IG5pbA0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCURQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPSBEUHJlZGljdGlvbnMuY2ZnLnByZWQucHJlZGljdGlvbiANCgkJCQkJZW5kDQoJCQkJCQ0KCQkJCWVsc2VpZiBEUHJlZGljdGlvbnMuY2ZnLnByZWQucHJlZGljdGlvbiA9PSAzIHRoZW4NCgkJCQkJaWYgbm90IERQcmVkaWN0aW9ucy5sb2FkZWRQcmVkTGlicy52cHJlZCB0aGVuDQoJCQkJCQlpZiBGaWxlRXhpc3QoTElCX1BBVEggLi4gIlZQcmVkaWN0aW9uLmx1YSIpIHRoZW4gDQoJCQkJCQkJCXJlcXVpcmUgKCJWUHJlZGljdGlvbiIpDQoJCQkJCQkJCURQcmVkaWN0aW9ucy52UHJlZCA9IFZQcmVkaWN0aW9uKCkNCgkJCQkJCQkJLS1sb2dETCgiTG9hZGVkIFZQcmVkaWN0aW9uIikNCgkJCQkJCQkJRFByZWRpY3Rpb25zLmxvYWRlZFByZWRMaWJzLnZwcmVkID0gdHJ1ZQ0KCQkJCQkJCQlEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID0gRFByZWRpY3Rpb25zLmNmZy5wcmVkLnByZWRpY3Rpb24gDQoJCQkJCQllbHNlDQoJCQkJCQkJCWxvZ0RMKCJDb3VsZG4ndCBmaW5kIFZQcmVkaWN0aW9uIExpYiwgcGxlYXNlIG1ha2Ugc3VyZSBpdHMgZG93bmxvYWRlZCBhbmQgdGhhdCBpdCBoYXMgdGhlIHNhbWUgb3JpZ2luYWwgZmlsZSBuYW1lIG9yIGNob29zZSBhbm90aGVyIHByZWRpY3Rpb24uIikNCgkJCQkJCQkJLS1EZWxheUFjdGlvbihmdW5jdGlvbigpIGVuZCwxKQ0KCQkJCQkJCQlEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID0gbmlsDQoJCQkJCQllbmQNCgkJCQkJZWxzZQ0KCQkJCQkJRFByZWRpY3Rpb25zLnNlbGVjdGVkUHJlZGljdGlvbiA9IERQcmVkaWN0aW9ucy5jZmcucHJlZC5wcmVkaWN0aW9uIA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQgKQ0KCWVuZA0KCQ0KCS0tRGl2aW5lUHJlZDpwcmVkaWN0KHNwZWxsQmluZGluZyx0YXJnZXQsZnJvbSxzc1R5cGUsc3BlZWQscmFuZ2UscmFkaXVzLGRlbGF5LGFsbG93ZWRDb2xsaXNpb25zLGNvbFR5cGUpDQoJRFByZWRpY3Rpb25zLnByZWRpY3QgPSBmdW5jdGlvbihkYXRhLHRhcmdldCxzcmMsZGVmYXVsdFBlcmMpDQoJCWlmIERQcmVkaWN0aW9ucy5sb2FkZWRQcmVkTGlicy5kcHJlZCBhbmQgRFByZWRpY3Rpb25zLnNlbGVjdGVkUHJlZGljdGlvbiA9PSAxIHRoZW4gLS0gRGl2aW5lIFByZWQNCgkJCSAgRFByZWRpY3Rpb25zLmRQcmVkOmJpbmRTUyhkYXRhLmJpbmRpbmcsZGVmYXVsdFBlcmMgb3IgNjApICANCgkJCWxvY2FsIHN0YXRlLGNhc3RQb3MsaGl0Y2hhbmNlID0gRFByZWRpY3Rpb25zLmRQcmVkOnByZWRpY3QoZGF0YS5iaW5kaW5nLCB0YXJnZXQsIHNyYyxkYXRhLmR0eXBlLCBkYXRhLnNwZWVkLGRhdGEucmFuZ2UsZGF0YS53aWR0aCxkYXRhLmRlbGF5LGRhdGEuYWxsb3dlZENvbGxpc2lvbnMsZGF0YS5jb2xUeXBlKQ0KCQkJcmV0dXJuIGNhc3RQb3MsaGl0Y2hhbmNlIA0KCQktLVtbZWxzZWlmIERQcmVkaWN0aW9ucy5sb2FkZWRQcmVkTGlicy5rcHJlZCBhbmQgRFByZWRpY3Rpb25zLnNlbGVjdGVkUHJlZGljdGlvbiA9PSAyIHRoZW4gLS0gS1ByZWQNCgkJCWxvY2FsIGNhc3RQb3MsaGl0Y2hhbmNlID0gRFByZWRpY3Rpb25zLmtQcmVkOkdldFByZWRpY3Rpb24oe3R5cGUgPSBkYXRhLmt0eXBlLCBkZWxheSA9IGRhdGEuZGVsYXkvMTAwMCwgcmFuZ2UgPSBkYXRhLnJhbmdlLCBzcGVlZCA9IGRhdGEuc3BlZWQsIGNvbGxpc2lvbk0gPSBkYXRhLmFsbG93ZWRDb2xsaXNpb25zID09IEhVR0UgYW5kIGZhbHNlIG9yICgobm90IGRhdGEuY29sVHlwZSkgb3IgZGF0YS5jb2xUeXBlLk1pbmlvbnMpLCBjb2xsaXNpb25IID0gZGF0YS5hbGxvd2VkQ29sbGlzaW9ucyA9PSBIVUdFIGFuZCBmYWxzZSBvciAoKG5vdCBkYXRhLmNvbFR5cGUpIG9yIGRhdGEuY29sVHlwZS5DaGFtcGlvbnMpLCB3aWR0aCA9IGRhdGEud2lkdGgqMn0sIHRhcmdldCwgc3JjICwgZGF0YS5hbGxvd2VkQ29sbGlzaW9ucyA9PSBIVUdFIGFuZCB0cnVlIG9yIGZhbHNlICkNCgkJCXJldHVybiBjYXN0UG9zLGhpdGNoYW5jZSoxMDAvNCBdXS0tDQoJCWVsc2VpZiBEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMuZmggYW5kIERQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPT0gMiB0aGVuIC0tIEZIIFByZWQNCgkJCQlsb2NhbCBjYXN0UG9zLGhpdGNoYW5jZSA9IERQcmVkaWN0aW9ucy5maFByZWQuR2V0UHJlZGljdGlvbih7dHlwZSA9IGRhdGEuZmh0eXBlICxyYW5nZSA9IGRhdGEucmFuZ2UsIHNwZWVkID0gZGF0YS5zcGVlZCwgcmFkaXVzID0gZGF0YS53aWR0aCwgZGVsYXkgPSBkYXRhLmRlbGF5LzEwMDAsIGNvbGxpc2lvbiA9ICB7IFtDb2xsaXNpb25PYmplY3RUeXBlcy5NaW5pb25dID0gZGF0YS5hbGxvd2VkQ29sbGlzaW9ucyA9PSBIVUdFIGFuZCBmYWxzZSBvciAoKG5vdCBkYXRhLmNvbFR5cGUpIG9yIGRhdGEuY29sVHlwZS5NaW5pb25zKSxbQ29sbGlzaW9uT2JqZWN0VHlwZXMuQ2hhbXBpb25dID0gZGF0YS5hbGxvd2VkQ29sbGlzaW9ucyA9PSBIVUdFIGFuZCBmYWxzZSBvciAoKG5vdCBkYXRhLmNvbFR5cGUpIG9yIGRhdGEuY29sVHlwZS5DaGFtcGlvbnMpfSx0eXBlID0gZGF0YS5maFR5cGV9LHRhcmdldCxzcmMpDQoJCQkJcmV0dXJuIGNhc3RQb3MsaGl0Y2hhbmNlKjEwMC8yDQoJCWVsc2VpZiBEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMudnByZWQgYW5kIERQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPT0gM3RoZW4gLS0gVlByZWQNCgkJCQlsb2NhbCBjYXN0UG9zLGhpdGNoYW5jZSA9IERQcmVkaWN0aW9ucy52UHJlZDpHZXRCZXN0Q2FzdFBvc2l0aW9uKHRhcmdldCwgZGF0YS5kZWxheS8xMDAwLCBkYXRhLndpZHRoLCBkYXRhLnJhbmdlLCBkYXRhLnNwZWVkLCBzcmMsIGRhdGEuYWxsb3dlZENvbGxpc2lvbnMgPT0gSFVHRSBhbmQgZmFsc2Ugb3IgdHJ1ZSwgZGF0YS52dHlwZSApDQoJCQkJaWYgaGl0Y2hhbmNlIHRoZW4NCgkJCQkJaWYgaGl0Y2hhbmNlID09IDEgdGhlbiBoaXRjaGFuY2UgPSAzMy4zDQoJCQkJCWVsc2VpZiBoaXRjaGFuY2UgPT0gMiB0aGVuIGhpdGNoYW5jZSA9IDY2LjYNCgkJCQkJZWxzZWlmIGhpdGNoYW5jZSA9PSAzIHRoZW4gaGl0Y2hhbmNlID0gMTAwDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJCXJldHVybiBjYXN0UG9zLGhpdGNoYW5jZQ0KCQllbmQNCgkJcmV0dXJuIG5pbA0KCWVuZA0KIA0KDQpjbGFzcyAgJ0RUaW1lcicNCi0tIENvbnN0cnVjdG9yDQpmdW5jdGlvbiBEVGltZXI6X19pbml0KGxpbWl0KQ0KICBzZWxmLnJlYWRvbmx5ID0ge30NCiAgc2VsZjpzZXRMaW1pdChsaW1pdCkNCiAgc2VsZi5yZWFkb25seS5zdGFydCA9IG9zLmNsb2NrKCkqMTAwMA0KICBzZWxmLnJlYWRvbmx5LnBhdXNlZCA9IGZhbHNlDQogIHNlbGYucmVhZG9ubHkucGF1c2VUaW1lID0gLTENCmVuZA0KDQotLUZ1bmN0aW9ucw0KDQpmdW5jdGlvbiBEVGltZXI6c2V0TGltaXQobGltaXQpDQogIHNlbGYucmVhZG9ubHkubGltaXQgPSBsaW1pdDsNCmVuZA0KDQpmdW5jdGlvbiBEVGltZXI6Z2V0TGltaXQoKQ0KICByZXR1cm4gc2VsZi5yZWFkb25seS5saW1pdA0KZW5kDQoNCmZ1bmN0aW9uIERUaW1lcjpnZXRFbGFwc2VkKCkNCiAgbG9jYWwgdGltZVNpbmNlUGF1c2UgPSAwOw0KICBpZiBzZWxmLnJlYWRvbmx5LnBhdXNlZCB0aGVuDQogICAgdGltZVNpbmNlUGF1c2UgPSBvcy5jbG9jaygpKjEwMDAgLSBzZWxmLnJlYWRvbmx5LnBhdXNlVGltZQ0KICBlbmQNCiAgcmV0dXJuIG9zLmNsb2NrKCkqMTAwMCAtIChzZWxmLnJlYWRvbmx5LnN0YXJ0ICsgdGltZVNpbmNlUGF1c2UpDQplbmQNCg0KZnVuY3Rpb24gRFRpbWVyOmdldFJlbWFpbmluZygpDQogIHJldHVybiBzZWxmLnJlYWRvbmx5LmxpbWl0IC0gc2VsZjpnZXRFbGFwc2VkKCkNCmVuZA0KDQpmdW5jdGlvbiBEVGltZXI6Z2V0UmVtYWluaW5nUGVyY2VudGFnZSgpDQogIHJldHVybiAoc2VsZjpnZXRSZW1haW5pbmcoKSoxMDApL3NlbGYucmVhZG9ubHkubGltaXQNCmVuZA0KDQpmdW5jdGlvbiBEVGltZXI6aXNSdW5uaW5nKCkNCiAgcmV0dXJuIHNlbGY6Z2V0UmVtYWluaW5nKCkgPiAwDQplbmQNCg0KZnVuY3Rpb24gRFRpbWVyOmlzVXAoKQ0KICByZXR1cm4gc2VsZjpnZXRSZW1haW5pbmcoKSA8PSAwDQplbmQNCg0KZnVuY3Rpb24gRFRpbWVyOnJlc2V0KGxpbWl0KQ0KICBsaW1pdCA9IGxpbWl0IGFuZCBsaW1pdCBvciBzZWxmLnJlYWRvbmx5LmxpbWl0DQogIHNlbGY6c2V0TGltaXQobGltaXQpOw0KICBzZWxmLnJlYWRvbmx5LnN0YXJ0ID0gb3MuY2xvY2soKSoxMDAwOw0KICByZXR1cm4gc2VsZg0KZW5kDQoNCmZ1bmN0aW9uIERUaW1lcjpwYXVzZSgpDQogIGlmIG5vdCBzZWxmLnJlYWRvbmx5LnBhdXNlZCB0aGVuDQogICAgc2VsZi5yZWFkb25seS5wYXVzZWQgPSB0cnVlOw0KICAgIHNlbGYucmVhZG9ubHkucGF1c2VUaW1lID0gb3MuY2xvY2soKSoxMDAwOw0KICAgIHJldHVybiB0cnVlDQogIGVuZA0KICByZXR1cm4gZmFsc2UJDQplbmQNCg0KZnVuY3Rpb24gRFRpbWVyOnJlc3VtZSgpDQogIGlmIHNlbGYucmVhZG9ubHkucGF1c2VkIHRoZW4NCiAgICBzZWxmLnJlYWRvbmx5LnN0YXJ0ID0gc2VsZi5yZWFkb25seS5zdGFydCArICgob3MuY2xvY2soKSoxMDAwKSAtIHNlbGYucmVhZG9ubHkucGF1c2VUaW1lKQ0KICAgIHNlbGYucmVhZG9ubHkucGF1c2VkID0gZmFsc2U7DQogICAgcmV0dXJuIHRydWUNCiAgZW5kDQogIHJldHVybiBmYWxzZQ0KZW5kDQoNCg0KZnVuY3Rpb24gRFRpbWVyOmdldExpbWl0U3RyaW5nKCkNCiAgbG9jYWwgc2Vjb25kcyA9ICBzZWxmOmdldExpbWl0KCkgLyAxMDAwDQogIGxvY2FsIG91dHB1dCA9ICIiDQoNCg0KICBsb2NhbCBtcyA9IHNlbGY6Z2V0TGltaXQoKSAlIDEwMDANCiAgbG9jYWwgc2VjID0gc2Vjb25kcw0KICBsb2NhbCBtaW4gPSBzZWMgLyA2MA0KICBsb2NhbCBob3VyID0gbWluIC8gNjANCiAgbG9jYWwgdHRsc2Vjb25kID0gc2Vjb25kcyA8IDAgYW5kIDAgb3IgbWF0aC5mbG9vcihzZWMgJSA2MCkNCiAgbG9jYWwgdHRsbWludXRlID0gc2Vjb25kcyA8IDAgYW5kIDAgb3IgbWF0aC5mbG9vcihtaW4gJSA2MCkNCiAgbG9jYWwgdHRsaG91ciA9IHNlY29uZHMgPCAwIGFuZCAwIG9yIG1hdGguZmxvb3IoaG91cikNCg0KICBpZiB0dGxob3VyID49MSB0aGVuIG91dHB1dCA9IG91dHB1dC4uKHR0bGhvdXI8MTAgYW5kIDAgb3IgIiIpLi50dGxob3VyLi4iOiIgZW5kDQogIG91dHB1dCA9IG91dHB1dC4uKHR0bG1pbnV0ZTwxMCBhbmQgMCBvciAiIikuLnR0bG1pbnV0ZS4uIjoiDQogIG91dHB1dCA9IG91dHB1dC4uKHR0bHNlY29uZDwxMCBhbmQgMCBvciAiIikuLnR0bHNlY29uZA0KDQogIHJldHVybiBvdXRwdXQ7DQplbmQNCg0KZnVuY3Rpb24gRFRpbWVyOmdldFJlbWFpbmluZ1N0cmluZyhhdXRoKQ0KICBsb2NhbCBzZWNvbmRzID0gbWF0aC5mbG9vcihzZWxmOmdldFJlbWFpbmluZygpIC8gMTAwMCkNCiAgbG9jYWwgb3V0cHV0ID0gIiINCg0KDQogIGxvY2FsIG1zID0gbWF0aC5mbG9vcihzZWxmOmdldFJlbWFpbmluZygpICUgMTAwMCkNCiAgbG9jYWwgc2VjID0gc2Vjb25kcw0KICBsb2NhbCBtaW4gPSBtYXRoLmZsb29yKHNlYyAvIDYwKQ0KICBsb2NhbCBob3VyID0gbWF0aC5mbG9vcihtaW4gLyA2MCkNCiAgbG9jYWwgdHRsc2Vjb25kID0gc2Vjb25kcyA8IDAgYW5kIDAgb3IgbWF0aC5mbG9vcihzZWMgJSA2MCkNCiAgbG9jYWwgdHRsbWludXRlID0gc2Vjb25kcyA8IDAgYW5kIDAgb3IgbWF0aC5mbG9vcihtaW4gJSA2MCkNCiAgbG9jYWwgdHRsaG91ciA9IHNlY29uZHMgPCAwIGFuZCAwIG9yIG1hdGguZmxvb3IoaG91cikNCg0KICBpZiB0dGxob3VyID49MSB0aGVuIG91dHB1dCA9IG91dHB1dC4uKHR0bGhvdXI8MTAgYW5kIDAgb3IgIiIpLi50dGxob3VyLi4iOiIgZW5kDQogIGlmKGF1dGgpIHRoZW4gb3V0cHV0ID0gb3V0cHV0Li4odHRsaG91cjwxMCBhbmQgMCBvciAiIikuLnR0bGhvdXIuLiI6IiBlbmQNCiAgb3V0cHV0ID0gb3V0cHV0Li4odHRsbWludXRlPDEwIGFuZCAwIG9yICIiKS4udHRsbWludXRlLi4iOiINCiAgb3V0cHV0ID0gb3V0cHV0Li4odHRsc2Vjb25kPDEwIGFuZCAwIG9yICIiKS4udHRsc2Vjb25kDQoNCiAgcmV0dXJuIG91dHB1dDsNCmVuZA0KDQpmdW5jdGlvbiBEVGltZXI6Z2V0RWxhcHNlZFN0cmluZygpDQogIGxvY2FsIHNlY29uZHMgPSBtYXRoLmZsb29yKHNlbGY6Z2V0RWxhcHNlZCgpIC8gMTAwMCkNCiAgbG9jYWwgb3V0cHV0ID0gIiINCg0KDQogIGxvY2FsIG1zID0gbWF0aC5mbG9vcihzZWxmOmdldEVsYXBzZWQoKSAlIDEwMDApDQogIGxvY2FsIHNlYyA9IHNlY29uZHMNCiAgbG9jYWwgbWluID0gbWF0aC5mbG9vcihzZWMgLyA2MCkNCiAgbG9jYWwgaG91ciA9IG1hdGguZmxvb3IobWluIC8gNjApDQogIGxvY2FsIHR0bHNlY29uZCA9IHNlY29uZHMgPCAwIGFuZCAwIG9yIG1hdGguZmxvb3Ioc2VjICUgNjApDQogIGxvY2FsIHR0bG1pbnV0ZSA9IHNlY29uZHMgPCAwIGFuZCAwIG9yIG1hdGguZmxvb3IobWluICUgNjApDQogIGxvY2FsIHR0bGhvdXIgPSBzZWNvbmRzIDwgMCBhbmQgMCBvciBtYXRoLmZsb29yKGhvdXIpDQoNCiAgaWYgdHRsaG91ciA+PTEgdGhlbiBvdXRwdXQgPSBvdXRwdXQuLih0dGxob3VyPDEwIGFuZCAwIG9yICIiKS4udHRsaG91ci4uIjoiIGVuZA0KICBvdXRwdXQgPSBvdXRwdXQuLih0dGxtaW51dGU8MTAgYW5kIDAgb3IgIiIpLi50dGxtaW51dGUuLiI6Ig0KICBvdXRwdXQgPSBvdXRwdXQuLih0dGxzZWNvbmQ8MTAgYW5kIDAgb3IgIiIpLi50dGxzZWNvbmQNCg0KICByZXR1cm4gb3V0cHV0Ow0KZW5kDQoNCg0KZnVuY3Rpb24gRFRpbWVyOmlzVXBUaGVuUmVzZXQoKQ0KICBpZiBzZWxmOmlzVXAoKSB0aGVuDQogICAgc2VsZjpyZXNldCgpDQogICAgcmV0dXJuIHRydWUNCiAgZW5kDQogIHJldHVybiBmYWxzZQ0KZW5kDQoNCg0KY2xhc3MgJ0RPcmJ3YWxraW5nJw0KRE9yYndhbGtpbmcuTW9kZSA9IHtDT01CTyA9IDAsIEhBUlJBUyA9IDEsIExBTkVfQ0xFQVIgPSAyLCBMQVNUX0hJVCA9IDN9DQpET3Jid2Fsa2luZy5vcmJ3YWxrZXJzID0ge1NBQyA9IDAgLCBQZVdhbGsgPSAxLCBzeE9yYldhbGsgPSAyfQ0KRE9yYndhbGtpbmcuYWN0aXZlT3Jid2Fsa2VyID0gbmlsDQpET3Jid2Fsa2luZy5zYWNDaGVja0F0dGVtcHRzID0gMA0KRE9yYndhbGtpbmcubG9hZE5vblNhYyA9IGZ1bmN0aW9uKGNmZykNCkRlbGF5QWN0aW9uKGZ1bmN0aW9uKCkNCg0KCWlmIF9QZXdhbGsgdGhlbg0KCQlsb2dETCgiUGV3YWxrIERldGVjdGVkIFJ1bm5pbmchIikNCgkJRGVsYXlBY3Rpb24oZnVuY3Rpb24oKQ0KCQlfUGV3YWxrLkRpc2FibGVTa2lsbEZhcm0oX1EpDQoJCV9QZXdhbGsuRGlzYWJsZVNraWxsRmFybShfVykNCgkJX1Bld2Fsay5EaXNhYmxlU2tpbGxGYXJtKF9FKQ0KCQlfUGV3YWxrLkRpc2FibGVTa2lsbEZhcm0oX1IpDQoJCWVuZCwyKQ0KCQlET3Jid2Fsa2luZy5jZmcub3JiOmFkZFBhcmFtKCJvcmJXYWxrSW5mbyIsIlBlV2FsayBJbiBBY3Rpb24sIFR3ZWFrIHNldHRpbmdzIGluIFBld2FsayBtZW51LiIsU0NSSVBUX1BBUkFNX0lORk8sIiIpDQoJZWxzZWlmIF9HLk1NQV9Jc0xvYWRlZCB0aGVuIA0KCQlET3Jid2Fsa2luZy5jZmcub3JiOmFkZFBhcmFtKCJvcmJXYWxrSW5mbyIsIk1NQSBJbiBBY3Rpb24sIFR3ZWFrIHNldHRpbmdzIGluIE1NQSBtZW51LiIsU0NSSVBUX1BBUkFNX0lORk8sIiIpDQoJZWxzZQ0KDQoJCWxvZ0RMKCJObyBhY3RpdmUgb3Jid2Fsa2VyIGZvdW5kLCBzd2l0Y2hpbmcgdG8gU3hPcmJXYWxrIExpYiIpDQoJCWlmIG5vdCBGaWxlRXhpc3QoTElCX1BBVEggLi4gIlN4T3JiV2Fsay5sdWEiKSB0aGVuDQoJCQlTY3JpcHRVcGRhdGUoDQoJCSJTeE9yYldhbGsiLA0KCQkwLA0KCQl0cnVlLA0KCQlESW5mby5IT1NUX1VSTCwgDQoJCSIvTmFkZXItU2wvQm9MU3R1ZGlvL21hc3Rlci9WZXJzaW9ucy92ZXJzaW9uZHVtbXkudmVyc2lvbiIsIA0KCQkiL1N1cGVyeDMyMS9Cb0wvbWFzdGVyL2NvbW1vbi9TeE9yYldhbGsubHVhIiwgDQoJCUxJQl9QQVRILi4iU3hPcmJXYWxrLmx1YSIsIA0KCQlmdW5jdGlvbigpIA0KCQlyZXF1aXJlKCdTeE9yYldhbGsnKQ0KCQkJRE9yYndhbGtpbmcuc3ggPSBTeE9yYldhbGsoKQ0KCQkJRE9yYndhbGtpbmcuc3g6TG9hZFRvTWVudShET3Jid2Fsa2luZy5jZmcub3JiKQ0KCQllbmQsIA0KCQlmdW5jdGlvbigpICAgZW5kLCAtLWxvYWQgY29tcGxldGUNCgkJZnVuY3Rpb24oKSAgIGVuZCwgLS1uZXcgdmVyc2lvbg0KCQlmdW5jdGlvbigpIGxvZ0RMKCdBbiBFcnJvciBPY2N1cmVkIGluIGR1cmluZyBTeE9yYndhbGsgZG93bmxvYWQsIHBsZWFzZSByZXN0YXJ0IHRoZSBzY3JpcHQgKEY5IHggRjkpJykgZW5kDQoJKQ0KCQllbHNlDQoJCQlyZXF1aXJlKCdTeE9yYldhbGsnKQ0KCQkJRE9yYndhbGtpbmcuc3ggPSBTeE9yYldhbGsoKQ0KCQkJRE9yYndhbGtpbmcuc3g6TG9hZFRvTWVudShET3Jid2Fsa2luZy5jZmcub3JiKQ0KCQllbmQNCgkgIGVuZA0KCSAgZW5kLDUpDQoJZW5kDQogDQoNCkRPcmJ3YWxraW5nLmluY2x1ZGUgPSBmdW5jdGlvbihjZmcpDQoNCglET3Jid2Fsa2luZy5jZmcgPSBjZmcgDQoJRE9yYndhbGtpbmcuc3ggPSB7fQ0KCURPcmJ3YWxraW5nLmNmZzphZGRTdWJNZW51KCJPcmJ3YWxraW5nIiwib3JiIikNCglET3Jid2Fsa2luZy5zYWNGYWlsZWQsRE9yYndhbGtpbmcuc2FjTG9hZGVkID0gZmFsc2UsZmFsc2UJDQoJRE9yYndhbGtpbmcuc2FjVCA9IERUaW1lcigxMDAwKQ0KCWlmIF9HLlJlYm9ybl9Mb2FkZWQgdGhlbg0KCQkJbG9nREwoIlNBQyBEZXRlY3RlZCBSdW5uaW5nISBbV2FpdGluZyBmb3IgSW5pdGlhbGl6YXRpb25dIC4uLiIpDQoJCUFkZFRpY2tDYWxsYmFjayhmdW5jdGlvbigpDQoJCWlmIG5vdCBET3Jid2Fsa2luZy5zYWNUOmlzVXAoKSBvciBET3Jid2Fsa2luZy5zYWNGYWlsZWQgb3IgRE9yYndhbGtpbmcuc2FjTG9hZGVkIHRoZW4gcmV0dXJuIGVuZA0KCQlpZiBfRy5SZWJvcm5fSW5pdGlhbGlzZWQgdGhlbg0KCQkgIGxvZ0RMKCJVc2luZyBTQUMhIFtpbml0aWFsaXplZF0iKQ0KCQkgIERPcmJ3YWxraW5nLmFjdGl2ZU9yYndhbGtlciA9IERPcmJ3YWxraW5nLm9yYndhbGtlcnMuU0FDDQoJCSAgRE9yYndhbGtpbmcuY2ZnLm9yYjphZGRQYXJhbSgib3JiV2Fsa0luZm8iLCJTQUMgSW4gQWN0aW9uLCBUd2VhayBTc2V0dGluZ3MgaW4gU0FDIE1lbnUuIixTQ1JJUFRfUEFSQU1fSU5GTywiIikNCgkJICBET3Jid2Fsa2luZy5zYWNMb2FkZWQgPSB0cnVlDQoJCWVsc2UNCgkJICBpZiBET3Jid2Fsa2luZy5zYWNDaGVja0F0dGVtcHRzID49IDEwIHRoZW4gDQoJCQlsb2dETCgiU0FDIGZhaWxlZCB0byBpbml0aWFsaXplIGFmdGVyICIuLkRPcmJ3YWxraW5nLnNhY0NoZWNrQXR0ZW1wdHMuLiIgYXR0ZW1wdHMsIHN3aXRjaGluZyB0byBhbm90aGVyIG9yYndhbGtlci4iKSA7DQoJCQlET3Jid2Fsa2luZy5zYWNGYWlsZWQgPSB0cnVlDQoJCQlET3Jid2Fsa2luZy5sb2FkTm9uU2FjKGNmZykNCgkJICBlbHNlIA0KCQkJRE9yYndhbGtpbmcuc2FjQ2hlY2tBdHRlbXB0cyA9IERPcmJ3YWxraW5nLnNhY0NoZWNrQXR0ZW1wdHMgKyAxDQoJCQlET3Jid2Fsa2luZy5zYWNUOnJlc2V0KDEwMDApDQoJCSAgZW5kDQoJCSBlbmQNCgkJZW5kKQ0KCWVsc2UNCgkJRE9yYndhbGtpbmcubG9hZE5vblNhYyhjZmcpDQoJZW5kDQoJIA0KZW5kDQoNCkRPcmJ3YWxraW5nLmlzQUFSZWFkeSA9IGZ1bmN0aW9uKCkNCglpZiBfRy5SZWJvcm5fSW5pdGlhbGlzZWQgdGhlbg0KCQkJLS1wcmludChfRy5BdXRvQ2FycnkuT3Jid2Fsa2VyOkNhblNob290KCkpDQoJCXJldHVybiBfRy5BdXRvQ2FycnkuT3Jid2Fsa2VyOkNhblNob290KCkNCgllbHNlaWYgX1Bld2FsayB0aGVuDQoJCSAtLXByaW50KF9QZXdhbGsuQ2FuQXR0YWNrKCkpDQoJCXJldHVybiBfUGV3YWxrLkNhbkF0dGFjayBhbmQgX1Bld2Fsay5DYW5BdHRhY2soKSBvciBmYWxzZQ0KCWVsc2VpZiBfRy5TeE9yYiB0aGVuDQoJCS0tIHByaW50KCJzc3NzIi4uKChET3Jid2Fsa2luZy5zeDpDYW5BdHRhY2soKSkgYW5kICJ0cnVlIiBvciAiZmFsc2UiKSkNCgkJcmV0dXJuIERPcmJ3YWxraW5nLnN4LkNhbkF0dGFjayBhbmQgRE9yYndhbGtpbmcuc3g6Q2FuQXR0YWNrKCkgb3IgZmFsc2UNCgllbmQNCmVuZA0KDQpET3Jid2Fsa2luZy5nZXRBY3RpdmVNb2RlID0gZnVuY3Rpb24oc3BlbGwpDQoJaWYgc3BlbGwgYW5kIG15SGVybzpDYW5Vc2VTcGVsbChzcGVsbCkgfj0gUkVBRFkgdGhlbiByZXR1cm4gbmlsIGVuZA0KCWlmIF9HLlJlYm9ybl9Jbml0aWFsaXNlZCBhbmQgX0cuQXV0b0NhcnJ5LktleXMgdGhlbg0KCQlpZiBfRy5BdXRvQ2FycnkuS2V5cy5BdXRvQ2FycnkgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5DT01CTw0KCQllbHNlaWYgX0cuQXV0b0NhcnJ5LktleXMuTWl4ZWRNb2RlIHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuSEFSUkFTDQoJCWVsc2VpZiBfRy5BdXRvQ2FycnkuS2V5cy5MYW5lQ2xlYXIgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5MQU5FX0NMRUFSDQoJCWVsc2VpZiBfRy5BdXRvQ2FycnkuS2V5cy5MYXN0SGl0IHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuTEFTVF9ISVQNCgkJZW5kDQoJZWxzZWlmIF9HLk1NQV9Jc0xvYWRlZCB0aGVuDQoJDQoJCWlmIF9HLk1NQV9Jc09yYndhbGtpbmcoKSB0aGVuIHJldHVybiBET3Jid2Fsa2luZy5Nb2RlLkNPTUJPDQoJCWVsc2VpZiBfRy5NTUFfSXNEdWFsQ2FycnlpbmcoKSAgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5IQVJSQVMNCgkJZWxzZWlmIF9HLk1NQV9Jc0xhbmVDbGVhcmluZygpIHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuTEFORV9DTEVBUg0KCQllbHNlaWYgX0cuTU1BX0lzTGFzdEhpdHRpbmcoKSB0aGVuIHJldHVybiBET3Jid2Fsa2luZy5Nb2RlLkxBU1RfSElUIGVuZA0KCWVsc2VpZiBfUGV3YWxrIGFuZCBfUGV3YWxrLkdldEFjdGl2ZU1vZGUgdGhlbg0KCQlsb2NhbCBhY3RpdmVNb2RlcyA9IF9QZXdhbGsuR2V0QWN0aXZlTW9kZSgpDQoJCWlmIGFjdGl2ZU1vZGVzLkNhcnJ5IHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuQ09NQk8NCgkJZWxzZWlmIGFjdGl2ZU1vZGVzLk1peGVkIHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuSEFSUkFTDQoJCWVsc2VpZiBhY3RpdmVNb2Rlcy5MYW5lQ2xlYXIgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5MQU5FX0NMRUFSDQoJCWVsc2VpZiBhY3RpdmVNb2Rlcy5GYXJtIHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuTEFTVF9ISVQgZW5kDQoJZWxzZWlmIF9HLlN4T3JiIHRoZW4NCiANCgkJaWYgRE9yYndhbGtpbmcuc3guaXNGaWdodCB0aGVuIHJldHVybiBET3Jid2Fsa2luZy5Nb2RlLkNPTUJPDQoJCWVsc2VpZiBET3Jid2Fsa2luZy5zeC5pc0hhcmFzcyB0aGVuIHJldHVybiBET3Jid2Fsa2luZy5Nb2RlLkhBUlJBUw0KCQllbHNlaWYgRE9yYndhbGtpbmcuc3guaXNMYW5lQ2xlYXIgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5MQU5FX0NMRUFSDQoJCWVsc2VpZiBET3Jid2Fsa2luZy5zeC5pc0xhc3RIaXQgIHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuTEFTVF9ISVQgZW5kDQoJZW5kDQpyZXR1cm4gbmlsDQplbmQNCg0KY2xhc3MgJ0RTdHJ1Y3RzJw0KRFN0cnVjdHMuU3BlbGxUeXBlID0ge0FQID0gMCwgQUQgPSAxfQ0KDQoNCmNsYXNzICdER2VvbScgDQpER2VvbS5wcm9qZWN0ID0gZnVuY3Rpb24odjEsdjIpDQogIHJldHVybiBWZWN0b3IodjIgKiAodjE6ZG90UCh2MikgLyAodjI6bGVuMigpKSkpOw0KZW5kDQoNCkRHZW9tLnJlamVjdCA9IGZ1bmN0aW9uKHYxLHYyKQ0KICAgcmV0dXJuIHYxIC0gREdlb20ucHJvamVjdCh2MSx2MikNCmVuZA0KDQpER2VvbS5nZXREaXN0U1EgPSBmdW5jdGlvbih2MSx2MikNCgkgbG9jYWwgeCwgeiA9IHYxLngtdjIueCwgIHYxLnotdjIuejsNCgkgcmV0dXJuIHgqeCAgKyB6KnogDQplbmQNCg0KREdlb20uYXJlQ29sbGluZWFyID0gZnVuY3Rpb24oYSxiLGMpDQotLVsgQXggKiAoQnkgLSBDeSkgKyBCeCAqIChDeSAtIEF5KSArIEN4ICogKEF5IC0gQnkpIF0gLyAyDQogIHJldHVybiAoRkxPT1IoKGEueCooYi56LWMueikgKyBiLngqKGMuei1hLnopICsgYy54KihhLnotYi56KSkvMikpID09ICAwDQplbmQNCg0KREdlb20uZ2V0SW50ZXJzZWN0aW9uMiA9IGZ1bmN0aW9uKCB4MSx5MSwgeDIseTIsICB4MywgIHkzLCAgeDQsIHk0KSANCiAgICBsb2NhbCBkID0gKHgxLXgyKSooeTMteTQpIC0gKHkxLXkyKSooeDMteDQpDQogICAgaWYgKGQgPT0gMCkgdGhlbiByZXR1cm4gbmlsIGVuZA0KICAgIA0KICAgIGxvY2FsIHhpID0gKCh4My14NCkqKHgxKnkyLXkxKngyKS0oeDEteDIpKih4Myp5NC15Myp4NCkpL2Q7DQogICAgbG9jYWwgeWkgPSAoKHkzLXk0KSooeDEqeTIteTEqeDIpLSh5MS15MikqKHgzKnk0LXkzKng0KSkvZDsNCiAgICANCiAgICByZXR1cm4gVmVjdG9yKHhpLDAseWkpOw0KIGVuZA0KIA0KREdlb20uZ2V0SW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oIHYxU3RhcnQsICB2MUVuZCwgdjJTdGFydCwgIHYyRW5kKQ0KICAgIGxvY2FsIHMxX3gsIHMxX3ksIHMyX3gsIHMyX3kgPSAgdjFFbmQueCAtIHYxU3RhcnQueCx2MUVuZC56IC0gdjFTdGFydC56LHYyRW5kLnggLSB2MlN0YXJ0LngsdjJFbmQueiAtIHYyU3RhcnQueg0KICAgIGxvY2FsIGRpdiA9ICgtczJfeCAqIHMxX3kgKyBzMV94ICogczJfeSkNCglpZiBkaXYgPT0gMCB0aGVuIHJldHVybiBuaWwgZW5kDQogICAgbG9jYWwgcyA9ICgtczFfeSAqICh2MVN0YXJ0LnggLSB2MlN0YXJ0LngpICsgczFfeCAqICh2MVN0YXJ0LnogLSB2MlN0YXJ0LnopKSAvZGl2Ow0KICAgIGxvY2FsIHQgPSAoIHMyX3ggKiAodjFTdGFydC56IC0gdjJTdGFydC56KSAtIHMyX3kgKiAodjFTdGFydC54IC0gdjJTdGFydC54KSkgLyBkaXY7DQpyZXR1cm4gKHMgPj0gMCBhbmQgcyA8PSAxIGFuZCB0ID49IDAgYW5kIHQgPD0gMSkgYW5kIChWZWN0b3IodjFTdGFydC54ICsgKHQgKiBzMV94KSwwLHYxU3RhcnQueiArICh0ICogczFfeSkpIG9yIG5pbCkNCmVuZA0KDQpER2VvbS5pbnRlcnNlY3RzID0gZnVuY3Rpb24oIHYxU3RhcnQsICB2MUVuZCwgdjJTdGFydCwgIHYyRW5kKQ0KIC0taWYgdjFTdGFydC55IH49IDAgb3IgdjFFbmQueSB+PSAwIG9yIHYyU3RhcnQueSB+PSAwIG9yIHYyRW5kLnkgfj0wIHRoZW4gcHJpbnQoIldBQUFBQUFBQUFBQVQiKSBlbmQNCiAgICBsb2NhbCBzMV94LCBzMV95LCBzMl94LCBzMl95ID0gIHYxRW5kLnggLSB2MVN0YXJ0LngsdjFFbmQueiAtIHYxU3RhcnQueix2MkVuZC54IC0gdjJTdGFydC54LHYyRW5kLnogLSB2MlN0YXJ0LnoNCiAgICBsb2NhbCBkaXYgPSAoLXMyX3ggKiBzMV95ICsgczFfeCAqIHMyX3kpDQoJaWYgZGl2ID09IDAgdGhlbiByZXR1cm4gbmlsIGVuZA0KICAgIGxvY2FsIHMgPSAoLXMxX3kgKiAodjFTdGFydC54IC0gdjJTdGFydC54KSArIHMxX3ggKiAodjFTdGFydC56IC0gdjJTdGFydC56KSkgL2RpdjsNCiAgICBsb2NhbCB0ID0gKCBzMl94ICogKHYxU3RhcnQueiAtIHYyU3RhcnQueikgLSBzMl95ICogKHYxU3RhcnQueCAtIHYyU3RhcnQueCkpIC8gZGl2Ow0KcmV0dXJuIChzID49IDAgYW5kIHMgPD0gMSBhbmQgdCA+PSAwIGFuZCB0IDw9IDEpDQplbmQNCg0KDQpER2VvbS5wb2x5SW50ZXJzZWN0aW9uID0gZnVuY3Rpb24ocG9seTEscG9seTIpDQoJZm9yIGkgPSAxLCNwb2x5MSAgLSAxIGRvDQoJCWZvciBqID0gMSwjcG9seTIgLSAxIGRvDQoJCQlsb2NhbCBpbnRlciA9IGludGVyc2VjdHMocG9seTFbaV0scG9seTFbaSsxXSxwb2x5MltqXSxwb2x5MltqKzFdKQ0KCQkJaWYgaW50ZXIgdGhlbiBpbnRlciA9IG5pbCA7IHJldHVybiB0cnVlIGVuZA0KCQllbmQNCgllbmQNCglyZXR1cm4gZmFsc2UNCmVuZA0KDQpER2VvbS5wb2x5SW50ZXJMaW5lcyA9IGZ1bmN0aW9uKHBvbHksbGluZXMpDQoJZm9yIGkgPSAxLCNwb2x5MSAgLSAxIGRvDQoJCWZvciBqID0gMSwjcG9seTIgLSAxIGRvDQoJCQlsb2NhbCBpbnRlciA9IGludGVyc2VjdHMocG9seTFbaV0scG9seTFbaSsxXSxwb2x5MltqXSxwb2x5MltqKzFdKQ0KCQkJaWYgaW50ZXIgdGhlbiByZXR1cm4gdHJ1ZSBlbmQNCgkJZW5kDQoJZW5kDQoJcmV0dXJuIGZhbHNlDQplbmQNCg0KREdlb20ucG9seU92ZXJsYXAgPSBmdW5jdGlvbihwb2x5MSxwb2x5MikNCmxvY2FsIGludGVyID0gcG9seUludGVyc2VjdGlvbihwb2x5MSxwb2x5MikNCmxvY2FsIHBvbHkydjEgPSBwb2x5MlsxXQ0KbG9jYWwgcG9seTF2MSA9IHBvbHkxWzFdDQpyZXR1cm4gaW50ZXIgYW5kIGludGVyIG9yIChpbnNpZGVQb2x5KHBvbHkxLHBvbHkydjEueCxwb2x5MnYxLnopIG9yIGluc2lkZVBvbHkocG9seTIscG9seTF2MS54LHBvbHkxdjEueikpICANCmVuZA0KDQpER2VvbS5pbnNpZGVSZWN0ID0gZnVuY3Rpb24odG9wTGVmdCxib3RSaWdodCx0ZXN0WCx0ZXN0WSkNCgkgcmV0dXJuIHRlc3RYID49IHRvcExlZnQueCBhbmQgdGVzdFggPD0gYm90UmlnaHQueCBhbmQgdGVzdFkgPD0gdG9wTGVmdC55IGFuZCB0ZXN0WT49IGJvdFJpZ2h0LnkNCmVuZA0KDQpER2VvbS5pbnNpZGVQb2x5ID0gZnVuY3Rpb24ocHRzLCAgdGVzdHgsIHRlc3R5KQ0KICBsb2NhbCBpLCBqLCBjID0gMCwjcHRzLDANCiAgZm9yIGkgPSAwLCAgI3B0cyBkbw0KICAgICBpZiBwdHMgYW5kIHB0c1tpXSBhbmQgcHRzW2pdIHRoZW4NCiAgICBpZiAoICgocHRzW2ldLno+dGVzdHkpIH49IChwdHNbal0uej50ZXN0eSkpIGFuZA0KICAgICAodGVzdHggPCAocHRzW2pdLngtcHRzW2ldLngpICogKHRlc3R5LXB0c1tpXS56KSAvIChwdHNbal0uei1wdHNbaV0ueikgKyBwdHNbaV0ueCkgKSB0aGVuDQogICAgICAgYyA9IG5vdCBjOw0KCSAgZW5kDQoJICBqID0gaQ0KICAgZW5kDQogIGVuZA0KcmV0dXJuIG5vdCBjDQplbmQNCg0KREdlb20uZ2V0UG9seUNlbnRlciA9IGZ1bmN0aW9uKHBvaW50cykNCglsb2NhbCBwb2ludHNTdW0gPSBWZWN0b3IoMCwwLDApDQoJbG9jYWwgcG9seVNpemUgPSAjcG9pbnRzDQogICAgZm9yIGkgPSAxLCBwb2x5U2l6ZSBkbyBwb2ludHNTdW0ueCA9IHBvaW50c1N1bS54ICsgcG9pbnRzW2ldLng7IHBvaW50c1N1bS55ID0gcG9pbnRzU3VtLnkrIHBvaW50c1tpXS55O3BvaW50c1N1bS56ID0gcG9pbnRzU3VtLnogKyBwb2ludHNbaV0ueiBlbmQNCiAgICByZXR1cm4gVmVjdG9yKCBwb2ludHNTdW0ueCAvIHBvbHlTaXplLCBwb2ludHNTdW0ueSAvIHBvbHlTaXplLCBwb2ludHNTdW0ueiAvcG9seVNpemUpDQplbmQNCg0KREdlb20uZ2V0TGluZUJvdW5kcyA9IGZ1bmN0aW9uKHN0YXJ0UG9zLGVuZFBvcyx3aWR0aCkNCiAgIHN0YXJ0UG9zLnkgPSAwDQogICBlbmRQb3MueSA9IDANCglsb2NhbCBwZXJwYT0gZW5kUG9zICsgKHdpZHRoKigoKG5vcm1hbFZlYzpjcm9zc1AoZW5kUG9zIC0gc3RhcnRQb3MpKTpub3JtYWxpemVkKCkpKSkNCglsb2NhbCBwZXJwYiA9IGVuZFBvcyArICh3aWR0aCooKChlbmRQb3MgLXN0YXJ0UG9zKTpjcm9zc1Aobm9ybWFsVmVjKSk6bm9ybWFsaXplZCgpKSkNCglsb2NhbCBwZXJwMmE9IHN0YXJ0UG9zKyAod2lkdGgqKCgobm9ybWFsVmVjOmNyb3NzUChlbmRQb3MgLSBzdGFydFBvcykpOm5vcm1hbGl6ZWQoKSkpKQ0KCWxvY2FsIHBlcnAyYiA9IHN0YXJ0UG9zKyAod2lkdGgqKCgoZW5kUG9zIC1zdGFydFBvcyk6Y3Jvc3NQKG5vcm1hbFZlYykpOm5vcm1hbGl6ZWQoKSkpDQoJLS0JaWYgcGVycGEueSB+PTAgb3IgcGVycDJhLnkgfj0gMCBvciBwZXJwYiB+PSAwIG9yIHBlcnAyYi55IH49IDAgdGhlbiBwcmludCgiU0RBU0RBU0RBIikgZW5kDQoJCXBlcnBhLnkgPSAwDQoJCXBlcnAyYS55ID0wDQoJCXBlcnBiLnkgPTANCgkJcGVycDJiLnkgPSAwDQoJcmV0dXJuIHtwZXJwMmEscGVycGEscGVycGIscGVycDJiLHBlcnAyYX0NCmVuZA0KDQpjbGFzcyAnRFV0aWwnDQpEVXRpbC5pbnZTbG90cyA9IHtfRy5JVEVNXzEgLA0KCV9HLklURU1fMiwNCglfRy5JVEVNXzMsDQoJX0cuSVRFTV80LA0KCV9HLklURU1fNSwNCglfRy5JVEVNXzYsDQoJX0cuSVRFTV83fQ0KCQ0KRFV0aWwuY2ZnID0gbmlsDQpEVXRpbC5za2luSWR4ID0gMQ0KRFV0aWwuY2hhbmdlU2tpbiA9IGZhbHNlDQpmdW5jdGlvbiBEVXRpbDpfX2luaXQoKQ0KZW5kDQogDQpEVXRpbC5nZXRTdW1tb25lclNsb3QgPSBmdW5jdGlvbihzcGVsbE5hbWUpDQoJc3BlbGxOYW1lID0gc3BlbGxOYW1lOmxvd2VyKCkNCglsb2NhbCBzMURhdGEgID0gbXlIZXJvOkdldFNwZWxsRGF0YShTVU1NT05FUl8xKQ0KCWxvY2FsIHMyRGF0YSAgPSBteUhlcm86R2V0U3BlbGxEYXRhKFNVTU1PTkVSXzIpCQ0KCWlmIHMxRGF0YS5uYW1lOmxvd2VyKCkgPT0gc3BlbGxOYW1lIHRoZW4gcmV0dXJuIFNVTU1PTkVSXzEgZW5kDQoJaWYgczJEYXRhLm5hbWU6bG93ZXIoKSA9PSBzcGVsbE5hbWUgdGhlbiByZXR1cm4gU1VNTU9ORVJfMiBlbmQNCglyZXR1cm4gbmlsDQplbmQNCkRVdGlsLmlzUGFya2luZyA9IGZ1bmN0aW9uKHVuaXQpDQogcmV0dXJuIChzZWxmLnVuaXQucGF0aC5jb3VudCA8IDIgKSAgb3IgKG5vdCBzZWxmLnVuaXQuaXNNb3ZpbmcpDQplbmQNCg0KRFV0aWwuZ2V0TWFuYVBlcmMgPSBmdW5jdGlvbih1bml0KQ0KCWlmIG5vdCB1bml0IHRoZW4gdW5pdCA9IG15SGVybyBlbmQNCglyZXR1cm4gKHVuaXQubWFuYSoxMDApL3VuaXQubWF4TWFuYSANCmVuZA0KDQpEVXRpbC5nZXRIZWFsdGhQZXJjID0gZnVuY3Rpb24odW5pdCkNCglpZiBub3QgdW5pdCB0aGVuIHVuaXQgPSBteUhlcm8gZW5kDQoJcmV0dXJuICh1bml0LmhlYWx0aCoxMDApL3VuaXQubWF4SGVhbHRoDQplbmQNCg0KRFV0aWwuZ2V0SW52U2xvdEJ5SUQgPSBmdW5jdGlvbihpZCkNCglmb3IgaSA9IDEsICNEVXRpbC5pbnZTbG90cyBkbw0KCQlsb2NhbCBzbG90ID0gRFV0aWwuaW52U2xvdHNbaV0NCgkJaWYgbXlIZXJvOmdldEludmVudG9yeVNsb3Qoc2xvdCkgPT0gaWQgdGhlbiByZXR1cm4gc2xvdCBlbmQNCgllbmQNCglyZXR1cm4gbmlsDQplbmQNCg0KRFV0aWwucHJvY2Vzc09iamVjdHMgPSBmdW5jdGlvbihvYmplY3RzLHByb2NGdW5jLCAuLi4pDQogICAgZm9yIGk9MSwob2JqZWN0cyBhbmQgI29iamVjdHMgb3Igb2JqTWFuYWdlci5pQ291bnQpIGRvDQogICAgICAgICAgICBsb2NhbCBvYmogPSBvYmplY3RzIGFuZCBvYmplY3RzW2ldIG9yIG9iak1hbmFnZXI6Z2V0T2JqZWN0KGkpDQogICAgICAgICAgICAgIGlmIG9iaiB0aGVuDQogICAgICAgICAgICAgICAgbG9jYWwgYXJncyA9IHRhYmxlLnBhY2soLi4uKQ0KICAgICAgICAgICAgICAgIGxvY2FsIHN1Y2Nlc3NDb3VudCA9IDANCiAgICAgICAgICAgICAgICBmb3Igaj0xLGFyZ3MubiBkbw0KICAgICAgICAgICAgICAgICAgIGlmIGFyZ3Nbal0ob2JqKSB0aGVuIHN1Y2Nlc3NDb3VudCA9IHN1Y2Nlc3NDb3VudCArIDEgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgaWYoc3VjY2Vzc0NvdW50ID09IGFyZ3MubikgdGhlbg0KICAgICAgICAgICAgICAgICAgcHJvY0Z1bmMob2JqKQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICBlbmQNCiAgICBlbmQgICAgICAgICAgICANCmVuZA0KDQpEVXRpbC5wcm9jZXNzTWluaW9ucyA9IGZ1bmN0aW9uKG1pbmlvbnMscHJvY0Z1bmMsIC4uLikNCiAtLSBsb2NhbCBhcmdzID0gdGFibGUucGFjayguLi4pDQogIERVdGlsLnByb2Nlc3NPYmplY3RzKG1pbmlvbnMscHJvY0Z1bmMsLi4uLGZ1bmN0aW9uKG9iaikgcmV0dXJuIG9iai50eXBlIGFuZCBvYmoudHlwZSA9PSAib2JqX0FJX01pbmlvbiIgYW5kIChub3Qgb2JqLmRlYWQpIGFuZCBzdHJpbmcuc3RhcnRzKG9iai5uYW1lLCJNaW5pb24iKSBlbmQpICAgICAgICANCmVuZA0KDQpEVXRpbC5pbnZ1bFNwZWxscyA9IA0KeyJ1bmR5aW5ncmFnZSIsDQogInNpb25wYXNzaXZlem9tYmllIiwNCiAiWmFjUmViaXJ0aFJlYWR5IiwNCiAiRmVyb2Npb3VzSG93bCIsDQogIlZsYWRpbWlyU2FuZ3VpbmVQb29sIiwNCiAiYWF0cm94cGFzc2l2ZWRlYXRoIiwNCiAiY2hyb25vc2hpZnQiLCANCiAiQ2hyb25vUmV2aXZlIiwgDQogImp1ZGljYXRvcmludGVydmVudGlvbiIsDQogIkthcnRodXNEZWF0aERlZmllZEJ1ZmYiLA0KICJ6aG9ueWFzcmluZ3NoaWVsZCIsDQogImxpc3NhbmRyYXJzZWxmIiwNCiAiYmFuc2hlZXN2ZWlsIiwNCiAiU2l2aXJFIiwNCiAiTm9jdHVybmVXIiwNCiAia2luZHJlZHJub2RlYXRoYnVmZiINCiB9DQotLSBvYmplY3RzLCAuLi4gZmlsdGVycw0KRFV0aWwuZ2V0T2JqZWN0cyA9IGZ1bmN0aW9uKC4uLikNCiAgbG9jYWwgc3Vic2V0ID0ge30NCiAgbG9jYWwgaWR4ID0gMQ0KICBsb2NhbCBhcmdzID0gdGFibGUucGFjayguLi4pDQogICAgICBmb3IgaT0xLCBvYmpNYW5hZ2VyLmlDb3VudCBkbw0KICAgICAgICAgICAgbG9jYWwgb2JqID0gb2JqTWFuYWdlcjpnZXRPYmplY3QoaSkNCiAgICAgICAgICAgICAgaWYgb2JqIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCB2YWxpZCA9IHRydWUNCiAgICAgICAgICAgICAgICBmb3Igaj0xLGFyZ3MubiBkbw0KICAgICAgICAgICAgICAgICAgaWYgbm90IGFyZ3Nbal0ob2JqKSB0aGVuIHZhbGlkID0gZmFsc2UgOyBicmVhazsgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgaWYgdmFsaWQgdGhlbiBzdWJzZXRbaWR4XSA9IG9iaiA7IGlkeCA9IGlkeCArIDEgZW5kDQogICAgICAgICAgICAgIGVuZA0KICAgICAgZW5kDQogICAgICByZXR1cm4gc3Vic2V0DQplbmQNCg0KRFV0aWwuZ2V0TWluaW9ucyA9IGZ1bmN0aW9uKC4uLikNCiAgLS1sb2NhbCBhcmdzID0gdGFibGUucGFjayguLi4pDQogDQogIHJldHVybiBEVXRpbC5nZXRPYmplY3RzKC4uLixmdW5jdGlvbihvYmopDQogICAgLS1pZiBvYmoudmlzaWJsZSBhbmQgb2JqLnR5cGUgYW5kIG9iai50eXBlID09ICJvYmpfQUlfTWluaW9uIiBhbmQgKG5vdCBvYmouZGVhZCkgdGhlbiBwcmludChvYmoubmFtZSkgZW5kDQogIHJldHVybiBvYmoudmlzaWJsZSBhbmQgb2JqLnR5cGUgYW5kIG9iai50eXBlID09ICJvYmpfQUlfTWluaW9uIiBhbmQgb2JqLm5hbWUgfj0gIlBvbyIgYW5kIChub3Qgb2JqLmRlYWQpIGVuZCkNCmVuZA0KDQpEVXRpbC5wcm9jZXNzQ2hhbXBzID0gZnVuY3Rpb24ocHJvY0Z1bmMsIGZpbHRlcikNCiAgZm9yIGkgPSAxLCBoZXJvTWFuYWdlci5pQ291bnQgZG8gLS0gQWRkIEVuZW15IENoYW1wcyBDb2xsaXNpb24gDQoJCQkJCQkJCWxvY2FsIGhlcm8gPSBoZXJvTWFuYWdlcjpHZXRIZXJvKGkpDQogICAgICAgICAgICAgICAgaWYgaGVybyBhbmQgaGVyby52YWxpZCBhbmQgKGZpbHRlciA9PSBuaWwgYW5kIHRydWUgb3IgZmlsdGVyKGhlcm8pKSB0aGVuDQogICAgICAgICAgICAgICAgICBwcm9jRnVuYyhoZXJvKQ0KICAgICAgICAgICAgICAgIGVuZA0KICBlbmQNCmVuZA0KDQpEVXRpbC5oYXNCdWZmID0gZnVuY3Rpb24odW5pdCxidWZmTmFtZSkNCglpZiBub3QgdW5pdCB0aGVuIHVuaXQgPSBteUhlcm8gZW5kDQoJZm9yIGk9MSx1bml0LmJ1ZmZDb3VudCBkbw0KCQkJbG9jYWwgYnVmZiA9IHVuaXQ6Z2V0QnVmZihpKQ0KCQkJLS1pZiBidWZmIGFuZCBidWZmLnZhbGlkIHRoZW4gcHJpbnQoYnVmZi5uYW1lKSBlbmQNCgkJCS0tcHJpbnQoYnVmZi5uYW1lKQ0KCQkJaWYgYnVmZiBhbmQgYnVmZi52YWxpZCBhbmQgKHR5cGUoYnVmZk5hbWUpID09ICJ0YWJsZSIgYW5kIGJ1ZmZOYW1lW2J1ZmYubmFtZV0gb3IgYnVmZk5hbWUgPT0gYnVmZi5uYW1lKSB0aGVuIHJldHVybiB0cnVlIGVuZA0KCWVuZA0KCXJldHVybiBmYWxzZQ0KZW5kDQoNCkRVdGlsLmlzSW52dWxuZXJhYmxlID0gZnVuY3Rpb24odW5pdCkNCiAgZm9yIGssdiBpbiBwYWlycyhEVXRpbC5pbnZ1bFNwZWxscykgZG8NCiAgICBpZiBEVXRpbC5oYXNCdWZmKHVuaXQsdikgdGhlbg0KICAgICAgcmV0dXJuIHRydWUNCiAgICBlbmQNCiAgZW5kDQogICAgcmV0dXJuIGZhbHNlDQplbmQNCiANCg0KRFV0aWwuZ2FwQ2xvc2VycyA9IA0Kew0KICAgICAgICAgICAgICJMZW9uYVplbml0aEJsYWRlIiwNCgkJCSJBYXRyb3hRIiwNCgkJCSJBa2FsaVNoYWRvd0RhbmNlIiwNCgkJCSJIZWFkYnV0dCIsDQoJCQkiRmlvcmFRIiwNCgkJCSJEaWFuYVRlbGVwb3J0IiwNCgkJCSJFbGlzZVNwaWRlclFDYXN0IiwNCgkJCSJGaXp6UGllcmNpbmdTdHJpa2UiLA0KCQkJIkdyYWdhc0UiLA0KCQkJIkhlY2FyaW1VbHQiLA0KCQkJIkphcnZhbklWRHJhZ29uU3RyaWtlIiwNCgkJCSJJcmVsaWFHYXRvdHN1IiwNCgkJCSJKYXhMZWFwU3RyaWtlIiwNCgkJCSJLaGF6aXhFIiwNCgkJCSJraGF6aXhlbG9uZyIsDQoJCQkiTGVibGFuY1NsaWRlIiwNCgkJCSJMZWJsYW5jU2xpZGVNIiwNCgkJCSJCbGluZE1vbmtRVHdvIiwNCgkJCSJMZW9uYVplbml0aEJsYWRlIiwNCgkJCSJVRlNsYXNoIiwNCgkJCSJQYW50aGVvbl9MZWFwQmFzaCIsDQoJCQkiUG9wcHlIZXJvaWNDaGFyZ2UiLA0KCQkJIlJlbmVrdG9uU2xpY2VBbmREaWNlIiwNCgkJCSJSaXZlblRyaUNsZWF2ZSIsDQoJCQkiU2VqdWFuaUFyY3RpY0Fzc2F1bHQiLA0KCQkJInNsYXNoQ2FzdCIsDQoJCQkiVmlRIiwNCgkJCSJNb25rZXlLaW5nTmltYnVzIiwNCgkJCSJYZW5aaGFvU3dlZXAiLA0KCQkJIllhc3VvRGFzaFdyYXBwZXIiLA0KCQkJInN1bW1vbmVyZmxhc2giDQp9DQoNCkRVdGlsLmlzR2FwQ2xvc2VyID0gZnVuY3Rpb24oc3BlbGxOYW1lKQ0KCXJldHVybiB0YWJsZS5jb250YWlucyhEVXRpbC5nYXBDbG9zZXJzLHNwZWxsTmFtZSkNCmVuZA0KDQpEVXRpbC5pbnRlcnJ1cHRhYmxlcyAgPSB7DQoJCSAiS2F0YXJpbmFSIg0KCQkJLCJHYWxpb0lkb2xPZkR1cmFuZCINCgkJCSwiQ3Jvd3N0b3JtIg0KCQkJLCAiRHJhaW5DaGFubmVsIg0KCQkJLCJBYnNvbHV0ZVplcm8iDQoJCQksIlNoZW5TdGFuZFVuaXRlZCINCgkJCSwiVXJnb3RTd2FwMiINCgkJCSwiQWxaYWhhck5ldGhlckdyYXNwIg0KCQkJLCJGYWxsZW5PbmUiDQoJCQksIlBhbnRoZW9uX0dyYW5kU2t5ZmFsbF9KdW1wIg0KCQkJLCJDYWl0bHluQWNlaW50aGVIb2xlIg0KCQkJLCJNaXNzRm9ydHVuZUJ1bGxldFRpbWUiDQoJCQksIkluZmluaXRlRHVyZXNzIg0KCQkJLCJUZWxlcG9ydCINCgkJCSwiTWVkaXRhdGUiDQoJCQksInN1bW1vbmVydGVsZXBvcnQiDQoJCQkNCn0NCg0KRFV0aWwuaW5jbHVkZUF1dG9MZXZlbCA9IGZ1bmN0aW9uKGNmZykNCkRVdGlsLmNmZyA9IGNmZw0KRFV0aWwubGFzdExldmVsID0gbXlIZXJvLmxldmVsDQoNCmNmZzphZGRTdWJNZW51KCJBdXRvIExldmVsLVVwIiwiYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lKQ0KDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZSwiQXV0byBMZXZlbC1VcCIsU0NSSVBUX1BBUkFNX09OT0ZGLGZhbHNlKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDEiLCJMMSAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDAsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsMiIsIkwyICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWwzIiwiTDMgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSwwLDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDQiLCJMNCAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDAsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsNSIsIkw1ICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWw2IiwiTDYgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSw0LDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDciLCJMNyAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDAsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsOCIsIkw4ICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWw5IiwiTDkgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSwwLDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDEwIiwiTDEwICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWwxMSIsIkwxMSAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDQsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsMTIiLCJMMTIgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSwwLDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDEzIiwiTDEzICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWwxNCIsIkwxNCAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDAsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsMTUiLCJMMTUgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSwwLDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDE2IiwiTDE2ICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsNCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWwxNyIsIkwxNyAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDAsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsMTgiLCJMMTggKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSwwLDAsNCwwKQ0KaWYgbXlIZXJvLmxldmVsID09IDEgdGhlbiANCglsb2NhbCBpZHggPSBjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV1bImxldmVsMSJdDQoJaWYgKGNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXVsiYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXSApIGFuZCBpZHggfj0gMCB0aGVuIA0KCQlfRy5MZXZlbFNwZWxsKGlkeCAtIDEpDQoJZW5kDQogZW5kIA0KQWRkVGlja0NhbGxiYWNrKGZ1bmN0aW9uKCkgDQoJaWYgbXlIZXJvLmxldmVsIH49IERVdGlsLmxhc3RMZXZlbCB0aGVuIA0KCWxvY2FsIGlkeCA9IGNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXVsibGV2ZWwiLi4obXlIZXJvLmxldmVsKV0NCglpZiAoY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdICkgYW5kIGlkeCB+PSAwIHRoZW4gDQoJCV9HLkxldmVsU3BlbGwoaWR4IC0gMSkNCgllbmQNCglEVXRpbC5sYXN0TGV2ZWwgPSBteUhlcm8ubGV2ZWwgDQoJZW5kDQplbmQpDQoNCmVuZA0KDQpEVXRpbC5pbmNsdWRlU2tpbkNoYW5nZXIgPSBmdW5jdGlvbihjZmcpDQoJRFV0aWwuY2ZnID0gY2ZnDQoJY2ZnOmFkZFN1Yk1lbnUoIlNraW4gQ2hhbmdlciIsInNraW5DaGFuZ2VyIikNCgljZmcuc2tpbkNoYW5nZXI6YWRkUGFyYW0oImRvQ2hhbmdlIiwiQ2hhbmdlIixTQ1JJUFRfUEFSQU1fT05PRkYsdHJ1ZSkNCgljZmcuc2tpbkNoYW5nZXI6YWRkUGFyYW0oInNraW4iLCAiQ3VycmVudCBTa2luIiwgU0NSSVBUX1BBUkFNX0xJU1QsIDEsc2tpbnNbbXlIZXJvLmNoYXJOYW1lXSkNCglEVXRpbC5za2luSWR4ID0gY2ZnLnNraW5DaGFuZ2VyLnNraW4NCglEVXRpbC5jaGFuZ2VTa2luID0gY2ZnLnNraW5DaGFuZ2VyLmRvQ2hhbmdlDQoJLS1wcmludChEVXRpbC5za2luSWR4IC4uICIgdnMgIi4uY2ZnLnNraW5DaGFuZ2VyLnNraW4pDQoJU2V0U2tpbihteUhlcm8sY2ZnLnNraW5DaGFuZ2VyLmRvQ2hhbmdlIGFuZCBEVXRpbC5za2luSWR4IG9yIC0gMSkNCglBZGRUaWNrQ2FsbGJhY2soZnVuY3Rpb24oKQ0KCQkJbG9jYWwgY3VycklkeD0gY2ZnLnNraW5DaGFuZ2VyLnNraW4NCgkJCWxvY2FsIGNoYW5nZSA9IGNmZy5za2luQ2hhbmdlci5kb0NoYW5nZQ0KCQkJaWYgKGN1cnJJZHggfj0gRFV0aWwuc2tpbklkeCkgb3IgKCBjaGFuZ2Ugfj0gRFV0aWwuY2hhbmdlU2tpbikgdGhlbiANCgkJCSAgICBTZXRTa2luKG15SGVybyxjZmcuc2tpbkNoYW5nZXIuZG9DaGFuZ2UgYW5kIGN1cnJJZHggb3IgLSAxKQ0KCQkJCURVdGlsLnNraW5JZHggPSBjdXJySWR4DQoJCQkJRFV0aWwuY2hhbmdlU2tpbiA9IGNoYW5nZQ0KCQkJZW5kDQoJDQoJZW5kKQ0KCQ0KCUFkZFVubG9hZENhbGxiYWNrKGZ1bmN0aW9uKCkNCgkJU2V0U2tpbihteUhlcm8sLSAxKQ0KCWVuZCkNCmVuZA0KDQpEVXRpbC5pc0ludGVycnVwdGFibGUgPSBmdW5jdGlvbihzcGVsbE5hbWUpDQoJCXJldHVybiB0YWJsZS5jb250YWlucyhEVXRpbC5pbnRlcnJ1cHRhYmxlcyxzcGVsbE5hbWUpDQplbmQNCg0KICAgIGxvZ0RMKCJMb2FkZWQiKQ0KCURVdGlsLmFsbGllcyA9IHt9DQoJRFV0aWwuZW5lbWllcyA9IHt9DQoJIGZvciBpID0gMSwgaGVyb01hbmFnZXIuaUNvdW50IGRvDQogICAgICAgIGxvY2FsIGhlcm8gPSBoZXJvTWFuYWdlcjpHZXRIZXJvKGkpDQogICAgICAgIGlmIGhlcm8udGVhbSA9PSBteUhlcm8udGVhbSBhbmQgaGVyby5uZXR3b3JrSUQgfj0gcGxheWVyLm5ldHdvcmtJRCB0aGVuDQoJCQlEVXRpbC5hbGxpZXNbIiIuLmhlcm8ubmV0d29ya0lEXSA9IGhlcm8gDQoJCWVsc2VpZiBoZXJvLnRlYW0gfj0gbXlIZXJvLnRlYW0gdGhlbg0KCQkJRFV0aWwuZW5lbWllc1siIi4uaGVyby5uZXR3b3JrSURdID0gaGVybw0KCQllbmQNCgllbmQNCgkNCmNsYXNzICdEU2VsZWN0b3InDQpEU2VsZWN0b3IuUFJJT1JJVElFU19WQUxTID0geyJFQVNJRVNUIFRPIEtJTEwiLCJNT1NUIEFUVEFDS0lORyBNRSIsIk5FQVJFU1QiLCJORUFSRVNUIHRvIENVUlNPUiIsIk1PU1QgQVAiLCJNT1NUIEFEIn0NCkRTZWxlY3Rvci5QUklPUklUSUVTX0RFQlVGX1ZBTFMgPSB7Ik1PU1QgQVRUQUNLSU5HIE1FIiwiTkVBUkVTVCIsIk5FQVJFU1QgdG8gQ1VSU09SIiwiTU9TVCBBUCIsIk1PU1QgQUQifQ0KRFNlbGVjdG9yLlBSSU9SSVRJRVMgPSB7RUFTSUVTVF9UT19LSUxMID0gRFNlbGVjdG9yLlBSSU9SSVRJRVNfVkFMU1sxXSwgTU9TVF9BVFRBQ0tJTkdfTUUgPSBEU2VsZWN0b3IuUFJJT1JJVElFU19WQUxTWzJdLCBORUFSRVNUID0gRFNlbGVjdG9yLlBSSU9SSVRJRVNfVkFMU1szXSxORUFSX0NVUlNPUiA9IERTZWxlY3Rvci5QUklPUklUSUVTX1ZBTFNbNF0sTU9TVF9BRCA9IERTZWxlY3Rvci5QUklPUklUSUVTX1ZBTFNbNV0sIE1PU1RfQVAgPSBEU2VsZWN0b3IuUFJJT1JJVElFU19WQUxTWzZdfQ0KRFNlbGVjdG9yLmF0dGFja2VycyA9IHt9IC0tIGVuZW1pZXMgYXR0YWNraW5nIG1lICsgY291bnQgb2YgYXR0YWNrcyANCkRTZWxlY3Rvci5hdHRhY2tlZCA9IHt9IC0tIGVuZW1pZXMgYXR0YWNrZWQgYnkgYWxsaWVzICsgY291bnQgb2YgYXR0YWNrcw0KZnVuY3Rpb24gRFNlbGVjdG9yOl9faW5pdCgpDQogIHNlbGYuY2ZnID0gbmlsDQogIHNlbGYuZW5lbXlDb3VudCA9IDANCiAgc2VsZi50YXJnZXQgPSBuaWwNCiAgc2VsZi5zZWxlY3RlZCA9IG5pbA0KICBzZWxmLmVuZW1pZXMgPSB7fQ0KICBzZWxmLmRyYWdQb3MgPSBuaWwNCiAgc2VsZi5vdmVycmlkZUJ5T3Jid2Fsa2VyID0gZmFsc2UNCiAgc2VsZi5vdmVycmlkZUJ5U2NyaXB0ID0gZmFsc2UNCiAgZm9yIGssdiBpbiBwYWlycyhEVXRpbC5lbmVtaWVzKSBkbyAgc2VsZi5lbmVteUNvdW50ID0gc2VsZi5lbmVteUNvdW50ICsgMSBlbmQNCiAgc2VsZi54LHNlbGYueSA9IChkTGliU2F2ZSBhbmQgZExpYlNhdmUudHNIVUQpIGFuZCBkTGliU2F2ZS50c0hVRC54IG9yIDc3OCwoZExpYlNhdmUgYW5kIGRMaWJTYXZlLnRzSFVEKSBhbmQgZExpYlNhdmUudHNIVUQueSBvciA2MTUgLS0gY2VudGVyIGNvb3JkcywgdXNlIGdldHNhdmUNCiAgbG9jYWwgZUlkeCA9IDENCiAgZm9yIGssdiBpbiBwYWlycyhEVXRpbC5lbmVtaWVzKSBkbyANCglzZWxmLmVuZW1pZXNbZUlkeF0gPSB2DQoJZUlkeCA9IGVJZHggKyAxDQogIGVuZA0KICANCiAgQWRkUHJvY2Vzc0F0dGFja0NhbGxiYWNrKGZ1bmN0aW9uKHVuaXQsc3BlbGwpDQogIGlmIG5vdCB1bml0IG9yIG5vdCBzcGVsbCBvciBub3Qgc3BlbGwudGFyZ2V0IHRoZW4gcmV0dXJuIGVuZA0KICBpZiBEVXRpbC5lbmVtaWVzWyIiLi51bml0Lm5ldHdvcmtJRF0gYW5kIHNwZWxsLnRhcmdldC5pc01lIHRoZW4NCglsb2NhbCBhdHRhY2tlciA9IERTZWxlY3Rvci5hdHRhY2tlcnNbIiIuLnVuaXQubmV0d29ya0lEXQ0KCWlmIG5vdCBhdHRhY2tlciB0aGVuIERTZWxlY3Rvci5hdHRhY2tlcnNbIiIuLnVuaXQubmV0d29ya0lEXSA9IHt0aW1lciA9IERUaW1lcigyNTAwKSwgYXR0YWNrcyA9IDF9IA0KCWVsc2UgCQ0KCQlhdHRhY2tlci5hdHRhY2tzID0gYXR0YWNrZXIudGltZXI6aXNVcCgpIGFuZCAwIG9yIChhdHRhY2tlci5hdHRhY2tzICsgMSkNCgkJYXR0YWNrZXIudGltZXI6cmVzZXQoMjUwMCkgDQoJZW5kDQogIGVsc2VpZiBEVXRpbC5hbGxpZXNbIiIuLnVuaXQubmV0d29ya0lEXSBhbmQgRFV0aWwuZW5lbWllc1siIi4uc3BlbGwudGFyZ2V0Lm5ldHdvcmtJRF0gdGhlbg0KCWxvY2FsIGF0dGFja2VkID0gRFNlbGVjdG9yLmF0dGFja2VkWyIiLi5zcGVsbC50YXJnZXQubmV0d29ya0lEXQ0KCWlmIG5vdCBhdHRhY2tlZCB0aGVuIERTZWxlY3Rvci5hdHRhY2tlZFsiIi4uc3BlbGwudGFyZ2V0Lm5ldHdvcmtJRF0gPSB7dGltZXIgPSBEVGltZXIoMjUwMCksIGF0dGFja3MgPSAxfSANCgllbHNlIAkNCgkJYXR0YWNrZWQuYXR0YWNrcyA9IGF0dGFja2VkLnRpbWVyOmlzVXAoKSBhbmQgMCBvciAoYXR0YWNrZWQuYXR0YWNrcyArIDEpDQoJCWF0dGFja2VkLnRpbWVyOnJlc2V0KDI1MDApIA0KCWVuZA0KICBlbmQNCiBlbmQpDQogDQogIEFkZE1zZ0NhbGxiYWNrKGZ1bmN0aW9uKGlNc2csIHdQYXJhbSkNCiAgaWYgbm90IHNlbGYuY2ZnLnRzLnNob3dTZWxlY3RvckhVRCB0aGVuIHJldHVybiBlbmQNCiAgLS1wcmludChpTXNnLi4iLCIuLndQYXJhbSkNCiAgaWYgaU1zZyA9PSA1MTMgdGhlbiAtLWxlZnQgbW91c2UgYnRuIHByZXNzDQoJaWYgc2VsZi5zeCB0aGVuDQoJCWlmIEdldEN1cnNvclBvcygpLnggPiBzZWxmLnN4IGFuZCBHZXRDdXJzb3JQb3MoKS54IDwgc2VsZi5zeCArIHNlbGYuaGFsZlcqMiBhbmQgR2V0Q3Vyc29yUG9zKCkueSA8IHNlbGYuc3kgYW5kIEdldEN1cnNvclBvcygpLnkgPiBzZWxmLnN5IC0gc2VsZi5lbGVtZW50V2lkdGggdGhlbg0KCQkJc2VsZi5kcmFnUG9zID0gVmVjdG9yKEdldEN1cnNvclBvcygpLngsR2V0Q3Vyc29yUG9zKCkueSkNCgkJZWxzZWlmIEdldEN1cnNvclBvcygpLnggPiBzZWxmLnN4IGFuZCBHZXRDdXJzb3JQb3MoKS54IDwgc2VsZi5zeCArIHNlbGYuaGFsZlcqMiBhbmQgR2V0Q3Vyc29yUG9zKCkueSA+IHNlbGYuc3kgYW5kIEdldEN1cnNvclBvcygpLnkgPCBzZWxmLnN5ICsgc2VsZi5odWRIZWlnaHQgdGhlbg0KCS0tCXByaW50KChHZXRDdXJzb3JQb3MoKS55IC0gc2VsZi5zeSkvc2VsZi5lbGVtZW50V2lkdGgpDQogICAgICBsb2NhbCBkZXNlbGVjdGVkID0gc2VsZi5zZWxlY3RlZCBhbmQgc2VsZi5zZWxlY3RlZC5uZXR3b3JrSUQgID09IHNlbGYuZW5lbWllc1ttYXRoLmNlaWwoKEdldEN1cnNvclBvcygpLnkgLSBzZWxmLnN5KS9zZWxmLmVsZW1lbnRXaWR0aCldLm5ldHdvcmtJRA0KCQkJaWYgbm90IGRlc2VsZWN0ZWQgdGhlbiANCiAgICAgICAgc2VsZi5zZWxlY3RlZCA9IHNlbGYuZW5lbWllc1ttYXRoLmNlaWwoKEdldEN1cnNvclBvcygpLnkgLSBzZWxmLnN5KS9zZWxmLmVsZW1lbnRXaWR0aCldIA0KICAgICAgICBzZWxmLnRhcmdldCA9IHNlbGYuc2VsZWN0ZWQNCiAgICAgICAgZW5kDQoJCQlsb2dETChzZWxmLnNlbGVjdGVkLmNoYXJOYW1lLi4iIGhhcyBiZWVuICIuLihkZXNlbGVjdGVkIGFuZCAiZGVzZWxlY3RlZCIgb3IgInNlbGVjdGVkIGFzIGVuZW15IHRhcmdldC4iKSkNCiAgICAgIGlmIGRlc2VsZWN0ZWQgdGhlbg0KICAgICAgICAgIHNlbGYuc2VsZWN0ZWQgPSBuaWwgDQogICAgICAgICAgc2VsZi50YXJnZXQgPSBuaWwNCiAgICAgICAgZW5kDQoJCWVuZA0KCWVuZA0KCQkNCiAgZWxzZWlmIGlNc2cgPT0gNTE0IHRoZW4gLS1sZWZ0IG1vdXNlIGJ0biByZWxlYXNlDQoJCXNlbGYuZHJhZ1BvcyA9IG5pbA0KCSAgICBkTGliU2F2ZS50c0hVRCA9IHt4ID0gc2VsZi54LHkgPSBzZWxmLnl9DQoJCWRMaWJTYXZlOlNhdmUoKQ0KCQktLXByaW50KHNlbGYueC4uIiwiLi5zZWxmLnkpDQogIGVsc2VpZiBpTXNnID09IDUxMiB0aGVuIC0tIG1vdXNlIG1vdmUNCiAgCS0tcHJpbnQoInlheSIpDQoJaWYgc2VsZi5kcmFnUG9zIHRoZW4NCiANCgkJc2VsZi54ID0gc2VsZi54ICsgR2V0Q3Vyc29yUG9zKCkueCAtIHNlbGYuZHJhZ1Bvcy54DQoJCXNlbGYueSA9IHNlbGYueSArIEdldEN1cnNvclBvcygpLnkgLSBzZWxmLmRyYWdQb3MueQ0KCQlzZWxmLmRyYWdQb3MueCA9IEdldEN1cnNvclBvcygpLnggDQoJCXNlbGYuZHJhZ1Bvcy55ID0gR2V0Q3Vyc29yUG9zKCkueQ0KCWVuZA0KICANCiAgLS1bWyAgbG9jYWwgbmV3VGFyZ2V0ID0gc2VsZjpnZXRUYXJnZXRDdXN0b20oZnVuY3Rpb24oaDEsaDIpIA0KICAgICAgICBsb2NhbCBoMURpc3QsaDJEaXN0ID0gOTk5OTksOTk5OTkNCiAgICAgICAgaWYgaDEgdGhlbiBoMURpc3QgPSBHZXREaXN0YW5jZVNxcihoMSxtb3VzZVBvcykgZW5kDQogICAgICAgIGlmIGgyIHRoZW4gaDJEaXN0ID0gR2V0RGlzdGFuY2VTcXIoaDIsbW91c2VQb3MpIGVuZA0KICAgICAgICBpZiAobm90IGgxRGlzdCBhbmQgbm90IGgyRGlzdCkgb3IgKGgxRGlzdCA+IDEwMDAwIGFuZCBoMkRpc3QgPiAxMDAwMCkgdGhlbiByZXR1cm4gbmlsIA0KICAgICAgICBlbHNlDQogICAgICAgICByZXR1cm4gaDFEaXN0IDwgaDJEaXN0IGFuZCBoMSBvciBoMg0KICAgICAgICBlbmQNCiAgICAgIGVuZCx0cnVlKSANCiAgICBpZiBzZWxmLnNlbGVjdGVkIGFuZCBuZXdUYXJnZXQgPT0gc2VsZi50YXJnZXQgdGhlbiBzZWxmLnRhcmdldCA9IG5pbCBlbHNlaWYgbmV3VGFyZ2V0IHRoZW4gc2VsZi50YXJnZXQgPSBuZXdUYXJnZXQgZW5kDQoJXV0tLQ0KIGVuZCANCmVuZCkNCmVuZA0KDQpmdW5jdGlvbiBEU2VsZWN0b3I6aW5jbHVkZShjZmcpDQogIC0tbG9jYWwgYXJncyA9IHRhYmxlLnBhY2soLi4uKQ0KICBzZWxmLmNmZyA9IGNmZw0KICBjZmc6YWRkU3ViTWVudSgiVGFyZ2V0IFNlbGVjdGlvbiIsInRzIikNCiAgY2ZnLnRzOmFkZFBhcmFtKCJpbmZvMSIsIiogVXNlIEZvcmNlZCBIVUQgU2VsZWN0b3IgdG8gZm9yY2UgYSB0YXJnZXQiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBjZmcudHM6YWRkUGFyYW0oImluZm8yIiwic2VsZWN0aW9uIG92ZXIgYW55dGhpbmcgZWxzZS4gcHJlc3MgYSB0YXJnZXQgb24iLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBjZmcudHM6YWRkUGFyYW0oImluZm8zIiwidGhlIEhVRCB0byBzZWxlY3QsIHByZXNzIGFnYWluIHRvIGRlc2VsZWN0ICoiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICAgIGNmZy50czphZGRQYXJhbSgiaW5mbzEzIiwiICIsU0NSSVBUX1BBUkFNX0lORk8sIiIpDQogIGNmZy50czphZGRQYXJhbSgic2hvd1NlbGVjdG9ySFVEIiwiU2hvdyBUYXJnZXQgU2VsZWN0b3IgSFVEIixTQ1JJUFRfUEFSQU1fT05PRkYsdHJ1ZSkNCiAgLS1jZmcudHM6YWRkUGFyYW0oIm92ZXJyaWRlQnlPcmJ3YWxrZXIiLCJGb3JjZSBPcmJ3YWxrZXIncyB0YXJnZXQiLFNDUklQVF9QQVJBTV9PTk9GRix0cnVlKQ0KICBjZmcudHM6YWRkUGFyYW0oImJyZWFrMSIsIiAgICAgICAgICAgICAgICAgICAgICAgICAiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBjZmcudHM6YWRkUGFyYW0oImluZm80IiwiICAgICA8PC0tLS0tLS0tLS0tLSBBdXRvbWF0aWMgVGFyZ2V0aW5nIC0tLS0tLS0tLS0tPj4iLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBjZmcudHM6YWRkUGFyYW0oImJyZWFrMiIsIiAgICAgICAgICAgICAgICAgICAgICAgICAiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KIC0tW1sgZm9yIGkgPSAxLCBhcmdzLm4gZG8NCiAgICBsb2NhbCBzcGVsbCAgPSBhcmdzW2ldDQogICAgbG9jYWwgbGlzdCA9IHsiTU9TVCBBVFRBQ0tJTkcgTUUiLCJORUFSRVNUIiwiTkVBUiBDVVJTT1IiICwiTU9TVCBBUCBvciBBRCIsICJNT1NUIEFQIn0NCiAgICBpZiBzcGVsbC5nZXREYW1hZ2UgdGhlbiB0YWJsZS5pbnNlcnQobGlzdCwxLCJFQVNJRVNUIFRPIEtJTEwiKSBlbmQNCiAgICBjZmcudHM6YWRkUGFyYW0oc3BlbGwuYmluZGluZy4uIk1vZGUiLCBzcGVsbC5iaW5kaW5nLi4iIE1vZGUiLCBTQ1JJUFRfUEFSQU1fTElTVCwgc3BlbGwucHJpb3JpdHkgb3IgMSxsaXN0KSAgICAgDQogIGVuZF1dLS0NCiAgY2ZnLnRzOmFkZFBhcmFtKCJpbmZvMTAiLCI+PiAgIEVuZW15IFByaW9yaXR5IDogMVtNT1NUXSAtPiAiLi5zZWxmLmVuZW15Q291bnQuLiJbTEVBU1RdIDoiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBmb3Igayx2IGluIHBhaXJzKERVdGlsLmVuZW1pZXMpIGRvDQoJY2ZnLnRzOmFkZFBhcmFtKHYuY2hhck5hbWUuLiJwcmlvcml0eSIsICB2LmNoYXJOYW1lICwgU0NSSVBUX1BBUkFNX1NMSUNFLDEsMSxzZWxmLmVuZW15Q291bnQsMCkNCiAgZW5kDQogICAgY2ZnLnRzOmFkZFBhcmFtKCJpbmZvMTEiLCIgIixTQ1JJUFRfUEFSQU1fSU5GTywiIikNCiAgY2ZnLnRzOmFkZFBhcmFtKCJpbmZvMTIiLCI+PiAgIFRhcmdldGluZyBBbGdvcml0aG0gOiIsU0NSSVBUX1BBUkFNX0lORk8sIiIpDQogIGNmZy50czphZGRQYXJhbSgiZW5lbXlBZ2dyZXNzaXZlTW9kZSIsIkFnZ3Jlc3NpdmUgVGFyZ2V0aW5nIiwgU0NSSVBUX1BBUkFNX0xJU1QsIDEsIERTZWxlY3Rvci5QUklPUklUSUVTX1ZBTFMpICAgDQogDQogIGNmZy50czphZGRQYXJhbSgiZW5lbXlEZWJ1ZmZNb2RlIiwiRGVidWZmIFRhcmdldGluZyIsIFNDUklQVF9QQVJBTV9MSVNULCAxLCBEU2VsZWN0b3IuUFJJT1JJVElFU19ERUJVRl9WQUxTKSANCg0KICAtLWNmZy50czphZGRQYXJhbSgiYXNzaXN0IiwiRm9yY2UgdGFyZ2V0IHRvIG1vc3QtYXR0YWNrZWQgYnkgYWxsaWVzIixTQ1JJUFRfUEFSQU1fT05PRkYsdHJ1ZSkNCg0KICBjZmcudHM6YWRkUGFyYW0oImJyZWFrMyIsIiAgICAgICAgICAgICAgICAgICAgICAgICAiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBjZmcudHM6YWRkUGFyYW0oImluZm81IiwiICAgICAtLS0tLS0tLS0tLS0gT3Jid2Fsa2VycyBDb21wYXRpYmlsaXR5IC0tLS0tLS0tLS0tIixTQ1JJUFRfUEFSQU1fSU5GTywiIikNCiAgY2ZnLnRzOmFkZFBhcmFtKCJicmVhazQiLCIgICAgICAgICAgICAgICAgICAgICAgICAgIixTQ1JJUFRfUEFSQU1fSU5GTywiIikNCiAgLS1jZmcudHM6YWRkUGFyYW0oImZvcmNlVGFyZ2V0IiwiRm9yY2UgdGFyZ2V0LXNlbGVjdGlvbiBvbiBvcmJ3YWxrZXIgIixTQ1JJUFRfUEFSQU1fT05PRkYsZmFsc2UpDQogIC0tY2ZnLnRzOmFkZFBhcmFtKCJvdmVycmlkZU1vZGUiLCAiTW9kZSIsIFNDUklQVF9QQVJBTV9MSVNULCAxLCB7ICJGb3JjZSBzY3JpcHQncyB0YXJnZXQgb24gb3Jid2Fsa2VyIiwiRm9yY2Ugb3Jid2Fsa2VyJ3MgdGFyZ2V0IG9uIHNjcmlwdCIgfSkNCiAgDQogLS0gc2VsZi5vdmVycmlkZUJ5T3Jid2Fsa2VyID0gY2ZnLnRzLm92ZXJyaWRlQnlPcmJ3YWxrZXINCiAtLSBzZWxmLm92ZXJyaWRlQnlTY3JpcHQgPSBjZmcudHMub3ZlcnJpZGVCeVNjcmlwdA0KZW5kDQoNCmZ1bmN0aW9uIERTZWxlY3RvcjpnZXRCZXN0VGFyZ2V0KHByaW9yaXR5LCBzcGVsbCwgcmFuZ2UpDQogICAgICANCiAgcmV0dXJuIHNlbGY6Z2V0VGFyZ2V0Q3VzdG9tKCAgDQogICAgZnVuY3Rpb24oZTEsZTIpDQogICAgICBsb2NhbCBkaXN0U3FyMSA9IEdldERpc3RhbmNlU3FyKG15SGVybyxlMSkgLSBlMS5ib3VuZGluZ1JhZGl1cyANCiAgICAgIGxvY2FsIGRpc3RTcXIyID0gR2V0RGlzdGFuY2VTcXIobXlIZXJvLGUyKSAtIGUyLmJvdW5kaW5nUmFkaXVzDQogICAgICBsb2NhbCBzcGVsbFJhbmdlU3FyID0gKHNwZWxsLnJhbmdlKnNwZWxsLnJhbmdlKSArIChyYW5nZSBhbmQgcmFuZ2UqcmFuZ2Ugb3IgMCkNCiAgICAgIA0KICAgICAgaWYgZGlzdFNxcjEgPiBzcGVsbFJhbmdlU3FyIGFuZCBkaXN0U3FyMiA+IHNwZWxsUmFuZ2VTcXIgdGhlbiByZXR1cm4gbmlsDQogICAgICBlbHNlaWYgZGlzdFNxcjEgPCBzcGVsbFJhbmdlU3FyIGFuZCBkaXN0U3FyMiA+IHNwZWxsUmFuZ2VTcXIgdGhlbiByZXR1cm4gZTENCiAgICAgIGVsc2VpZiBkaXN0U3FyMiA8IHNwZWxsUmFuZ2VTcXIgYW5kIGRpc3RTcXIxID4gc3BlbGxSYW5nZVNxciB0aGVuIHJldHVybiBlMiBlbmQNCgkgIA0KCSAgLS1bW2lmIGNmZy50cy5hc3Npc3QgdGhlbiANCgkgICAgaWYgbm90IERTZWxlY3Rvci5hdHRhY2tlZFsiIi4uZTEubmV0d29ya0lEXSBhbmQgDQoJICBlbmRdXS0tDQoJICBpZiBzZWxmLmNmZy50c1tlMS5jaGFyTmFtZS4uInByaW9yaXR5Il0gPCBzZWxmLmNmZy50c1tlMi5jaGFyTmFtZS4uInByaW9yaXR5Il0gdGhlbiByZXR1cm4gZTENCgkgIGVsc2VpZiBzZWxmLmNmZy50c1tlMS5jaGFyTmFtZS4uInByaW9yaXR5Il0gPiBzZWxmLmNmZy50c1tlMi5jaGFyTmFtZS4uInByaW9yaXR5Il0gdGhlbiByZXR1cm4gZTINCiAgICAgIGVsc2VpZiBwcmlvcml0eSA9PSBEU2VsZWN0b3IuUFJJT1JJVElFUy5FQVNJRVNUX1RPX0tJTEwgdGhlbg0KICAgICAgICAgIHJldHVybiBlMS5oZWFsdGggLSBzcGVsbC5nZXREYW1hZ2UoZTEpIDwgZTIuaGVhbHRoIC0gc3BlbGwuZ2V0RGFtYWdlKGUyKSBhbmQgZTEgb3IgZTINCiAgICAgIGVsc2VpZiBwcmlvcml0eSA9PSBEU2VsZWN0b3IuUFJJT1JJVElFUy5ORUFSRVNUIHRoZW4gICAgICANCiAgICAgICAgICByZXR1cm4gZGlzdFNxcjEgPCBkaXN0U3FyMiBhbmQgZTEgb3IgZTINCiAgICAgIGVsc2VpZiBwcmlvcml0eSA9PSBEU2VsZWN0b3IuUFJJT1JJVElFUy5NT1NUX0FUVEFDS0lOR19NRSB0aGVuDQoJCQlpZiBub3QgRFNlbGVjdG9yLmF0dGFja2Vyc1siIi4uZTEubmV0d29ya0lEXSBhbmQgbm90IERTZWxlY3Rvci5hdHRhY2tlcnNbIiIuLmUyLm5ldHdvcmtJRF0gdGhlbiANCgkJCQlpZiBzcGVsbC5nZXREYW1hZ2UgdGhlbiByZXR1cm4gKGUxLmhlYWx0aCAtIHNwZWxsLmdldERhbWFnZShlMSkgPCBlMi5oZWFsdGggLSBzcGVsbC5nZXREYW1hZ2UoZTIpKSBhbmQgZTEgb3IgZTINCgkJCQllbHNlIHJldHVybiBkaXN0U3FyMSA8IGRpc3RTcXIyIGFuZCBlMSBvciBlMiBlbmQNCgkJCWVsc2VpZiBEU2VsZWN0b3IuYXR0YWNrZXJzWyIiLi5lMS5uZXR3b3JrSURdIGFuZCBub3QgRFNlbGVjdG9yLmF0dGFja2Vyc1siIi4uZTIubmV0d29ya0lEXSB0aGVuIHJldHVybiBlMSANCgkJCWVsc2VpZiBub3QgRFNlbGVjdG9yLmF0dGFja2Vyc1siIi4uZTEubmV0d29ya0lEXSBhbmQgRFNlbGVjdG9yLmF0dGFja2Vyc1siIi4uZTIubmV0d29ya0lEXSB0aGVuIHJldHVybiBlMiBlbmQJCQkNCgkJCXJldHVybiBEU2VsZWN0b3IuYXR0YWNrZXJzWyIiLi5lMS5uZXR3b3JrSURdLmF0dGFja3MgPiBEU2VsZWN0b3IuYXR0YWNrZXJzWyIiLi5lMi5uZXR3b3JrSURdLmF0dGFja3MgYW5kIGUxIG9yIGUyDQoJICBlbHNlaWYgcHJpb3JpdHkgPT0gRFNlbGVjdG9yLlBSSU9SSVRJRVMuTkVBUl9DVVJTT1IgdGhlbg0KCQkJcmV0dXJuIEdldERpc3RhbmNlU3FyKG1vdXNlUG9zLGUxKSA8IEdldERpc3RhbmNlU3FyKG1vdXNlUG9zLGUyKSBhbmQgZTEgb3IgZTINCgkgIGVsc2VpZiBwcmlvcml0eSA9PSBEU2VsZWN0b3IuUFJJT1JJVElFUy5NT1NUX0FEIHRoZW4NCgkJCXJldHVybiBlMS5hcCA+IGUyLmFwIGFuZCBlMSBvciBlMg0KCSAgZWxzZWlmIHByaW9yaXR5ID09IERTZWxlY3Rvci5QUklPUklUSUVTLk1PU1RfQVAgdGhlbg0KCQkJcmV0dXJuIGUxLnRvdGFsRGFtYWdlID4gZTIudG90YWxEYW1hZ2UgYW5kIGUxIG9yIGUyDQoJICBlbmQNCiANCiAgICAgIHJldHVybiBuaWwNCiAgICBlbmQgDQogICAgLHRydWUpDQplbmQNCg0KZnVuY3Rpb24gRFNlbGVjdG9yOmdldFRhcmdldEN1c3RvbShjb21wYXJhdG9yLGlzRW5lbXkpDQogIGxvY2FsIGJlc3RDaGFtcCA9IG5pbA0KICBmb3IgaSA9IDEsIGhlcm9NYW5hZ2VyLmlDb3VudCBkbw0KICAgIGxvY2FsIGhlcm8gPSBoZXJvTWFuYWdlcjpHZXRIZXJvKGkpDQogICAgaWYgaGVybyBhbmQgaGVyby52YWxpZCBhbmQgKG5vdCBoZXJvLmRlYWQpIGFuZCBoZXJvLnZpc2libGUgYW5kIChub3QgRFV0aWwuaXNJbnZ1bG5lcmFibGUoaGVybykpIGFuZCAoKGlzRW5lbXkgPT0gdHJ1ZSBhbmQgaGVyby50ZWFtIH49IG15SGVyby50ZWFtKSBvciAoaXNFbmVteSA9PSBmYWxzZSBhbmQgbXlIZXJvLnRlYW0gPT0gaGVyby50ZWFtKSBvciAoaXNFbmVteSA9PSBuaWwgYW5kIHRydWUpKXRoZW4gDQogICAgICAgIGJlc3RDaGFtcCA9IGNvbXBhcmF0b3IoYmVzdENoYW1wIG9yIGhlcm8saGVybykgIA0KICAgIGVuZA0KICBlbmQNCiAgc2VsZi50YXJnZXQgPSBiZXN0Q2hhbXAgDQogIHJldHVybiBiZXN0Q2hhbXAtLSBvciBzZWxmLnRhcmdldA0KZW5kDQoNCmZ1bmN0aW9uIERTZWxlY3RvcjpnZXRUYXJnZXQoIHNwZWxsICxyYW5nZSApDQogICAgbG9jYWwgdGFyZ2V0ID0gc2VsZi5zZWxlY3RlZCANCglpZiBub3QgdGFyZ2V0IG9yIEdldERpc3RhbmNlU3FyKHRhcmdldCxteUhlcm8pID4gKHNwZWxsLnJhbmdlKnNwZWxsLnJhbmdlKSArIChyYW5nZSBhbmQgcmFuZ2UqcmFuZ2Ugb3IgMCkgdGhlbiANCgkJdGFyZ2V0ID0gc2VsZjpnZXRCZXN0VGFyZ2V0KHNwZWxsLmdldERhbWFnZSBhbmQgRFNlbGVjdG9yLlBSSU9SSVRJRVNfVkFMU1tzZWxmLmNmZy50cy5lbmVteUFnZ3Jlc3NpdmVNb2RlXSBvciBEU2VsZWN0b3IuUFJJT1JJVElFU19ERUJVRl9WQUxTW3NlbGYuY2ZnLnRzLmVuZW15RGVidWZmTW9kZV0gLHNwZWxsLHJhbmdlKSAgIA0KCWVuZA0KCWlmIHRhcmdldCBhbmQgdGFyZ2V0LnZpc2libGUgdGhlbiByZXR1cm4gdGFyZ2V0IGVsc2UgcmV0dXJuIG5pbCBlbmQNCmVuZA0KDQpmdW5jdGlvbiBEU2VsZWN0b3I6ZHJhd1NlbGVjdG9ySFVEKGhhbGZXLHRyYW5zKQ0KIHNlbGYuaGFsZlcgPSBoYWxmVw0KIHNlbGYuZWxlbWVudFdpZHRoID0gMjANCiANCnNlbGYuaHVkSGVpZ2h0PSBzZWxmLmVsZW1lbnRXaWR0aCpzZWxmLmVuZW15Q291bnQNCnNlbGYuc3gsc2VsZi5zeSxzZWxmLmV4LHNlbGYuZXkgPSAgc2VsZi54IC0gaGFsZlcsIHNlbGYueSAtIHNlbGYuaHVkSGVpZ2h0LzIsIHNlbGYueCArIGhhbGZXLHNlbGYueSAtIHNlbGYuaHVkSGVpZ2h0LzINCglEcmF3TGluZShzZWxmLnN4LHNlbGYueSxzZWxmLmV4LHNlbGYueSxzZWxmLmh1ZEhlaWdodCxERHJhdy5nZXRUcmFuc0NvbG9yKHRyYW5zLCIwMDAwMDAiKSkgLS0gSFVEIEJhY2tncm91bmQNCglEcmF3UmVjdGFuZ2xlKHNlbGYuc3gsIHNlbGYuc3kgLSBzZWxmLmVsZW1lbnRXaWR0aCwgc2VsZi5oYWxmVyoyLHNlbGYuZWxlbWVudFdpZHRoLCBERHJhdy5nZXRUcmFuc0NvbG9yKCJDQyIsIjAwMDAwMCIpKSAtLSB0aXRsZSBiYXINCglEcmF3VGV4dCgiRm9yY2VkIFRhcmdldCBTZWxlY3RvciIsMTIsc2VsZi5zeCArIDEwLHNlbGYuc3kgLSBzZWxmLmVsZW1lbnRXaWR0aCsgNSxERHJhdy5nZXRUcmFuc0NvbG9yKCJDQyIsIkZGRkZGRiIpKQ0KCWxvY2FsIHlPZmYgPSAwDQoJZm9yIGssdiBpbiBwYWlycyhEVXRpbC5lbmVtaWVzKSBkbw0KCQlpZiBzZWxmLnNlbGVjdGVkIGFuZCBzZWxmLnNlbGVjdGVkLm5ldHdvcmtJRCA9PSB2Lm5ldHdvcmtJRCB0aGVuIA0KCQkJIERyYXdSZWN0YW5nbGUoc2VsZi5zeCwgc2VsZi5zeSArIHlPZmYsIHNlbGYuaGFsZlcqMixzZWxmLmVsZW1lbnRXaWR0aCwgRERyYXcuZ2V0VHJhbnNDb2xvcih0cmFucywiRjY2NjY2IikpDQoJCWVuZA0KCQlEcmF3VGV4dCh2LmNoYXJOYW1lLDE0LHNlbGYuc3ggKyAxMCwgc2VsZi5zeSArIHlPZmYgKyA1LEREcmF3LmdldFRyYW5zQ29sb3IodHJhbnMsIkZGRkZGRiIpKSANCgkJeU9mZiA9IHlPZmYgKyBzZWxmLmVsZW1lbnRXaWR0aA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIERTZWxlY3RvcjpkcmF3KCkNCi0tW1sNCmZvciBrLHYgaW4gcGFpcnMoRFNlbGVjdG9yLmF0dGFja2VycykgZG8NCglsb2NhbCB0YXJnZXQgPSBEVXRpbC5lbmVtaWVzW2tdDQoJRHJhd1RleHQzRCgiQXR0YWNrcyA6ICIuLih2LnRpbWVyOmlzVXAoKSBhbmQgMCBvciB2LmF0dGFja3MpLHRhcmdldC54LHRhcmdldC55LHRhcmdldC56LDEwLDB4RkZGRkZGRkYpDQplbmQNCg0KZm9yIGssdiBpbiBwYWlycyhEU2VsZWN0b3IuYXR0YWNrZWQpIGRvDQoJbG9jYWwgdGFyZ2V0ID0gRFV0aWwuZW5lbWllc1trXQ0KCURyYXdUZXh0M0QoIkF0dGFja2VkIDogIi4uKHYudGltZXI6aXNVcCgpIGFuZCAwIG9yIHYuYXR0YWNrcyksdGFyZ2V0LngsdGFyZ2V0LnkrNTAsdGFyZ2V0LnosMTAsMHhGRkZGRkZGRikNCmVuZA0KXV0tLQ0KaWYgc2VsZi5jZmcudHMuc2hvd1NlbGVjdG9ySFVEIHRoZW4gc2VsZjpkcmF3U2VsZWN0b3JIVUQoODAsIjgwIikgZW5kDQpsb2NhbCB0YXJnZXQgPSBzZWxmLnRhcmdldA0KaWYgdGFyZ2V0IGFuZCB0YXJnZXQudmlzaWJsZSBhbmQgKG5vdCB0YXJnZXQuZGVhZCkgdGhlbiBERHJhdy5kcmF3TEZTKHRhcmdldC54LHRhcmdldC55LHRhcmdldC56LCB0YXJnZXQuYm91bmRpbmdSYWRpdXMsIDIsIDB4RkZGRjAwMDAsIDIsZmFsc2UsZmFsc2UsMikgZW5kDQplbmQNCg0KDQpjbGFzcyAnREhlYWx0aEluZGljYXRvcicNCg0KCURIZWFsdGhJbmRpY2F0b3IueE9mZnNldHMgPSB7DQoJCVsnQW5pdmlhRWdnJ10gPSAtMC4xLA0KCQlbJ0Rhcml1cyddID0gLTAuMDUsDQoJCVsnSmhpbiddID0gMC4wNSwNCgkJWydSZW5la3RvbiddID0gLTAuMDUsDQoJCVsnU2lvbiddID0gLTAuMDUsDQoJCVsnVGhyZXNoJ10gPSAtMC4wMywNCgl9DQoJREhlYWx0aEluZGljYXRvci55T2Zmc2V0cyA9IHtbJ0poaW4nXSA9IDIyLH0NCg0KCURIZWFsdGhJbmRpY2F0b3IuZ2V0UmVhbEJhclBvcyA9IGZ1bmN0aW9uKHVuaXQpDQoJCWxvY2FsIHN0YXJ0UG9zID0gR2V0VW5pdEhQQmFyUG9zKHVuaXQpDQoJCWxvY2FsIHdpZHRoID0gMTAzDQoJCWxvY2FsIGJhck9mZiA9IEdldFVuaXRIUEJhck9mZnNldCh1bml0KQ0KCQlyZXR1cm4gVmVjdG9yKHN0YXJ0UG9zLnggKyAoKERIZWFsdGhJbmRpY2F0b3IueE9mZnNldHNbdW5pdC5jaGFyTmFtZV0gb3IgMCkgKiAxNDApIC0gNjUsIHN0YXJ0UG9zLnkgKyAoYmFyT2ZmLnkgKiA1MykgKyAzIC0gKERIZWFsdGhJbmRpY2F0b3IueU9mZnNldHNbdW5pdC5jaGFyTmFtZV0gb3IgMCkpLHdpZHRoDQoJZW5kDQoJIA0KCURIZWFsdGhJbmRpY2F0b3IuZHJhdyA9IGZ1bmN0aW9uKHVuaXQsIC4uLikNCgkJaWYgbm90IEREcmF3LmNmZy5kcmF3aW5nLmRyYXdISW5kaWNhdG9yIG9yIG5vdCB1bml0LnZpc2libGUgb3IgdW5pdC5kZWFkIHRoZW4gcmV0dXJuIGVuZA0KCQlsb2NhbCB3dHMgPSBXb3JsZFRvU2NyZWVuKEQzRFhWRUNUT1IzKHVuaXQueCx1bml0LnksdW5pdC56KSkNCgkJaWYgbm90IE9uU2NyZWVuKHd0cy54LHd0cy55KSB0aGVuIHJldHVybiBlbmQNCgkJbG9jYWwgc3BlbGxzID0gdGFibGUucGFjayguLi4pDQoJCWxvY2FsIHBvcyx3aWR0aCA9IERIZWFsdGhJbmRpY2F0b3IuZ2V0UmVhbEJhclBvcyh1bml0KQ0KCQlsb2NhbCB0b3RhbERhbWFnZSA9IDANCgkJbG9jYWwgY2hhclNpemUgPSBERHJhdy5jZmcuZHJhd2luZy5oSW5kaWNhdG9yU2V0dGluZ3Muc2l6ZQ0KCQlsb2NhbCB0eHRIZWlnaHQgPSBERHJhdy5jZmcuZHJhd2luZy5oSW5kaWNhdG9yU2V0dGluZ3MuaGVpZ2h0DQoJCWxvY2FsIGNoYXJXaWR0aCA9IGNoYXJTaXplIC8yDQoJCWxvY2FsIGNoYXJXaWR0aEhhbGYgPSBjaGFyV2lkdGggLzINCgkJbG9jYWwgeE9mZiA9IDANCgkJbG9jYWwgbGFzdERyYXdQb3NYID0gbmlsDQoJCWxvY2FsIGxhc3ROZXdQb3NYID0gbmlsDQoJCWZvciBpID0gMSwgc3BlbGxzLm4gZG8NCgkJICBsb2NhbCBzcGVsbCA9IHNwZWxsc1tpXQ0KCQkgIGxvY2FsIGNkQXJnLHJhbmdlQXJnID0gZmFsc2UsZmFsc2UNCgkJICBpZiBzcGVsbCB0aGVuDQoJCSAgaWYgRERyYXcuY2ZnLmRyYXdpbmcuaEluZGljYXRvclNldHRpbmdzLmRyYXdOb3RPbkNEIHRoZW4gY2RBcmcgPSBteUhlcm86Q2FuVXNlU3BlbGwoc3BlbGwuaWR4KSA9PSBSRUFEWQ0KCQkgIGVsc2UgY2RBcmcgPSBteUhlcm86Q2FuVXNlU3BlbGwoc3BlbGwuaWR4KSB+PSAxMiBlbmQNCgkJICANCgkJICAgaWYgRERyYXcuY2ZnLmRyYXdpbmcuaEluZGljYXRvclNldHRpbmdzLmRyYXdJblJhbmdlIHRoZW4gcmFuZ2VBcmcgPSBHZXREaXN0YW5jZVNxcih1bml0LG15SGVybykgPCBzcGVsbC5yYW5nZSpzcGVsbC5yYW5nZQ0KCQkgIGVsc2UgcmFuZ2VBcmcgPSB0cnVlIGVuZA0KCQkgIA0KCQkJaWYgc3BlbGwuZ2V0RGFtYWdlIGFuZCBzcGVsbC5yYW5nZSBhbmQgY2RBcmcgYW5kIHJhbmdlQXJnIHRoZW4NCgkJCQl0b3RhbERhbWFnZSA9IHRvdGFsRGFtYWdlICsgc3BlbGwuZ2V0RGFtYWdlKHVuaXQpDQoJCQkJZG1nUGVyYyA9ICgxMDAqdG90YWxEYW1hZ2UpL3VuaXQuaGVhbHRoDQoJCQkJY3VyckhlYWx0aFdpZHRoID0gKHVuaXQuaGVhbHRoKndpZHRoKS91bml0Lm1heEhlYWx0aA0KCQkJCWxvY2FsIGRtZ1hPZmYgPSAgKGRtZ1BlcmMqY3VyckhlYWx0aFdpZHRoKS8xMDANCgkJCQlsb2NhbCBuZXdQb3NYID0gTUFYKHBvcy54LHBvcy54ICsgY3VyckhlYWx0aFdpZHRoIC0gZG1nWE9mZikNCgkJCQlsb2NhbCBjb2xvclZhbCA9IHdpZHRoIC0gY3VyckhlYWx0aFdpZHRoICsgZG1nWE9mZg0KCQkJCWxvY2FsIGNvbG9yID0gRERyYXcuZ2V0SGVhdENvbG9yKE1JTih3aWR0aCxjb2xvclZhbCksMCwgd2lkdGgsMjU1KQ0KCQkJCWxvY2FsIGNvbG9yVHJhbnMgPSBERHJhdy5nZXRIZWF0Q29sb3IoTUlOKHdpZHRoLGNvbG9yVmFsKSwwLCB3aWR0aCxERHJhdy5jZmcuZHJhd2luZy5oSW5kaWNhdG9yU2V0dGluZ3MuYWxwaGEpDQoJCQkJRHJhd0xpbmUobmV3UG9zWCxwb3MueSxsYXN0TmV3UG9zWCBhbmQgKGxhc3ROZXdQb3NYIC0gMSkgb3IgKHBvcy54ICsgY3VyckhlYWx0aFdpZHRoKSxwb3MueSwxMCxjb2xvclRyYW5zKQ0KCQkJCURyYXdMaW5lKG5ld1Bvc1gsIHBvcy55ICsgMyAsIG5ld1Bvc1gsIHBvcy55IC0gMTAsMSxjb2xvcikNCgkJCQlEcmF3TGluZShuZXdQb3NYIC0gMSwgcG9zLnkgKyAzICwgbmV3UG9zWCAtIDEsIHBvcy55IC0gMTAgLSAxLDEsMHhGRjAwMDAwMCkNCgkJCQl4T2ZmID0gbGFzdERyYXdQb3NYIGFuZCAoKGxhc3REcmF3UG9zWCAtIG5ld1Bvc1ggPiBjaGFyV2lkdGggYW5kIDAgb3IgKHhPZmYgKyBjaGFyV2lkdGggLSAobGFzdE5ld1Bvc1ggLSBuZXdQb3NYKSkpKSBvciAwCQkNCgkJCQlEcmF3TGluZShuZXdQb3NYLCBwb3MueS0xMCAsIG5ld1Bvc1ggLSB4T2ZmLCBwb3MueSAtIHR4dEhlaWdodCwxLGNvbG9yKQ0KCQkJCS0tRHJhd0xpbmUobmV3UG9zWCAtIDEsIHBvcy55LTEwICwgbmV3UG9zWCAtIDEgLSB4T2ZmLCBwb3MueSAtIDE4LDEsMHhGRjAwMDAwMCkNCgkJCQlEcmF3VGV4dChzcGVsbC5iaW5kaW5nLGNoYXJTaXplLCBuZXdQb3NYIC0geE9mZiAtIGNoYXJXaWR0aEhhbGYgLSAxLCBwb3MueSAtICh0eHRIZWlnaHQgICsgOSksMHhGRjAwMDAwMCkgDQoJCQkJRHJhd1RleHQoc3BlbGwuYmluZGluZyxjaGFyU2l6ZSwgbmV3UG9zWCAtIHhPZmYgLSBjaGFyV2lkdGhIYWxmLCBwb3MueSAtICh0eHRIZWlnaHQgKyAxMCksY29sb3IpIA0KCQkgDQoJCQkJbGFzdE5ld1Bvc1ggPSBuZXdQb3NYDQoJCQkJbGFzdERyYXdQb3NYID0gbGFzdE5ld1Bvc1ggLSB4T2ZmDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoNCgllbmQNCiANCmNsYXNzICJTY3JpcHRVcGRhdGUiDQpTY3JpcHRVcGRhdGUudXBkYXRpbmdDb3VudCA9IDANClNjcmlwdFVwZGF0ZS51cGRhdGluZyA9IHt9DQpmdW5jdGlvbiBTY3JpcHRVcGRhdGU6X19pbml0KG5hbWUsTG9jYWxWZXJzaW9uLFVzZUh0dHBzLCBIb3N0LCBWZXJzaW9uUGF0aCwgU2NyaXB0UGF0aCwgU2F2ZVBhdGgsIENhbGxiYWNrVXBkYXRlLCBDYWxsYmFja05vVXBkYXRlLCBDYWxsYmFja05ld1ZlcnNpb24sQ2FsbGJhY2tFcnJvcikNCiAgICBzZWxmLkxvY2FsVmVyc2lvbiA9IExvY2FsVmVyc2lvbg0KCVNjcmlwdFVwZGF0ZS51cGRhdGluZ0NvdW50ID0gU2NyaXB0VXBkYXRlLnVwZGF0aW5nQ291bnQgKyAxDQoJc2VsZi5pZHggPSBTY3JpcHRVcGRhdGUudXBkYXRpbmdDb3VudA0KCVNjcmlwdFVwZGF0ZS51cGRhdGluZ1tzZWxmLmlkeF0gPSBzZWxmLmlkeA0KCXNlbGYuTmFtZSA9IG5hbWUNCiAgICBzZWxmLkhvc3QgPSBIb3N0DQogICAgc2VsZi5WZXJzaW9uUGF0aCA9ICcvQm9ML1RDUFVwZGF0ZXIvR2V0U2NyaXB0Jy4uKFVzZUh0dHBzIGFuZCAnNScgb3IgJzYnKS4uJy5waHA/c2NyaXB0PScuLnNlbGY6QmFzZTY0RW5jb2RlKHNlbGYuSG9zdC4uVmVyc2lvblBhdGgpLi4nJnJhbmQ9Jy4ubWF0aC5yYW5kb20oOTk5OTk5OTkpDQogICAgc2VsZi5TY3JpcHRQYXRoID0gJy9Cb0wvVENQVXBkYXRlci9HZXRTY3JpcHQnLi4oVXNlSHR0cHMgYW5kICc1JyBvciAnNicpLi4nLnBocD9zY3JpcHQ9Jy4uc2VsZjpCYXNlNjRFbmNvZGUoc2VsZi5Ib3N0Li5TY3JpcHRQYXRoKS4uJyZyYW5kPScuLm1hdGgucmFuZG9tKDk5OTk5OTk5KQ0KICAgIHNlbGYuU2F2ZVBhdGggPSBTYXZlUGF0aA0KICAgIHNlbGYuQ2FsbGJhY2tVcGRhdGUgPSBDYWxsYmFja1VwZGF0ZQ0KICAgIHNlbGYuQ2FsbGJhY2tOb1VwZGF0ZSA9IENhbGxiYWNrTm9VcGRhdGUNCiAgICBzZWxmLkNhbGxiYWNrTmV3VmVyc2lvbiA9IENhbGxiYWNrTmV3VmVyc2lvbg0KICAgIHNlbGYuQ2FsbGJhY2tFcnJvciA9IENhbGxiYWNrRXJyb3INCiAgICBBZGREcmF3Q2FsbGJhY2soZnVuY3Rpb24oKSBzZWxmOk9uRHJhdygpIGVuZCkNCiAgICBzZWxmOkNyZWF0ZVNvY2tldChzZWxmLlZlcnNpb25QYXRoKQ0KICAgIHNlbGYuRG93bmxvYWRTdGF0dXMgPSAnQ29ubmVjdCB0byBTZXJ2ZXIgZm9yIFZlcnNpb25JbmZvJw0KCXNlbGYuRG93bmxvYWRQZXJjID0gMA0KICAgIEFkZFRpY2tDYWxsYmFjayhmdW5jdGlvbigpIHNlbGY6R2V0T25saW5lVmVyc2lvbigpIGVuZCkNCmVuZA0KDQpmdW5jdGlvbiBTY3JpcHRVcGRhdGU6cHJpbnQoc3RyKQ0KICAgIHByaW50KCc8Zm9udCBjb2xvcj0iI0ZGRkZGRiI+Jy4ub3MuY2xvY2soKS4uJzogJy4uc3RyKQ0KZW5kDQoNCmZ1bmN0aW9uIFNjcmlwdFVwZGF0ZTpPbkRyYXcoKQ0KCWlmIG5vdCBTY3JpcHRVcGRhdGUudXBkYXRpbmdbc2VsZi5pZHhdIHRoZW4gcmV0dXJuIGVuZA0KICAgIGlmIHNlbGYuRG93bmxvYWRQZXJjIH49IDEwMCB0aGVuDQoJICAgIGxvY2FsIHcsaCx3MixoMiA9IDUwMCw1MCw0NzAsMzUNCgkJbG9jYWwgcGxhY2UgPSAwDQoJCWZvciBrLHYgaW4gcGFpcnMoU2NyaXB0VXBkYXRlLnVwZGF0aW5nKSBkbw0KCQkJaWYgdiB+PSBuaWwgdGhlbg0KCQkJCXBsYWNlID0gcGxhY2UgKyAxDQoJCQkJaWYgayA9PSBzZWxmLmlkeCB0aGVuIGJyZWFrIGVuZA0KCQkJZW5kDQoJCWVuZA0KCQlsb2NhbCB4LHkseDIseTIgPSAgV0lORE9XX1cvMiAtIHcvMixXSU5ET1dfSC8xLjUgLSBwbGFjZSooaCArIDM1KSAtIGgvMiwgV0lORE9XX1cvMiAtIHcyLzIsV0lORE9XX0gvMS41IC0gcGxhY2UqKGggKyAzNSktIGgyLzINCgkJRHJhd1JlY3RhbmdsZSh4LHksdyxoLDB4RkZGMzc0MTQwKS0tZmY2NjY2DQoJCURyYXdSZWN0YW5nbGUoeCx5IC0gMjAsMTAwLDIwLDB4RkZGMzc0MTQwKQ0KCQlEcmF3VGV4dCgnRGl2aW5lTGliIFVwZGF0ZXInLDEzLHggKyA0LHkgLSAxNywweEZGNzU4QTdGKQ0KCQlEcmF3VGV4dCgnRGl2aW5lTGliIFVwZGF0ZXInLDEzLHggKyA1LHkgLSAxNywweEZGNzU4QTdGKQ0KCQlsb2NhbCBjdXJyVzIgPSBzZWxmLkRvd25sb2FkUGVyYyp3Mi8xMDANCgkJRHJhd1JlY3RhbmdsZSh4Mix5Mix3MixoMiwweEZGMkEyQzJCKQ0KCQlEcmF3UmVjdGFuZ2xlKHgyLHkyLGN1cnJXMixoMiwweEZGREMzNTIyKQ0KCQ0KCQktLURyYXdUZXh0KCdEb3dubG9hZGluZyAnLi5zZWxmLk5hbWUuLiIgIi4uKHNlbGYuRG93bmxvYWRTdGF0dXMgYW5kIHNlbGYuRG93bmxvYWRQZXJjIG9yICI/IikuLiIlIiwyMCx4IC0gMSArIHcvMyx5LTEgKyBoKzEwLDB4RkZGMzc0MTQwKQ0KCQkJRHJhd1RleHQoJ0Rvd25sb2FkaW5nICcuLnNlbGYuTmFtZS4uIiAiLi4oc2VsZi5Eb3dubG9hZFN0YXR1cyBhbmQgc2VsZi5Eb3dubG9hZFBlcmMgb3IgIj8iKS4uIiUiLDIwLHggKyB3LzMseSArIGgrMTAsMHhGRkQ5Q0I5RSkNCiAgICBlbHNlDQoJCVNjcmlwdFVwZGF0ZS51cGRhdGluZ1tzZWxmLmlkeF0gPSBuaWwNCgllbmQNCgkNCmVuZA0KDQpmdW5jdGlvbiBTY3JpcHRVcGRhdGU6Q3JlYXRlU29ja2V0KHVybCkNCiAgICBpZiBub3Qgc2VsZi5MdWFTb2NrZXQgdGhlbg0KICAgICAgICBzZWxmLkx1YVNvY2tldCA9IHJlcXVpcmUoInNvY2tldCIpDQogICAgZWxzZQ0KICAgICAgICBzZWxmLlNvY2tldDpjbG9zZSgpDQogICAgICAgIHNlbGYuU29ja2V0ID0gbmlsDQogICAgICAgIHNlbGYuU2l6ZSA9IG5pbA0KICAgICAgICBzZWxmLlJlY3ZTdGFydGVkID0gZmFsc2UNCiAgICBlbmQNCiAgICBzZWxmLkx1YVNvY2tldCA9IHJlcXVpcmUoInNvY2tldCIpDQogICAgc2VsZi5Tb2NrZXQgPSBzZWxmLkx1YVNvY2tldC50Y3AoKQ0KICAgIHNlbGYuU29ja2V0OnNldHRpbWVvdXQoMCwgJ2InKQ0KICAgIHNlbGYuU29ja2V0OnNldHRpbWVvdXQoOTk5OTk5OTksICd0JykNCiAgICBzZWxmLlNvY2tldDpjb25uZWN0KCdzeC1ib2wuZXUnLCA4MCkNCiAgICBzZWxmLlVybCA9IHVybA0KICAgIHNlbGYuU3RhcnRlZCA9IGZhbHNlDQogICAgc2VsZi5MYXN0UHJpbnQgPSAiIg0KICAgIHNlbGYuRmlsZSA9ICIiDQplbmQNCg0KZnVuY3Rpb24gU2NyaXB0VXBkYXRlOkJhc2U2NEVuY29kZShkYXRhKQ0KICAgIGxvY2FsIGI9J0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nDQogICAgcmV0dXJuICgoZGF0YTpnc3ViKCcuJywgZnVuY3Rpb24oeCkNCiAgICAgICAgbG9jYWwgcixiPScnLHg6Ynl0ZSgpDQogICAgICAgIGZvciBpPTgsMSwtMSBkbyByPXIuLihiJTJeaS1iJTJeKGktMSk+MCBhbmQgJzEnIG9yICcwJykgZW5kDQogICAgICAgIHJldHVybiByOw0KICAgIGVuZCkuLicwMDAwJyk6Z3N1YignJWQlZCVkPyVkPyVkPyVkPycsIGZ1bmN0aW9uKHgpDQogICAgICAgIGlmICgjeCA8IDYpIHRoZW4gcmV0dXJuICcnIGVuZA0KICAgICAgICBsb2NhbCBjPTANCiAgICAgICAgZm9yIGk9MSw2IGRvIGM9YysoeDpzdWIoaSxpKT09JzEnIGFuZCAyXig2LWkpIG9yIDApIGVuZA0KICAgICAgICByZXR1cm4gYjpzdWIoYysxLGMrMSkNCiAgICBlbmQpLi4oeyAnJywgJz09JywgJz0nIH0pWyNkYXRhJTMrMV0pDQplbmQNCg0KZnVuY3Rpb24gU2NyaXB0VXBkYXRlOkdldE9ubGluZVZlcnNpb24oKQ0KICAgIGlmIHNlbGYuR290U2NyaXB0VmVyc2lvbiB0aGVuIHJldHVybiBlbmQNCg0KICAgIHNlbGYuUmVjZWl2ZSwgc2VsZi5TdGF0dXMsIHNlbGYuU25pcHBlZCA9IHNlbGYuU29ja2V0OnJlY2VpdmUoMTAyNCkNCiAgICBpZiBzZWxmLlN0YXR1cyA9PSAndGltZW91dCcgYW5kIG5vdCBzZWxmLlN0YXJ0ZWQgdGhlbg0KICAgICAgICBzZWxmLlN0YXJ0ZWQgPSB0cnVlDQogICAgICAgIHNlbGYuU29ja2V0OnNlbmQoIkdFVCAiLi5zZWxmLlVybC4uIiBIVFRQLzEuMVxyXG5Ib3N0OiBzeC1ib2wuZXVcclxuXHJcbiIpDQogICAgZW5kDQogICAgaWYgKHNlbGYuUmVjZWl2ZSBvciAoI3NlbGYuU25pcHBlZCA+IDApKSBhbmQgbm90IHNlbGYuUmVjdlN0YXJ0ZWQgdGhlbg0KICAgICAgICBzZWxmLlJlY3ZTdGFydGVkID0gdHJ1ZQ0KICAgICAgICBzZWxmLkRvd25sb2FkU3RhdHVzID0gJ0Rvd25sb2FkaW5nIFZlcnNpb25JbmZvICgwJSknDQogICAgZW5kDQoNCiAgICBzZWxmLkZpbGUgPSBzZWxmLkZpbGUgLi4gKHNlbGYuUmVjZWl2ZSBvciBzZWxmLlNuaXBwZWQpDQogICAgaWYgc2VsZi5GaWxlOmZpbmQoJzwvcycuLidpemU+JykgdGhlbg0KICAgICAgICBpZiBub3Qgc2VsZi5TaXplIHRoZW4NCiAgICAgICAgICAgIHNlbGYuU2l6ZSA9IHRvbnVtYmVyKHNlbGYuRmlsZTpzdWIoc2VsZi5GaWxlOmZpbmQoJzxzaScuLid6ZT4nKSs2LHNlbGYuRmlsZTpmaW5kKCc8L3NpJy4uJ3plPicpLTEpKQ0KICAgICAgICBlbmQNCiAgICAgICAgaWYgc2VsZi5GaWxlOmZpbmQoJzxzY3InLi4naXB0PicpIHRoZW4NCiAgICAgICAgICAgIGxvY2FsIF8sU2NyaXB0RmluZCA9IHNlbGYuRmlsZTpmaW5kKCc8c2NyJy4uJ2lwdD4nKQ0KICAgICAgICAgICAgbG9jYWwgU2NyaXB0RW5kID0gc2VsZi5GaWxlOmZpbmQoJzwvc2NyJy4uJ2lwdD4nKQ0KICAgICAgICAgICAgaWYgU2NyaXB0RW5kIHRoZW4gU2NyaXB0RW5kID0gU2NyaXB0RW5kIC0gMSBlbmQNCiAgICAgICAgICAgIGxvY2FsIERvd25sb2FkZWRTaXplID0gc2VsZi5GaWxlOnN1YihTY3JpcHRGaW5kKzEsU2NyaXB0RW5kIG9yIC0xKTpsZW4oKQ0KICAgICAgICAgICAgc2VsZi5Eb3dubG9hZFN0YXR1cyA9ICdEb3dubG9hZGluZyBWZXJzaW9uSW5mbyAoJy4ubWF0aC5yb3VuZCgxMDAvc2VsZi5TaXplKkRvd25sb2FkZWRTaXplLDIpLi4nJSknDQoJCQkNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgaWYgc2VsZi5GaWxlOmZpbmQoJzwvc2NyJy4uJ2lwdD4nKSB0aGVuDQogICAgICAgIHNlbGYuRG93bmxvYWRTdGF0dXMgPSAnRG93bmxvYWRpbmcgVmVyc2lvbkluZm8gKDEwMCUpJw0KDQogICAgICAgIGxvY2FsIGEsYiA9IHNlbGYuRmlsZTpmaW5kKCdcclxuXHJcbicpDQogICAgICAgIHNlbGYuRmlsZSA9IHNlbGYuRmlsZTpzdWIoYSwtMSkNCiAgICAgICAgc2VsZi5OZXdGaWxlID0gJycNCiAgICAgICAgZm9yIGxpbmUsY29udGVudCBpbiBpcGFpcnMoc2VsZi5GaWxlOnNwbGl0KCdcbicpKSBkbw0KICAgICAgICAgICAgaWYgY29udGVudDpsZW4oKSA+IDUgdGhlbg0KICAgICAgICAgICAgICAgIHNlbGYuTmV3RmlsZSA9IHNlbGYuTmV3RmlsZSAuLiBjb250ZW50DQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIGxvY2FsIEhlYWRlckVuZCwgQ29udGVudFN0YXJ0ID0gc2VsZi5GaWxlOmZpbmQoJzxzY3InLi4naXB0PicpDQogICAgICAgIGxvY2FsIENvbnRlbnRFbmQsIF8gPSBzZWxmLkZpbGU6ZmluZCgnPC9zYycuLidyaXB0PicpDQogICAgICAgIGlmIG5vdCBDb250ZW50U3RhcnQgb3Igbm90IENvbnRlbnRFbmQgdGhlbg0KICAgICAgICAgICAgaWYgc2VsZi5DYWxsYmFja0Vycm9yIGFuZCB0eXBlKHNlbGYuQ2FsbGJhY2tFcnJvcikgPT0gJ2Z1bmN0aW9uJyB0aGVuDQogICAgICAgICAgICAgICAgc2VsZi5DYWxsYmFja0Vycm9yKCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbHNlDQogICAgICAgICAgICBzZWxmLk9ubGluZVZlcnNpb24gPSAoQmFzZTY0RGVjb2RlKHNlbGYuRmlsZTpzdWIoQ29udGVudFN0YXJ0ICsgMSxDb250ZW50RW5kLTEpKSkNCiAgICAgICAgICAgIHNlbGYuT25saW5lVmVyc2lvbiA9IHRvbnVtYmVyKHNlbGYuT25saW5lVmVyc2lvbikNCiAgICAgICAgICAgIGlmIHNlbGYuT25saW5lVmVyc2lvbiA+IHNlbGYuTG9jYWxWZXJzaW9uIHRoZW4NCiAgICAgICAgICAgICAgICBpZiBzZWxmLkNhbGxiYWNrTmV3VmVyc2lvbiBhbmQgdHlwZShzZWxmLkNhbGxiYWNrTmV3VmVyc2lvbikgPT0gJ2Z1bmN0aW9uJyB0aGVuDQogICAgICAgICAgICAgICAgICAgIHNlbGYuQ2FsbGJhY2tOZXdWZXJzaW9uKHNlbGYuT25saW5lVmVyc2lvbixzZWxmLkxvY2FsVmVyc2lvbikNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBzZWxmOkNyZWF0ZVNvY2tldChzZWxmLlNjcmlwdFBhdGgpDQogICAgICAgICAgICAgICAgc2VsZi5Eb3dubG9hZFN0YXR1cyA9ICdDb25uZWN0IHRvIFNlcnZlciBmb3IgU2NyaXB0RG93bmxvYWQnDQogICAgICAgICAgICAgICAgQWRkVGlja0NhbGxiYWNrKGZ1bmN0aW9uKCkgc2VsZjpEb3dubG9hZFVwZGF0ZSgpIGVuZCkNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBpZiBzZWxmLkNhbGxiYWNrTm9VcGRhdGUgYW5kIHR5cGUoc2VsZi5DYWxsYmFja05vVXBkYXRlKSA9PSAnZnVuY3Rpb24nIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgc2VsZi5DYWxsYmFja05vVXBkYXRlKHNlbGYuTG9jYWxWZXJzaW9uKQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICBzZWxmLkdvdFNjcmlwdFZlcnNpb24gPSB0cnVlDQogICAgZW5kDQplbmQNCg0KZnVuY3Rpb24gU2NyaXB0VXBkYXRlOkRvd25sb2FkVXBkYXRlKCkNCiAgICBpZiBzZWxmLkdvdFNjcmlwdFVwZGF0ZSB0aGVuIHJldHVybiBlbmQNCiAgICBzZWxmLlJlY2VpdmUsIHNlbGYuU3RhdHVzLCBzZWxmLlNuaXBwZWQgPSBzZWxmLlNvY2tldDpyZWNlaXZlKDEwMjQpDQogICAgaWYgc2VsZi5TdGF0dXMgPT0gJ3RpbWVvdXQnIGFuZCBub3Qgc2VsZi5TdGFydGVkIHRoZW4NCiAgICAgICAgc2VsZi5TdGFydGVkID0gdHJ1ZQ0KICAgICAgICBzZWxmLlNvY2tldDpzZW5kKCJHRVQgIi4uc2VsZi5VcmwuLiIgSFRUUC8xLjFcclxuSG9zdDogc3gtYm9sLmV1XHJcblxyXG4iKQ0KICAgIGVuZA0KICAgIGlmIChzZWxmLlJlY2VpdmUgb3IgKCNzZWxmLlNuaXBwZWQgPiAwKSkgYW5kIG5vdCBzZWxmLlJlY3ZTdGFydGVkIHRoZW4NCiAgICAgICAgc2VsZi5SZWN2U3RhcnRlZCA9IHRydWUNCiAgICAgICAgc2VsZi5Eb3dubG9hZFN0YXR1cyA9ICdEb3dubG9hZGluZyBTY3JpcHQgKDAlKScNCiAgICBlbmQNCg0KICAgIHNlbGYuRmlsZSA9IHNlbGYuRmlsZSAuLiAoc2VsZi5SZWNlaXZlIG9yIHNlbGYuU25pcHBlZCkNCiAgICBpZiBzZWxmLkZpbGU6ZmluZCgnPC9zaScuLid6ZT4nKSB0aGVuDQogICAgICAgIGlmIG5vdCBzZWxmLlNpemUgdGhlbg0KICAgICAgICAgICAgc2VsZi5TaXplID0gdG9udW1iZXIoc2VsZi5GaWxlOnN1YihzZWxmLkZpbGU6ZmluZCgnPHNpJy4uJ3plPicpKzYsc2VsZi5GaWxlOmZpbmQoJzwvc2knLi4nemU+JyktMSkpDQogICAgICAgIGVuZA0KICAgICAgICBpZiBzZWxmLkZpbGU6ZmluZCgnPHNjcicuLidpcHQ+JykgdGhlbg0KICAgICAgICAgICAgbG9jYWwgXyxTY3JpcHRGaW5kID0gc2VsZi5GaWxlOmZpbmQoJzxzY3InLi4naXB0PicpDQogICAgICAgICAgICBsb2NhbCBTY3JpcHRFbmQgPSBzZWxmLkZpbGU6ZmluZCgnPC9zY3InLi4naXB0PicpDQogICAgICAgICAgICBpZiBTY3JpcHRFbmQgdGhlbiBTY3JpcHRFbmQgPSBTY3JpcHRFbmQgLSAxIGVuZA0KICAgICAgICAgICAgbG9jYWwgRG93bmxvYWRlZFNpemUgPSBzZWxmLkZpbGU6c3ViKFNjcmlwdEZpbmQrMSxTY3JpcHRFbmQgb3IgLTEpOmxlbigpDQogICAgICAgICAgICBzZWxmLkRvd25sb2FkU3RhdHVzID0gJ0Rvd25sb2FkaW5nIFNjcmlwdCAoJy4ubWF0aC5yb3VuZCgxMDAvc2VsZi5TaXplKkRvd25sb2FkZWRTaXplLDIpLi4nJSknDQoJCQlzZWxmLkRvd25sb2FkUGVyYyA9IEZMT09SKDEwMC9zZWxmLlNpemUqRG93bmxvYWRlZFNpemUsMikNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgaWYgc2VsZi5GaWxlOmZpbmQoJzwvc2NyJy4uJ2lwdD4nKSB0aGVuDQogICAgICAgIHNlbGYuRG93bmxvYWRTdGF0dXMgPSAnRG93bmxvYWRpbmcgU2NyaXB0ICgxMDAlKScNCgkJc2VsZi5Eb3dubG9hZFBlcmMgPSAxMDANCiAgICAgICAgbG9jYWwgYSxiID0gc2VsZi5GaWxlOmZpbmQoJ1xyXG5cclxuJykNCiAgICAgICAgc2VsZi5GaWxlID0gc2VsZi5GaWxlOnN1YihhLC0xKQ0KICAgICAgICBzZWxmLk5ld0ZpbGUgPSAnJw0KICAgICAgICBmb3IgbGluZSxjb250ZW50IGluIGlwYWlycyhzZWxmLkZpbGU6c3BsaXQoJ1xuJykpIGRvDQogICAgICAgICAgICBpZiBjb250ZW50OmxlbigpID4gNSB0aGVuDQogICAgICAgICAgICAgICAgc2VsZi5OZXdGaWxlID0gc2VsZi5OZXdGaWxlIC4uIGNvbnRlbnQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgbG9jYWwgSGVhZGVyRW5kLCBDb250ZW50U3RhcnQgPSBzZWxmLk5ld0ZpbGU6ZmluZCgnPHNjJy4uJ3JpcHQ+JykNCiAgICAgICAgbG9jYWwgQ29udGVudEVuZCwgXyA9IHNlbGYuTmV3RmlsZTpmaW5kKCc8L3NjcicuLidpcHQ+JykNCiAgICAgICAgaWYgbm90IENvbnRlbnRTdGFydCBvciBub3QgQ29udGVudEVuZCB0aGVuDQogICAgICAgICAgICBpZiBzZWxmLkNhbGxiYWNrRXJyb3IgYW5kIHR5cGUoc2VsZi5DYWxsYmFja0Vycm9yKSA9PSAnZnVuY3Rpb24nIHRoZW4NCiAgICAgICAgICAgICAgICBzZWxmLkNhbGxiYWNrRXJyb3IoKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIGxvY2FsIG5ld2YgPSBzZWxmLk5ld0ZpbGU6c3ViKENvbnRlbnRTdGFydCsxLENvbnRlbnRFbmQtMSkNCiAgICAgICAgICAgIGxvY2FsIG5ld2YgPSBuZXdmOmdzdWIoJ1xyJywnJykNCiAgICAgICAgICAgIGlmIG5ld2Y6bGVuKCkgfj0gc2VsZi5TaXplIHRoZW4NCiAgICAgICAgICAgICAgICBpZiBzZWxmLkNhbGxiYWNrRXJyb3IgYW5kIHR5cGUoc2VsZi5DYWxsYmFja0Vycm9yKSA9PSAnZnVuY3Rpb24nIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgc2VsZi5DYWxsYmFja0Vycm9yKCkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgbG9jYWwgbmV3ZiA9IEJhc2U2NERlY29kZShuZXdmKQ0KICAgICAgICAgICAgaWYgdHlwZShsb2FkKG5ld2YpKSB+PSAnZnVuY3Rpb24nIHRoZW4NCiAgICAgICAgICAgICAgICBpZiBzZWxmLkNhbGxiYWNrRXJyb3IgYW5kIHR5cGUoc2VsZi5DYWxsYmFja0Vycm9yKSA9PSAnZnVuY3Rpb24nIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgc2VsZi5DYWxsYmFja0Vycm9yKCkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBsb2NhbCBmID0gaW8ub3BlbihzZWxmLlNhdmVQYXRoLCJ3K2IiKQ0KICAgICAgICAgICAgICAgIGY6d3JpdGUobmV3ZikNCiAgICAgICAgICAgICAgICBmOmNsb3NlKCkNCiAgICAgICAgICAgICAgICBpZiBzZWxmLkNhbGxiYWNrVXBkYXRlIGFuZCB0eXBlKHNlbGYuQ2FsbGJhY2tVcGRhdGUpID09ICdmdW5jdGlvbicgdGhlbg0KICAgICAgICAgICAgICAgICAgICBzZWxmLkNhbGxiYWNrVXBkYXRlKHNlbGYuT25saW5lVmVyc2lvbixzZWxmLkxvY2FsVmVyc2lvbikNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgc2VsZi5Hb3RTY3JpcHRVcGRhdGUgPSB0cnVlDQogICAgZW5kDQplbmQNCg0KDQpBZGRMb2FkQ2FsbGJhY2soZnVuY3Rpb24oKQ0KLS11cGRhdGUgc2VsZg0KU2NyaXB0VXBkYXRlKA0KCQkiRGl2aW5lTGliIiwNCgkJREluZm8uVkVSU0lPTiwNCgkJREluZm8uU1NMLA0KCQlESW5mby5IT1NUX1VSTCwgDQoJCSIvTmFkZXItU2wvQm9MU3R1ZGlvL21hc3Rlci9WZXJzaW9ucy9EaXZpbmVMaWIudmVyc2lvbiIsIA0KCQkiL05hZGVyLVNsL0JvTFN0dWRpby9tYXN0ZXIvU2NyaXB0cy9EaXZpbmVMaWIubHVhIiwgDQoJCUxJQl9QQVRILi4iRGl2aW5lTGliLmx1YSIsIA0KCQlmdW5jdGlvbigpIA0KCQkJbG9nREwoIlVwZGF0ZWQgdG8gbGF0ZXN0IHZlcnNpb24sIHBsZWFzZSByZXN0YXJ0IHNjcmlwdCAoRjkgRjkpIikNCgkJZW5kLCANCgkJZnVuY3Rpb24oKSAgIGVuZCwgLS1sb2FkIGNvbXBsZXRlDQoJCWZ1bmN0aW9uKCkgbG9nREwoIkEgbmV3IHZlcnNpb24gZm91bmQsIGF0dGVtcHRpbmcgdG8gZG93bmxvYWQgLi4uIikgIGVuZCwgLS1uZXcgdmVyc2lvbg0KCQlmdW5jdGlvbigpIGxvZ0RMKCdBbiBFcnJvciBPY2N1cmVkIGR1cmluZyBEaXZpbmVMaWIgdXBkYXRlLCBwbGVhc2UgcmVzdGFydCB0aGUgc2NyaXB0IChGOSB4IEY5KScpIGVuZA0KCSkNCg0KLS12cHJlZCBkb3dubG9hZA0KaWYgRmlsZUV4aXN0KExJQl9QQVRIIC4uICJWUHJlZGljdGlvbi5sdWEiKSB0aGVuIA0KCXJlcXVpcmUgKCJWUHJlZGljdGlvbiIpDQoJRFByZWRpY3Rpb25zLnZQcmVkID0gVlByZWRpY3Rpb24oKQ0KCURQcmVkaWN0aW9ucy5sb2FkZWRQcmVkTGlicy52cHJlZCA9IHRydWUNCmVsc2UNClNjcmlwdFVwZGF0ZSgNCgkJIlZQcmVkaWN0aW9uIiwNCgkJMCwNCgkJdHJ1ZSwNCgkJREluZm8uSE9TVF9VUkwsIA0KCQkiL05hZGVyLVNsL0JvTFN0dWRpby9tYXN0ZXIvVmVyc2lvbnMvdmVyc2lvbmR1bW15LnZlcnNpb24iLCANCgkJIi9TaWRhQm9ML1NjcmlwdHMvbWFzdGVyL0NvbW1vbi9WUHJlZGljdGlvbi5sdWEiLCANCgkJTElCX1BBVEguLiJWUHJlZGljdGlvbi5sdWEiLCANCgkJZnVuY3Rpb24oKSANCgkJCXJlcXVpcmUgKCJWUHJlZGljdGlvbiIpDQoJCQlEUHJlZGljdGlvbnMudlByZWQgPSBWUHJlZGljdGlvbigpDQoJCQlEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMudnByZWQgPSB0cnVlDQoJCWVuZCwgDQoJCWZ1bmN0aW9uKCkgICBlbmQsIC0tbG9hZCBjb21wbGV0ZQ0KCQlmdW5jdGlvbigpICAgZW5kLCAtLW5ldyB2ZXJzaW9uDQoJCWZ1bmN0aW9uKCkgbG9nREwoJ0FuIEVycm9yIE9jY3VyZWQgZHVyaW5nIFZQcmVkaWN0aW9uIGRvd25sb2FkLCBwbGVhc2UgcmVzdGFydCB0aGUgc2NyaXB0IChGOSB4IEY5KScpIGVuZA0KCSkNCmVuZA0KLS1bWw0KLS1tZW51IGNvbmZpZyAobmV3KSANCmlmIEZpbGVFeGlzdChMSUJfUEFUSCAuLiAiTWVudUNvbmZpZy5sdWEiKSB0aGVuIA0KCWFzc2VydChsb2FkKFJlYWRGaWxlKExJQl9QQVRILi4iTWVudUNvbmZpZy5sdWEiKSwgIk1lbnVDb25maWciLCAidCIsIF9FTlYpKSgpDQoJCQlTY3JpcHRVcGRhdGUubWVudUNvbmZpZ0xvYWRlZCA9IHRydWUNCmVsc2UNClNjcmlwdFVwZGF0ZSgNCgkJIk5ldyBCb0wgTWVudUNvbmZpZyIsDQoJCTAsDQoJCXRydWUsDQoJCURJbmZvLkhPU1RfVVJMLCANCgkJIi9OYWRlci1TbC9Cb0xTdHVkaW8vbWFzdGVyL1ZlcnNpb25zL3ZlcnNpb25kdW1teS52ZXJzaW9uIiwgDQoJCSIvbGlua3BhZC9Cb0wvbWFzdGVyL0NvbW1vbi9NZW51Q29uZmlnLmx1YSIsIA0KCQlMSUJfUEFUSC4uIk1lbnVDb25maWcubHVhIiwgDQoJCWZ1bmN0aW9uKCkgDQoJCQlhc3NlcnQobG9hZChSZWFkRmlsZShMSUJfUEFUSC4uIk1lbnVDb25maWcubHVhIiksICJNZW51Q29uZmlnIiwgInQiLCBfRU5WKSkoKQ0KCQkJU2NyaXB0VXBkYXRlLm1lbnVDb25maWdMb2FkZWQgPSB0cnVlDQoJCWVuZCwgDQoJCWZ1bmN0aW9uKCkgICBlbmQsIC0tbG9hZCBjb21wbGV0ZQ0KCQlmdW5jdGlvbigpICAgZW5kLCAtLW5ldyB2ZXJzaW9uDQoJCWZ1bmN0aW9uKCkgcHJpbnQoJ0FuIEVycm9yIE9jY3VyZWQgaW4gZHVyaW5nIE5ldyBNZW51Q29uZmlnIGRvd25sb2FkLCBXaWxsIHN3aXRjaCB0byBkZWZhdWx0IE1lbnVDb25maWcuJykgZW5kDQoJKQ0KZW5kXV0tLQ0KLS1bWw0KU2NyaXB0VXBkYXRlKA0KCQlESW5mby5OQU1FLA0KCQlESW5mby5WRVJTSU9OICwNCgkJREluZm8uU1NMLA0KCQlESW5mby5IT1NUX1VSTCwgDQoJCURJbmZvLlZFUlNJT05fUEFUSCwgDQoJCURJbmZvLlNDUklQVF9QQVRILCANCgkJREluZm8uU0FWRV9QQVRILCANCgkJZnVuY3Rpb24oKSBwcmludCgnVXBkYXRlIENvbXBsZXRlLiBSZWxvYWQoRjkgRjkpJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnTG9hZCBDb21wbGV0ZScpIGVuZCwgDQoJCWZ1bmN0aW9uKCkgcHJpbnQoJ05ldyB2ZXJzaW9uIGZvdW5kJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnQW4gRXJyb3IgT2NjdXJlZCBpbiBVcGRhdGUuJykgZW5kDQoJKQ0KCVNjcmlwdFVwZGF0ZSgNCgkJIkRpdmluZSBQcmVkaWN0aW9uIiwNCgkJREluZm8uVkVSU0lPTiAsDQoJCURJbmZvLlNTTCwNCgkJREluZm8uSE9TVF9VUkwsIA0KCQlESW5mby5WRVJTSU9OX1BBVEgsIA0KCQkiL1Bld1Bld1BldzIvQm9ML21hc3Rlci9EYW5jaW5nU2hvZXMubHVhIiwNCgkJREluZm8uU0FWRV9QQVRILCANCgkJZnVuY3Rpb24oKSBwcmludCgnVXBkYXRlIENvbXBsZXRlLiBSZWxvYWQoRjkgRjkpJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnTG9hZCBDb21wbGV0ZScpIGVuZCwgDQoJCWZ1bmN0aW9uKCkgcHJpbnQoJ05ldyB2ZXJzaW9uIGZvdW5kJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnQW4gRXJyb3IgT2NjdXJlZCBpbiBVcGRhdGUuJykgZW5kDQoJKQ0KCVNjcmlwdFVwZGF0ZSgNCgkJIkRhbmNpbmdTaG9lcyIsDQoJCURJbmZvLlZFUlNJT04gLA0KCQlESW5mby5TU0wsDQoJCURJbmZvLkhPU1RfVVJMLCANCgkJREluZm8uVkVSU0lPTl9QQVRILCANCgkJIi9QZXdQZXdQZXcyL0JvTC9tYXN0ZXIvRGFuY2luZ1Nob2VzLmx1YSIsIA0KCQlESW5mby5TQVZFX1BBVEgsIA0KCQlmdW5jdGlvbigpIHByaW50KCdVcGRhdGUgQ29tcGxldGUuIFJlbG9hZChGOSBGOSknKSBlbmQsIA0KCQlmdW5jdGlvbigpIHByaW50KCdMb2FkIENvbXBsZXRlJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnTmV3IHZlcnNpb24gZm91bmQnKSBlbmQsIA0KCQlmdW5jdGlvbigpIHByaW50KCdBbiBFcnJvciBPY2N1cmVkIGluIFVwZGF0ZS4nKSBlbmQNCgkpDQoJCVNjcmlwdFVwZGF0ZSgNCgkJInN4T3JiV2FsayIsDQoJCURJbmZvLlZFUlNJT04gLA0KCQlESW5mby5TU0wsDQoJCURJbmZvLkhPU1RfVVJMLCANCgkJREluZm8uVkVSU0lPTl9QQVRILCANCgkJIi9TdXBlcngzMjEvQm9ML21hc3Rlci9jb21tb24vU3hPcmJXYWxrLmx1YSIsIA0KCQlESW5mby5TQVZFX1BBVEgsIA0KCQlmdW5jdGlvbigpIHByaW50KCdVcGRhdGUgQ29tcGxldGUuIFJlbG9hZChGOSBGOSknKSBlbmQsIA0KCQlmdW5jdGlvbigpIHByaW50KCdMb2FkIENvbXBsZXRlJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnTmV3IHZlcnNpb24gZm91bmQnKSBlbmQsIA0KCQlmdW5jdGlvbigpIHByaW50KCdBbiBFcnJvciBPY2N1cmVkIGluIFVwZGF0ZS4nKSBlbmQNCgkpXV0tLQ0KZW5kKQ0K"),FILE_NAME, "bt", _ENV)()