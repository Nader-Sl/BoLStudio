load(Base64Decode("DQpsb2NhbCBBQlMsUkFORCxNSU4sTUFYLEhVR0UsRkxPT1IsQ0VJTCxERUcsUEksU0lOLENPUyxBU0lOLENPU0lOPSBtYXRoLmFicyxtYXRoLnJhbmRvbSxtYXRoLm1pbixtYXRoLm1heCxtYXRoLmh1Z2UsbWF0aC5mbG9vcixtYXRoLmNlaWwsbWF0aC5kZWcsbWF0aC5waSxtYXRoLnNpbixtYXRoLmNvcyxtYXRoLmFzaW4sbWF0aC5hY29zDQpsb2NhbCBERUdfUkFEX01VTFQgPSBQSS8xODANCmxvY2FsIG5vcm1hbFZlYyA9IFZlY3RvcigwLDEsMCkNCg0KbG9jYWwgc2FjTG9hZEF0dGVtcHRzID0gMA0KIA0KbG9jYWwgZExpYlNhdmUgPSBHZXRTYXZlKCJEaXZpbmVMaWJTYXZlIikNCg0KbG9jYWwgc2tpbnMgPSB7DQogIC0tIEENClsiQWF0cm94Il0gICAgICAgPSB7IkNsYXNzaWMiLCAiSnVzdGljYXIiLCAiTWVjaGEiLCAiU2VhIEh1bnRlciJ9LA0KWyJBaHJpIl0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJEeW5hc3R5IiwgIk1pZG5pZ2h0IiwgIkZveGZpcmUiLCAiUG9wc3RhciIsICJDaGFsbGVuZ2VyIiwgIkFjYWRlbXkifSwNClsiQWthbGkiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiU3RpbmdlciIsICJDcmltc29uIiwgIkFsbC1zdGFyIiwgIk51cnNlIiwgIkJsb29kIE1vb24iLCAiU2lsdmVyZmFuZyIsICJIZWFkaHVudGVyIn0sDQpbIkFsaXN0YXIiXSAgICAgID0geyJDbGFzc2ljIiwgIkJsYWNrIiwgIkdvbGRlbiIsICJNYXRhZG9yIiwgIkxvbmdob3JuIiwgIlVuY2hhaW5lZCIsICJJbmZlcm5hbCIsICJTd2VlcGVyIiwgIk1hcmF1ZGVyIn0sDQpbIkFtdW11Il0gICAgICAgID0geyJDbGFzc2ljIiwgIlBoYXJhb2giLCAiVmFuY291dmVyIiwgIkVtdW11IiwgIlJlLUdpZnRlZCIsICJBbG1vc3QtUHJvbSBLaW5nIiwgIkxpdHRsZSBLbmlnaHQiLCAiU2FkIFJvYm90IiwgIlN1cnByaXNlIFBhcnR5In0sDQpbIkFuaXZpYSJdICAgICAgID0geyJDbGFzc2ljIiwgIlRlYW0gU3Bpcml0IiwgIkJpcmQgb2YgUHJleSIsICJOb3h1cyBIdW50ZXIiLCAiSGV4dGVjaCIsICJCbGFja2Zyb3N0IiwgIlByZWhpc3RvcmljIn0sDQpbIkFubmllIl0gICAgICAgID0geyJDbGFzc2ljIiwgIkdvdGgiLCAiUmVkIFJpZGluZyIsICJBbm5pZSBpbiBXb25kZXJsYW5kIiwgIlByb20gUXVlZW4iLCAiRnJvc3RmaXJlIiwgIlJldmVyc2UiLCAiRnJhbmtlblRpYmJlcnMiLCAiUGFuZGEiLCAiU3dlZXRoZWFydCJ9LA0KWyJBc2hlIl0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJGcmVsam9yZCIsICJTaGVyd29vZCBGb3Jlc3QiLCAiV29hZCIsICJRdWVlbiIsICJBbWV0aHlzdCIsICJIZWFydHNlZWtlciIsICJNYXJhdWRlciJ9LA0KWyJBemlyIl0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJHYWxhY3RpYyIsICJHcmF2ZWxvcmQifSwNCiAgLS0gQiAgDQpbIkJhcmQiXSAgICAgICAgID0geyJDbGFzc2ljIiwgIkVsZGVyd29vZCIsICJDaHJvbWEgUGFjazogTWFyaWdvbGQiLCAiQ2hyb21hIFBhY2s6IEl2eSIsICJDaHJvbWEgUGFjazogU2FnZSJ9LA0KWyJCbGl0emNyYW5rIl0gICA9IHsiQ2xhc3NpYyIsICJSdXN0eSIsICJHb2Fsa2VlcGVyIiwgIkJvb20gQm9vbSIsICJQaWx0b3ZlciBDdXN0b21zIiwgIkRlZmluaXRlbHkgTm90IiwgImlCbGl0emNyYW5rIiwgIlJpb3QiLCAiQ2hyb21hIFBhY2s6IE1vbHRlbiIsICJDaHJvbWEgUGFjazogQ29iYWx0IiwgIkNocm9tYSBQYWNrOiBHdW5tZXRhbCIsICJCYXR0bGUgQm9zcyJ9LA0KWyJCcmFuZCJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJBcG9jYWx5cHRpYyIsICJWYW5kYWwiLCAiQ3J5b2NvcmUiLCAiWm9tYmllIiwgIlNwaXJpdCBGaXJlIn0sDQpbIkJyYXVtIl0gICAgICAgID0geyJDbGFzc2ljIiwgIkRyYWdvbnNsYXllciIsICJFbCBUaWdyZSIsICJMaW9uaGVhcnQifSwNCiAgLS0gQyAgDQpbIkNhaXRseW4iXSAgICAgID0geyJDbGFzc2ljIiwgIlJlc2lzdGFuY2UiLCAiU2hlcmlmZiIsICJTYWZhcmkiLCAiQXJjdGljIFdhcmZhcmUiLCAiT2ZmaWNlciIsICJIZWFkaHVudGVyIiwgIkNocm9tYSBQYWNrOiBQaW5rIiwgIkNocm9tYSBQYWNrOiBHcmVlbiIsICJDaHJvbWEgUGFjazogQmx1ZSIsIkx1bmFyIn0sDQpbIkNhc3Npb3BlaWEiXSAgID0geyJDbGFzc2ljIiwgIkRlc3BlcmFkYSIsICJTaXJlbiIsICJNeXRoaWMiLCAiSmFkZSBGYW5nIiwgIkNocm9tYSBQYWNrOiBEYXkiLCAiQ2hyb21hIFBhY2s6IER1c2siLCAiQ2hyb21hIFBhY2s6IE5pZ2h0In0sDQpbIkNob2dhdGgiXSAgICAgID0geyJDbGFzc2ljIiwgIk5pZ2h0bWFyZSIsICJHZW50bGVtYW4iLCAiTG9jaCBOZXNzIiwgIkp1cmFzc2ljIiwgIkJhdHRsZWNhc3QgUHJpbWUiLCAiUHJlaGlzdG9yaWMifSwNClsiQ29ya2kiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiVUZPIiwgIkljZSBUb2JvZ2dhbiIsICJSZWQgQmFyb24iLCAiSG90IFJvZCIsICJVcmZyaWRlciIsICJEcmFnb253aW5nIiwgIkZuYXRpYyJ9LA0KICAtLSBEDQpbIkRhcml1cyJdICAgICAgID0geyJDbGFzc2ljIiwgIkxvcmQiLCAiQmlvZm9yZ2UiLCAiV29hZCBLaW5nIiwgIkR1bmttYXN0ZXIiLCAiQ2hyb21hIFBhY2s6IEJsYWNrIElyb24iLCAiQ2hyb21hIFBhY2s6IEJyb256ZSIsICJDaHJvbWEgUGFjazogQ29wcGVyIiwgIkFjYWRlbXkifSwNClsiRGlhbmEiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiRGFyayBWYWxreXJpZSIsICJMdW5hciBHb2RkZXNzIn0sDQpbIkRyTXVuZG8iXSAgICAgID0geyJDbGFzc2ljIiwgIlRveGljIiwgIk1yLiBNdW5kb3ZlcnNlIiwgIkNvcnBvcmF0ZSBNdW5kbyIsICJNdW5kbyBNdW5kbyIsICJFeGVjdXRpb25lciBNdW5kbyIsICJSYWdlYm9ybiBNdW5kbyIsICJUUEEgTXVuZG8iLCAiUG9vbCBQYXJ0eSJ9LA0KWyJEcmF2ZW4iXSAgICAgICA9IHsiQ2xhc3NpYyIsICJTb3VsIFJlYXZlciIsICJHbGFkaWF0b3IiLCAiUHJpbWV0aW1lIiwgIlBvb2wgUGFydHkifSwNCiAgLS0gRSANClsiRWtrbyJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiU2FuZHN0b3JtIiwgIkFjYWRlbXkifSwNClsiRWxpc2UiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiRGVhdGggQmxvc3NvbSIsICJWaWN0b3Jpb3VzIiwgIkJsb29kIE1vb24ifSwNClsiRXZlbHlubiJdICAgICAgPSB7IkNsYXNzaWMiLCAiU2hhZG93IiwgIk1hc3F1ZXJhZGUiLCAiVGFuZ28iLCAiU2FmZWNyYWNrZXIifSwNClsiRXpyZWFsIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiTm90dGluZ2hhbSIsICJTdHJpa2VyIiwgIkZyb3N0ZWQiLCAiRXhwbG9yZXIiLCAiUHVsc2VmaXJlIiwgIlRQQSIsICJEZWJvbmFpciIsICJBY2Ugb2YgU3BhZGVzIn0sDQogIC0tIEYgDQpbIkZpZGRsZVN0aWNrcyJdID0geyJDbGFzc2ljIiwgIlNwZWN0cmFsIiwgIlVuaW9uIEphY2siLCAiQmFuZGl0byIsICJQdW1wa2luaGVhZCIsICJGaWRkbGUgTWUgVGltYmVycyIsICJTdXJwcmlzZSBQYXJ0eSIsICJEYXJrIENhbmR5IiwgIlJpc2VuIn0sDQpbIkZpb3JhIl0gICAgICAgID0geyJDbGFzc2ljIiwgIlJveWFsIEd1YXJkIiwgIk5pZ2h0cmF2ZW4iLCAiSGVhZG1pc3RyZXNzIiwgIlBST0pFQ1QifSwNClsiRml6eiJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiQXRsYW50ZWFuIiwgIlR1bmRyYSIsICJGaXNoZXJtYW4iLCAiVm9pZCIsICJDaHJvbWEgUGFjazogT3JhbmdlIiwgIkNocm9tYSBQYWNrOiBCbGFjayIsICJDaHJvbWEgUGFjazogUmVkIiwgIkNvdHRvbnRhaWwifSwNCiAgLS0gRyAgDQpbIkdhbGlvIl0gICAgICAgID0geyJDbGFzc2ljIiwgIkVuY2hhbnRlZCIsICJIZXh0ZWNoIiwgIkNvbW1hbmRvIiwgIkdhdGVrZWVwZXIiLCAiRGVib25haXIifSwNClsiR2FuZ3BsYW5rIl0gICAgPSB7IkNsYXNzaWMiLCAiU3Bvb2t5IiwgIk1pbnV0ZW1hbiIsICJTYWlsb3IiLCAiVG95IFNvbGRpZXIiLCAiU3BlY2lhbCBGb3JjZXMiLCAiU3VsdGFuIiwgIkNhcHRhaW4ifSwNClsiR2FyZW4iXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiU2FuZ3VpbmUiLCAiRGVzZXJ0IFRyb29wZXIiLCAiQ29tbWFuZG8iLCAiRHJlYWRrbmlnaHQiLCAiUnVnZ2VkIiwgIlN0ZWVsIExlZ2lvbiIsICJDaHJvbWEgUGFjazogR2FybmV0IiwgIkNocm9tYSBQYWNrOiBQbHVtIiwgIkNocm9tYSBQYWNrOiBJdm9yeSIsICJSb2d1ZSBBZG1pcmFsIn0sDQpbIkduYXIiXSAgICAgICAgID0geyJDbGFzc2ljIiwgIkRpbm8iLCAiR2VudGxlbWFuIn0sDQpbIkdyYWdhcyJdICAgICAgID0geyJDbGFzc2ljIiwgIlNjdWJhIiwgIkhpbGxiaWxseSIsICJTYW50YSIsICJHcmFnYXMsIEVzcS4iLCAiVmFuZGFsIiwgIk9rdG9iZXJmZXN0IiwgIlN1cGVyZmFuIiwgIkZuYXRpYyIsICJDYXNrYnJlYWtlciJ9LA0KWyJHcmF2ZXMiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJIaXJlZCBHdW4iLCAiSmFpbGJyZWFrIiwgIk1hZmlhIiwgIlJpb3QiLCAiUG9vbCBQYXJ0eSIsICJDdXR0aHJvYXQifSwNCiAgLS0gSCANClsiSGVjYXJpbSJdICAgICAgPSB7IkNsYXNzaWMiLCAiQmxvb2QgS25pZ2h0IiwgIlJlYXBlciIsICJIZWFkbGVzcyIsICJBcmNhZGUiLCAiRWxkZXJ3b29kIn0sDQpbIkhlaW1lcmRpbmdlciJdID0geyJDbGFzc2ljIiwgIkFsaWVuIEludmFkZXIiLCAiQmxhc3QgWm9uZSIsICJQaWx0b3ZlciBDdXN0b21zIiwgIlNub3dtZXJkaW5nZXIiLCAiSGF6bWF0In0sDQogIC0tIEkgDQpbIklsbGFvaSJdICAgICAgID0geyJDbGFzc2ljIiwgIlZvaWQgQnJpbmdlciJ9LA0KWyJJcmVsaWEiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJOaWdodGJsYWRlIiwgIkF2aWF0b3IiLCAiSW5maWx0cmF0b3IiLCAiRnJvc3RibGFkZSIsICJPcmRlciBvZiB0aGUgTG90dXMifSwNCiAgLS0gSiANClsiSmFubmEiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiVGVtcGVzdCIsICJIZXh0ZWNoIiwgIkZyb3N0IFF1ZWVuIiwgIlZpY3RvcmlvdXMiLCAiRm9yZWNhc3QiLCAiRm5hdGljIn0sDQpbIkphcnZhbklWIl0gICAgID0geyJDbGFzc2ljIiwgIkNvbW1hbmRvIiwgIkRyYWdvbnNsYXllciIsICJEYXJrZm9yZ2UiLCAiVmljdG9yaW91cyIsICJXYXJyaW5nIEtpbmdkb21zIiwgIkZuYXRpYyJ9LA0KWyJKYXgiXSAgICAgICAgICA9IHsiQ2xhc3NpYyIsICJUaGUgTWlnaHR5IiwgIlZhbmRhbCIsICJBbmdsZXIiLCAiUEFYIiwgIkpheGltdXMiLCAiVGVtcGxlIiwgIk5lbWVzaXMiLCAiU0tUIFQxIiwgIkNocm9tYSBQYWNrOiBDcmVhbSIsICJDaHJvbWEgUGFjazogQW1iZXIiLCAiQ2hyb21hIFBhY2s6IEJyaWNrIiwgIldhcmRlbiJ9LA0KWyJKYXljZSJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJGdWxsIE1ldGFsIiwgIkRlYm9uYWlyIiwgIkZvcnNha2VuIn0sDQpbIkppbngiXSAgICAgICAgID0geyJDbGFzc2ljIiwgIk1hZmlhIiwgIkZpcmVjcmFja2VyIiwgIlNsYXllciJ9LA0KICAtLSBLIA0KWyJLYWxpc3RhIl0gICAgICA9IHsiQ2xhc3NpYyIsICJCbG9vZCBNb29uIiwgIkNoYW1waW9uc2hpcCJ9LA0KWyJLYXJtYSJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJTdW4gR29kZGVzcyIsICJTYWt1cmEiLCAiVHJhZGl0aW9uYWwiLCAiT3JkZXIgb2YgdGhlIExvdHVzIiwgIldhcmRlbiJ9LA0KWyJLYXJ0aHVzIl0gICAgICA9IHsiQ2xhc3NpYyIsICJQaGFudG9tIiwgIlN0YXR1ZSBvZiIsICJHcmltIFJlYXBlciIsICJQZW50YWtpbGwiLCAiRm5hdGljIiwgIkNocm9tYSBQYWNrOiBCdXJuIiwgIkNocm9tYSBQYWNrOiBCbGlnaHQiLCAiQ2hyb21hIFBhY2s6IEZyb3N0Yml0ZSJ9LA0KWyJLYXNzYWRpbiJdICAgICA9IHsiQ2xhc3NpYyIsICJGZXN0aXZhbCIsICJEZWVwIE9uZSIsICJQcmUtVm9pZCIsICJIYXJiaW5nZXIiLCAiQ29zbWljIFJlYXZlciJ9LA0KWyJLYXRhcmluYSJdICAgICA9IHsiQ2xhc3NpYyIsICJNZXJjZW5hcnkiLCAiUmVkIENhcmQiLCAiQmlsZ2V3YXRlciIsICJLaXR0eSBDYXQiLCAiSGlnaCBDb21tYW5kIiwgIlNhbmRzdG9ybSIsICJTbGF5IEJlbGxlIiwgIldhcnJpbmcgS2luZ2RvbXMifSwNClsiS2F5bGUiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiU2lsdmVyIiwgIlZpcmlkaWFuIiwgIlVubWFza2VkIiwgIkJhdHRsZWJvcm4iLCAiSnVkZ21lbnQiLCAiQWV0aGVyIFdpbmciLCAiUmlvdCJ9LA0KWyJLZW5uZW4iXSAgICAgICA9IHsiQ2xhc3NpYyIsICJEZWFkbHkiLCAiU3dhbXAgTWFzdGVyIiwgIkthcmF0ZSIsICJLZW5uZW4gTS5ELiIsICJBcmN0aWMgT3BzIn0sDQpbIktoYXppeCJdICAgICAgID0geyJDbGFzc2ljIiwgIk1lY2hhIiwgIkd1YXJkaWFuIG9mIHRoZSBTYW5kcyJ9LA0KWyJLaW5kcmVkIl0gICAgICA9IHsiQ2xhc3NpYyIsICJTaGFkb3dmaXJlIn0sDQpbIktvZ01hdyJdICAgICAgID0geyJDbGFzc2ljIiwgIkNhdGVycGlsbGFyIiwgIlNvbm9yYW4iLCAiTW9uYXJjaCIsICJSZWluZGVlciIsICJMaW9uIERhbmNlIiwgIkRlZXAgU2VhIiwgIkp1cmFzc2ljIiwgIkJhdHRsZWNhc3QifSwNCiAgLS0gTCANClsiTGVibGFuYyJdICAgICAgPSB7IkNsYXNzaWMiLCAiV2lja2VkIiwgIlByZXN0aWdpb3VzIiwgIk1pc3RsZXRvZSIsICJSYXZlbmJvcm4ifSwNClsiTGVlU2luIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiVHJhZGl0aW9uYWwiLCAiQWNvbHl0ZSIsICJEcmFnb24gRmlzdCIsICJNdWF5IFRoYWkiLCAiUG9vbCBQYXJ0eSIsICJTS1QgVDEiLCAiQ2hyb21hIFBhY2s6IEJsYWNrIiwgIkNocm9tYSBQYWNrOiBCbHVlIiwgIkNocm9tYSBQYWNrOiBZZWxsb3ciLCAiS25vY2tvdXQifSwNClsiTGVvbmEiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiVmFsa3lyaWUiLCAiRGVmZW5kZXIiLCAiSXJvbiBTb2xhcmkiLCAiUG9vbCBQYXJ0eSIsICJDaHJvbWEgUGFjazogUGluayIsICJDaHJvbWEgUGFjazogQXp1cmUiLCAiQ2hyb21hIFBhY2s6IExlbW9uIiwgIlBST0pFQ1QifSwNClsiTGlzc2FuZHJhIl0gICAgPSB7IkNsYXNzaWMiLCAiQmxvb2RzdG9uZSIsICJCbGFkZSBRdWVlbiJ9LA0KWyJMdWNpYW4iXSAgICAgICA9IHsiQ2xhc3NpYyIsICJIaXJlZCBHdW4iLCAiU3RyaWtlciIsICJDaHJvbWEgUGFjazogWWVsbG93IiwgIkNocm9tYSBQYWNrOiBSZWQiLCAiQ2hyb21hIFBhY2s6IEJsdWUiLCAiUFJPSkVDVCJ9LA0KWyJMdWx1Il0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJCaXR0ZXJzd2VldCIsICJXaWNrZWQiLCAiRHJhZ29uIFRyYWluZXIiLCAiV2ludGVyIFdvbmRlciIsICJQb29sIFBhcnR5In0sDQpbIkx1eCJdICAgICAgICAgID0geyJDbGFzc2ljIiwgIlNvcmNlcmVzcyIsICJTcGVsbHRoaWVmIiwgIkNvbW1hbmRvIiwgIkltcGVyaWFsIiwgIlN0ZWVsIExlZ2lvbiIsICJTdGFyIEd1YXJkaWFuIn0sDQogIC0tIE0gDQpbIk1hbHBoaXRlIl0gICAgID0geyJDbGFzc2ljIiwgIlNoYW1yb2NrIiwgIkNvcmFsIFJlZWYiLCAiTWFyYmxlIiwgIk9ic2lkaWFuIiwgIkdsYWNpYWwiLCAiTWVjaGEiLCAiSXJvbnNpZGUifSwNClsiTWFsemFoYXIiXSAgICAgPSB7IkNsYXNzaWMiLCAiVml6aWVyIiwgIlNoYWRvdyBQcmluY2UiLCAiRGppbm4iLCAiT3ZlcmxvcmQiLCAiU25vdyBEYXkifSwNClsiTWFva2FpIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiQ2hhcnJlZCIsICJUb3RlbWljIiwgIkZlc3RpdmUiLCAiSGF1bnRlZCIsICJHb2Fsa2VlcGVyIn0sDQpbIk1hc3RlcllpIl0gICAgID0geyJDbGFzc2ljIiwgIkFzc2Fzc2luIiwgIkNob3NlbiIsICJJb25pYSIsICJTYW11cmFpIFlpIiwgIkhlYWRodW50ZXIiLCAiQ2hyb21hIFBhY2s6IEdvbGQiLCAiQ2hyb21hIFBhY2s6IEFxdWEiLCAiQ2hyb21hIFBhY2s6IENyaW1zb24iLCAiUFJPSkVDVCJ9LA0KWyJNaXNzRm9ydHVuZSJdICA9IHsiQ2xhc3NpYyIsICJDb3dnaXJsIiwgIldhdGVybG9vIiwgIlNlY3JldCBBZ2VudCIsICJDYW5keSBDYW5lIiwgIlJvYWQgV2FycmlvciIsICJNYWZpYSIsICJBcmNhZGUiLCAiQ2FwdGFpbiJ9LA0KWyJNb3JkZWthaXNlciJdICA9IHsiQ2xhc3NpYyIsICJEcmFnb24gS25pZ2h0IiwgIkluZmVybmFsIiwgIlBlbnRha2lsbCIsICJMb3JkIiwgIktpbmcgb2YgQ2x1YnMifSwNClsiTW9yZ2FuYSJdICAgICAgPSB7IkNsYXNzaWMiLCAiRXhpbGVkIiwgIlNpbmZ1bCBTdWNjdWxlbmNlIiwgIkJsYWRlIE1pc3RyZXNzIiwgIkJsYWNrdGhvcm4iLCAiR2hvc3QgQnJpZGUiLCAiVmljdG9yaW91cyIsICJDaHJvbWEgUGFjazogVG94aWMiLCAiQ2hyb21hIFBhY2s6IFBhbGUiLCAiQ2hyb21hIFBhY2s6IEVib255IiwiTHVuYXIifSwNCiAgLS0gTiANClsiTmFtaSJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiS29pIiwgIlJpdmVyIFNwaXJpdCIsICJVcmYiLCAiQ2hyb21hIFBhY2s6IFN1bmJlYW0iLCAiQ2hyb21hIFBhY2s6IFNtb2tlIiwgIkNocm9tYSBQYWNrOiBUd2lsaWdodCJ9LA0KWyJOYXN1cyJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJHYWxhY3RpYyIsICJQaGFyYW9oIiwgIkRyZWFka25pZ2h0IiwgIlJpb3QgSy05IiwgIkluZmVybmFsIiwgIkFyY2hkdWtlIiwgIkNocm9tYSBQYWNrOiBCdXJuIiwgIkNocm9tYSBQYWNrOiBCbGlnaHQiLCAiQ2hyb21hIFBhY2s6IEZyb3N0Yml0ZSIsfSwNClsiTmF1dGlsdXMiXSAgICAgPSB7IkNsYXNzaWMiLCAiQWJ5c3NhbCIsICJTdWJ0ZXJyYW5lYW4iLCAiQXN0cm9OYXV0aWx1cyIsICJXYXJkZW4ifSwNClsiTmlkYWxlZSJdICAgICAgPSB7IkNsYXNzaWMiLCAiU25vdyBCdW5ueSIsICJMZW9wYXJkIiwgIkZyZW5jaCBNYWlkIiwgIlBoYXJhb2giLCAiQmV3aXRjaGluZyIsICJIZWFkaHVudGVyIiwgIldhcnJpbmcgS2luZ2RvbXMifSwNClsiTm9jdHVybmUiXSAgICAgPSB7IkNsYXNzaWMiLCAiRnJvemVuIFRlcnJvciIsICJWb2lkIiwgIlJhdmFnZXIiLCAiSGF1bnRpbmciLCAiRXRlcm51bSJ9LA0KWyJOdW51Il0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJTYXNxdWF0Y2giLCAiV29ya3Nob3AiLCAiR3J1bmd5IiwgIk51bnUgQm90IiwgIkRlbW9saXNoZXIiLCAiVFBBIiwgIlpvbWJpZSJ9LA0KICAtLSBPIA0KWyJPbGFmIl0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJGb3JzYWtlbiIsICJHbGFjaWFsIiwgIkJyb2xhZiIsICJQZW50YWtpbGwiLCAiTWFyYXVkZXIifSwNClsiT3JpYW5uYSJdICAgICAgPSB7IkNsYXNzaWMiLCAiR290aGljIiwgIlNld24gQ2hhb3MiLCAiQmxhZGVjcmFmdCIsICJUUEEiLCAiV2ludGVyIFdvbmRlciJ9LA0KICAtLSBQIA0KWyJQYW50aGVvbiJdICAgICA9IHsiQ2xhc3NpYyIsICJNeXJtaWRvbiIsICJSdXRobGVzcyIsICJQZXJzZXVzIiwgIkZ1bGwgTWV0YWwiLCAiR2xhaXZlIFdhcnJpb3IiLCAiRHJhZ29uc2xheWVyIiwgIlNsYXllciJ9LA0KWyJQb3BweSJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJOb3h1cyIsICJMb2xsaXBvcHB5IiwgIkJsYWNrc21pdGgiLCAiUmFnZG9sbCIsICJCYXR0bGUgUmVnYWxpYSIsICJTY2FybGV0IEhhbW1lciJ9LA0KICAtLSBRIA0KWyJRdWlubiJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJQaG9lbml4IiwgIldvYWQgU2NvdXQiLCAiQ29yc2FpciJ9LA0KICAtLSBSIA0KWyJSYW1tdXMiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJLaW5nIiwgIkNocm9tZSIsICJNb2x0ZW4iLCAiRnJlbGpvcmQiLCAiTmluamEiLCAiRnVsbCBNZXRhbCIsICJHdWFyZGlhbiBvZiB0aGUgU2FuZHMifSwNClsiUmVrc2FpIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiRXRlcm51bSIsICJQb29sIFBhcnR5In0sDQpbIlJlbmVrdG9uIl0gICAgID0geyJDbGFzc2ljIiwgIkdhbGFjdGljIiwgIk91dGJhY2siLCAiQmxvb2RmdXJ5IiwgIlJ1bmUgV2FycyIsICJTY29yY2hlZCBFYXJ0aCIsICJQb29sIFBhcnR5IiwgIlNjb3JjaGVkIEVhcnRoIiwgIlByZWhpc3RvcmljIn0sDQpbIlJlbmdhciJdICAgICAgID0geyJDbGFzc2ljIiwgIkhlYWRodW50ZXIiLCAiTmlnaHQgSHVudGVyIiwgIlNTVyJ9LA0KWyJSaXZlbiJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJSZWRlZW1lZCIsICJDcmltc29uIEVsaXRlIiwgIkJhdHRsZSBCdW5ueSIsICJDaGFtcGlvbnNoaXAiLCAiRHJhZ29uYmxhZGUiLCAiQXJjYWRlIn0sDQpbIlJ1bWJsZSJdICAgICAgID0geyJDbGFzc2ljIiwgIlJ1bWJsZSBpbiB0aGUgSnVuZ2xlIiwgIkJpbGdlcmF0IiwgIlN1cGVyIEdhbGF4eSJ9LA0KWyJSeXplIl0gICAgICAgICA9IHsiQ2xhc3NpYyIsICJIdW1hbiIsICJUcmliYWwiLCAiVW5jbGUiLCAiVHJpdW1waGFudCIsICJQcm9mZXNzb3IiLCAiWm9tYmllIiwgIkRhcmsgQ3J5c3RhbCIsICJQaXJhdGUiLCAiV2hpdGViZWFyZCJ9LA0KICAtLSBTIA0KWyJTZWp1YW5pIl0gICAgICA9IHsiQ2xhc3NpYyIsICJTYWJyZXR1c2siLCAiRGFya3JpZGVyIiwgIlRyYWRpdGlvbmFsIiwgIkJlYXIgQ2F2YWxyeSIsICJQb3JvIFJpZGVyIn0sDQpbIlNoYWNvIl0gICAgICAgID0geyJDbGFzc2ljIiwgIk1hZCBIYXR0ZXIiLCAiUm95YWwiLCAiTnV0Y3JhY2tvIiwgIldvcmtzaG9wIiwgIkFzeWx1bSIsICJNYXNrZWQiLCAiV2lsZCBDYXJkIn0sDQpbIlNoZW4iXSAgICAgICAgID0geyJDbGFzc2ljIiwgIkZyb3plbiIsICJZZWxsb3cgSmFja2V0IiwgIlN1cmdlb24iLCAiQmxvb2QgTW9vbiIsICJXYXJsb3JkIiwgIlRQQSJ9LA0KWyJTaHl2YW5hIl0gICAgICA9IHsiQ2xhc3NpYyIsICJJcm9uc2NhbGUiLCAiQm9uZWNsYXciLCAiRGFya2ZsYW1lIiwgIkljZSBEcmFrZSIsICJDaGFtcGlvbnNoaXAifSwNClsiU2luZ2VkIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiUmlvdCBTcXVhZCIsICJIZXh0ZWNoIiwgIlN1cmZlciIsICJNYWQgU2NpZW50aXN0IiwgIkF1Z21lbnRlZCIsICJTbm93IERheSIsICJTU1cifSwNClsiU2lvbiJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiSGV4dGVjaCIsICJCYXJiYXJpYW4iLCAiTHVtYmVyamFjayIsICJXYXJtb25nZXIifSwNClsiU2l2aXIiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiV2FycmlvciBQcmluY2VzcyIsICJTcGVjdGFjdWxhciIsICJIdW50cmVzcyIsICJCYW5kaXQiLCAiUEFYIiwgIlNub3dzdG9ybSIsICJXYXJkZW4iLCAiVmljdG9yaW91cyJ9LA0KWyJTa2FybmVyIl0gICAgICA9IHsiQ2xhc3NpYyIsICJTYW5kc2NvdXJnZSIsICJFYXJ0aHJ1bmUiLCAiQmF0dGxlY2FzdCBBbHBoYSIsICJHdWFyZGlhbiBvZiB0aGUgU2FuZHMifSwNClsiU29uYSJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiTXVzZSIsICJQZW50YWtpbGwiLCAiU2lsZW50IE5pZ2h0IiwgIkd1cWluIiwgIkFyY2FkZSIsICJESiJ9LA0KWyJTb3Jha2EiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJEcnlhZCIsICJEaXZpbmUiLCAiQ2VsZXN0aW5lIiwgIlJlYXBlciIsICJPcmRlciBvZiB0aGUgQmFuYW5hIn0sDQpbIlN3YWluIl0gICAgICAgID0geyJDbGFzc2ljIiwgIk5vcnRoZXJuIEZyb250IiwgIkJpbGdld2F0ZXIiLCAiVHlyYW50In0sDQpbIlN5bmRyYSJdICAgICAgID0geyJDbGFzc2ljIiwgIkp1c3RpY2FyIiwgIkF0bGFudGVhbiIsICJRdWVlbiBvZiBEaWFtb25kcyJ9LA0KICAtLSBUIA0KWyJUYWhtS2VuY2giXSAgICA9IHsiQ2xhc3NpYyIsICJNYXN0ZXIgQ2hlZiJ9LA0KWyJUYWxvbiJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJSZW5lZ2FkZSIsICJDcmltc29uIEVsaXRlIiwgIkRyYWdvbmJsYWRlIiwgIlNTVyJ9LA0KWyJUYXJpYyJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJFbWVyYWxkIiwgIkFybW9yIG9mIHRoZSBGaWZ0aCBBZ2UiLCAiQmxvb2RzdG9uZSJ9LA0KWyJUZWVtbyJdICAgICAgICA9IHsiQ2xhc3NpYyIsICJIYXBweSBFbGYiLCAiUmVjb24iLCAiQmFkZ2VyIiwgIkFzdHJvbmF1dCIsICJDb3R0b250YWlsIiwgIlN1cGVyIiwgIlBhbmRhIiwgIk9tZWdhIFNxdWFkIn0sDQpbIlRocmVzaCJdICAgICAgID0geyJDbGFzc2ljIiwgIkRlZXAgVGVycm9yIiwgIkNoYW1waW9uc2hpcCIsICJCbG9vZCBNb29uIiwgIlNTVyJ9LA0KWyJUcmlzdGFuYSJdICAgICA9IHsiQ2xhc3NpYyIsICJSaW90IEdpcmwiLCAiRWFybmVzdCBFbGYiLCAiRmlyZWZpZ2h0ZXIiLCAiR3VlcmlsbGEiLCAiQnVjY2FuZWVyIiwgIlJvY2tldCBHaXJsIiwgIkNocm9tYSBQYWNrOiBOYXZ5IiwgIkNocm9tYSBQYWNrOiBQdXJwbGUiLCAiQ2hyb21hIFBhY2s6IE9yYW5nZSIsICJEcmFnb24gVHJhaW5lciJ9LA0KWyJUcnVuZGxlIl0gICAgICA9IHsiQ2xhc3NpYyIsICJMaWwnIFNsdWdnZXIiLCAiSnVua3lhcmQiLCAiVHJhZGl0aW9uYWwiLCAiQ29uc3RhYmxlIn0sDQpbIlRyeW5kYW1lcmUiXSAgID0geyJDbGFzc2ljIiwgIkhpZ2hsYW5kIiwgIktpbmciLCAiVmlraW5nIiwgIkRlbW9uYmxhZGUiLCAiU3VsdGFuIiwgIldhcnJpbmcgS2luZ2RvbXMiLCAiTmlnaHRtYXJlIn0sDQpbIlR3aXN0ZWRGYXRlIl0gID0geyJDbGFzc2ljIiwgIlBBWCIsICJKYWNrIG9mIEhlYXJ0cyIsICJUaGUgTWFnbmlmaWNlbnQiLCAiVGFuZ28iLCAiSGlnaCBOb29uIiwgIk11c2tldGVlciIsICJVbmRlcndvcmxkIiwgIlJlZCBDYXJkIiwgIkN1dHB1cnNlIn0sDQpbIlR3aXRjaCJdICAgICAgID0geyJDbGFzc2ljIiwgIktpbmdwaW4iLCAiV2hpc3RsZXIgVmlsbGFnZSIsICJNZWRpZXZhbCIsICJHYW5nc3RlciIsICJWYW5kYWwiLCAiUGlja3BvY2tldCIsICJTU1cifSwNCiAgLS0gVSANClsiVWR5ciJdICAgICAgICAgPSB7IkNsYXNzaWMiLCAiQmxhY2sgQmVsdCIsICJQcmltYWwiLCAiU3Bpcml0IEd1YXJkIiwgIkRlZmluaXRlbHkgTm90In0sDQpbIlVyZ290Il0gICAgICAgID0geyJDbGFzc2ljIiwgIkdpYW50IEVuZW15IENyYWJnb3QiLCAiQnV0Y2hlciIsICJCYXR0bGVjYXN0In0sDQogIC0tIFYgDQpbIlZhcnVzIl0gICAgICAgID0geyJDbGFzc2ljIiwgIkJsaWdodCBDcnlzdGFsIiwgIkFyY2xpZ2h0IiwgIkFyY3RpYyBPcHMiLCAiSGVhcnRzZWVrZXIiLCAiU3dpZnRib2x0In0sDQpbIlZheW5lIl0gICAgICAgID0geyJDbGFzc2ljIiwgIlZpbmRpY2F0b3IiLCAiQXJpc3RvY3JhdCIsICJEcmFnb25zbGF5ZXIiLCAiSGVhcnRzZWVrZXIiLCAiU0tUIFQxIiwgIkFyY2xpZ2h0IiwgIkNocm9tYSBQYWNrOiBHcmVlbiIsICJDaHJvbWEgUGFjazogUmVkIiwgIkNocm9tYSBQYWNrOiBTaWx2ZXIifSwNClsiVmVpZ2FyIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiV2hpdGUgTWFnZSIsICJDdXJsaW5nIiwgIlZlaWdhciBHcmV5YmVhcmQiLCAiTGVwcmVjaGF1biIsICJCYXJvbiBWb24iLCAiU3VwZXJiIFZpbGxhaW4iLCAiQmFkIFNhbnRhIiwgIkZpbmFsIEJvc3MifSwNClsiVmVsa296Il0gICAgICAgPSB7IkNsYXNzaWMiLCAiQmF0dGxlY2FzdCIsICJBcmNsaWdodCJ9LA0KWyJWaSJdICAgICAgICAgICA9IHsiQ2xhc3NpYyIsICJOZW9uIFN0cmlrZSIsICJPZmZpY2VyIiwgIkRlYm9uYWlyIiwgIkRlbW9uIn0sDQpbIlZpa3RvciJdICAgICAgID0geyJDbGFzc2ljIiwgIkZ1bGwgTWFjaGluZSIsICJQcm90b3R5cGUiLCAiQ3JlYXRvciJ9LA0KWyJWbGFkaW1pciJdICAgICA9IHsiQ2xhc3NpYyIsICJDb3VudCIsICJNYXJxdWlzIiwgIk5vc2ZlcmF0dSIsICJWYW5kYWwiLCAiQmxvb2QgTG9yZCIsICJTb3Vsc3RlYWxlciIsICJBY2FkZW15In0sDQpbIlZvbGliZWFyIl0gICAgID0geyJDbGFzc2ljIiwgIlRodW5kZXIgTG9yZCIsICJOb3J0aGVybiBTdG9ybSIsICJSdW5lZ3VhcmQiLCAiQ2FwdGFpbiJ9LA0KICAtLSBXIA0KWyJXYXJ3aWNrIl0gICAgICA9IHsiQ2xhc3NpYyIsICJHcmV5IiwgIlVyZiB0aGUgTWFuYXRlZSIsICJCaWcgQmFkIiwgIlR1bmRyYSBIdW50ZXIiLCAiRmVyYWwiLCAiRmlyZWZhbmciLCAiSHllbmEiLCAiTWFyYXVkZXIifSwNClsiTW9ua2V5S2luZyJdICAgPSB7IkNsYXNzaWMiLCAiVm9sY2FuaWMiLCAiR2VuZXJhbCIsICJKYWRlIERyYWdvbiIsICJVbmRlcndvcmxkIiwiUmFkaWFudCJ9LA0KICAtLSBYIA0KWyJYZXJhdGgiXSAgICAgICA9IHsiQ2xhc3NpYyIsICJSdW5lYm9ybiIsICJCYXR0bGVjYXN0IiwgIlNjb3JjaGVkIEVhcnRoIiwgIkd1YXJkaWFuIG9mIHRoZSBTYW5kcyJ9LA0KWyJYaW5aaGFvIl0gICAgICA9IHsiQ2xhc3NpYyIsICJDb21tYW5kbyIsICJJbXBlcmlhbCIsICJWaXNjZXJvIiwgIldpbmdlZCBIdXNzYXIiLCAiV2FycmluZyBLaW5nZG9tcyIsICJTZWNyZXQgQWdlbnQifSwNCiAgLS0gWSANClsiWWFzdW8iXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiSGlnaCBOb29uIiwgIlBST0pFQ1QifSwNClsiWW9yaWNrIl0gICAgICAgPSB7IkNsYXNzaWMiLCAiVW5kZXJ0YWtlciIsICJQZW50YWtpbGwifSwNCiAgLS0gWiANClsiWmFjIl0gICAgICAgICAgPSB7IkNsYXNzaWMiLCAiU3BlY2lhbCBXZWFwb24iLCAiUG9vbCBQYXJ0eSIsICJDaHJvbWEgUGFjazogT3JhbmdlIiwgIkNocm9tYSBQYWNrOiBCdWJibGVndW0iLCAiQ2hyb21hIFBhY2s6IEhvbmV5In0sDQpbIlplZCJdICAgICAgICAgID0geyJDbGFzc2ljIiwgIlNob2NrYmxhZGUiLCAiU0tUIFQxIiwgIlBST0pFQ1QifSwNClsiWmlnZ3MiXSAgICAgICAgPSB7IkNsYXNzaWMiLCAiTWFkIFNjaWVudGlzdCIsICJNYWpvciIsICJQb29sIFBhcnR5IiwgIlNub3cgRGF5IiwgIk1hc3RlciBBcmNhbmlzdCJ9LA0KWyJaaWxlYW4iXSAgICAgICA9IHsiQ2xhc3NpYyIsICJPbGQgU2FpbnQiLCAiR3Jvb3Z5IiwgIlNodXJpbWEgRGVzZXJ0IiwgIlRpbWUgTWFjaGluZSIsICJCbG9vZCBNb29uIn0sDQpbIlp5cmEiXSAgICAgICAgID0geyJDbGFzc2ljIiwgIldpbGRmaXJlIiwgIkhhdW50ZWQiLCAiU0tUIFQxIn0sDQp9DQpsb2NhbCBmdW5jdGlvbiBsb2dETChtc2cpDQpwcmludCgiPGZvbnQgY29sb3I9XCIjZTg4ZWJjXCI+W0RpdmluZUxpYl08L2ZvbnQ+ICIuLm1zZykNCmVuZA0KDQpjbGFzcyAnREluZm8nDQpESW5mby5OQU1FID0gIkRpdmluZUxpYiINCkRJbmZvLlZFUlNJT04gPSAwLjINCkRJbmZvLlNTTCA9IHRydWUNCkRJbmZvLlNBVkVfUEFUSCA9IExJQl9QQVRILi4iRGl2aW5lTGliLmx1YSINCkRJbmZvLkhPU1RfVVJMID0gJ3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20nDQpESW5mby5TQ1JJUFRfUEFUSCA9ICcvUGV3UGV3UGV3Mi9Cb0wvbWFzdGVyL1Bld3RpbGl0eS5sdWEnDQpESW5mby5WRVJTSU9OX1BBVEggPSAnL1Bld1Bld1BldzIvQm9ML21hc3Rlci9WZXJzaW9ucy9QZXd0aWxpdHkudmVyc2lvbicNCg0KY2xhc3MgJ0REcmF3Jw0KRERyYXcuY2ZnID0gbmlsDQpERHJhdy5SQU5HRVNfQ09MT1JfTUFQUElORyA9IHtRID0gezI1NSwyNTUsIDE4Myw1MX0gLCBXID0gezI1NSw1MiwxNTIsMjE5fSAsIEUgPXsyNTUsNCwxMjAsMTIwfSAsIFIgPXsyNTUsMTk0LDMzLDMzfSxJID0gezI1NSwyNDUsMTE1LDU0fX0NCiAgRERyYXcuaW5jbHVkZSA9IGZ1bmN0aW9uKGNmZywuLi4pDQoJRERyYXcuY2ZnID0gY2ZnDQoJRERyYXcuY2ZnOmFkZFN1Yk1lbnUoIkRyYXdpbmciLCJkcmF3aW5nIikNCglERHJhdy5jZmcuZHJhd2luZzphZGRQYXJhbSgiZHJhd1JhbmdlcyIsIkRyYXcgU3BlbGwgUmFuZ2VzIixTQ1JJUFRfUEFSQU1fT05PRkYsdHJ1ZSkNCglERHJhdy5jZmcuZHJhd2luZzphZGRTdWJNZW51KCJEcmF3IFNwZWxsIFJhbmdlcyBTZXR0aW5ncyIsInJhbmdlc0NvbG9ycyIpDQoJRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzOmFkZFBhcmFtKCJkcmF3UmFuZ2UiLi5fUSwiRHJhdyBRIFJhbmdlIixTQ1JJUFRfUEFSQU1fT05PRkYsdHJ1ZSkNCglERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnM6YWRkUGFyYW0oIiIuLl9RLCJRIixTQ1JJUFRfUEFSQU1fQ09MT1IsIEREcmF3LlJBTkdFU19DT0xPUl9NQVBQSU5HLlEpDQoJRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzOmFkZFBhcmFtKCJkcmF3UmFuZ2UiLi5fVywiRHJhdyBXIFJhbmdlIixTQ1JJUFRfUEFSQU1fT05PRkYsZmFsc2UpDQoJRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzOmFkZFBhcmFtKCIiLi5fVywiVyIsU0NSSVBUX1BBUkFNX0NPTE9SLCBERHJhdy5SQU5HRVNfQ09MT1JfTUFQUElORy5XKQ0KCUREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9yczphZGRQYXJhbSgiZHJhd1JhbmdlIi4uX0UsIkRyYXcgRSBSYW5nZSIsU0NSSVBUX1BBUkFNX09OT0ZGLGZhbHNlKQ0KCUREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9yczphZGRQYXJhbSgiIi4uX0UsIkUiLFNDUklQVF9QQVJBTV9DT0xPUiwgRERyYXcuUkFOR0VTX0NPTE9SX01BUFBJTkcuRSkNCglERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnM6YWRkUGFyYW0oImRyYXdSYW5nZSIuLl9SLCJEcmF3IFIgUmFuZ2UiLFNDUklQVF9QQVJBTV9PTk9GRixmYWxzZSkNCglERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnM6YWRkUGFyYW0oIiIuLl9SLCJSIixTQ1JJUFRfUEFSQU1fQ09MT1IsIEREcmF3LlJBTkdFU19DT0xPUl9NQVBQSU5HLlIpDQoJbG9jYWwgaWduaXRlU2xvdCA9IERVdGlsLmdldFN1bW1vbmVyU2xvdCgic3VtbW9uZXJkb3QiKQ0KCWlmIGlnbml0ZVNsb3QgdGhlbg0KCQlERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnM6YWRkUGFyYW0oImRyYXdSYW5nZSIuLmlnbml0ZVNsb3QsIkRyYXcgSWduaXRlIFJhbmdlIixTQ1JJUFRfUEFSQU1fT05PRkYsZmFsc2UpDQoJCUREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9yczphZGRQYXJhbSgiIi4uaWduaXRlU2xvdCwiSSIsU0NSSVBUX1BBUkFNX0NPTE9SLCBERHJhdy5SQU5HRVNfQ09MT1JfTUFQUElORy5JKQ0KCWVuZA0KCUREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9yczphZGRQYXJhbSgiYWxwaGEiLCJUcmFuc3BhcmVuY3kiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMjU1LDAsMjU1LDApDQoJRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzOmFkZFBhcmFtKCJ3aWR0aCIsIlRoaWNrbmVzcyIsIFNDUklQVF9QQVJBTV9TTElDRSwxLDEsNSwwKQ0KCUREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9yczphZGRQYXJhbSgic2FtcGxpbmciLCJTYW1wbGluZyIsIFNDUklQVF9QQVJBTV9TTElDRSwxODAsMSw1MDAsMCkNCglERHJhdy5jZmcuZHJhd2luZzphZGRQYXJhbSgiZHJhd0hJbmRpY2F0b3IiLCJEcmF3IEhlYWx0aGJhciBJbmRpY2F0b3IiLFNDUklQVF9QQVJBTV9PTk9GRix0cnVlKQ0KCUREcmF3LmNmZy5kcmF3aW5nOmFkZFN1Yk1lbnUoIkRyYXcgSGVhbHRoYmFyIEluZGljYXRvciBTZXR0aW5ncyIsImhJbmRpY2F0b3JTZXR0aW5ncyIpDQoJRERyYXcuY2ZnLmRyYXdpbmcuaEluZGljYXRvclNldHRpbmdzOmFkZFBhcmFtKCJkcmF3SW5SYW5nZSIsIkRyYXcgT25seSB3aGVuIGVuZW15IGlzIGluIHNwZWxsIHJhbmdlIixTQ1JJUFRfUEFSQU1fT05PRkYsZmFsc2UpDQoJRERyYXcuY2ZnLmRyYXdpbmcuaEluZGljYXRvclNldHRpbmdzOmFkZFBhcmFtKCJkcmF3Tm90T25DRCIsIkRyYXcgT25seSB3aGVuIFNwZWxsIGlzIG5vdCBvbiBDRCIsU0NSSVBUX1BBUkFNX09OT0ZGLHRydWUpDQoJRERyYXcuY2ZnLmRyYXdpbmcuaEluZGljYXRvclNldHRpbmdzOmFkZFBhcmFtKCJzaXplIiwiSGVhbHRoYmFyIEluZGljYXRvcnMgU2l6ZSIsIFNDUklQVF9QQVJBTV9TTElDRSwxNSwxMCwyMiwwKQ0KCUREcmF3LmNmZy5kcmF3aW5nLmhJbmRpY2F0b3JTZXR0aW5nczphZGRQYXJhbSgiaGVpZ2h0IiwiSGVhbHRoYmFyIEluZGljYXRvcnMgSGVpZ2h0IiwgU0NSSVBUX1BBUkFNX1NMSUNFLDE1LDEsMjAwLDApDQoJRERyYXcuY2ZnLmRyYXdpbmcuaEluZGljYXRvclNldHRpbmdzOmFkZFBhcmFtKCJhbHBoYSIsIkhlYWx0aGJhciBPdmVyZHJhdyBUcmFuc3BhcmVuY3kiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMTE1LDAsMjU1LDApDQoJDQoJbG9jYWwgc3BlbGxzID0gdGFibGUucGFjayguLi4pDQoJQWRkRHJhd0NhbGxiYWNrKGZ1bmN0aW9uKCkNCgkJaWYgbXlIZXJvLmRlYWQgb3Igbm90IEREcmF3LmNmZy5kcmF3aW5nLmRyYXdSYW5nZXMgdGhlbiByZXR1cm4gZW5kDQoJCWxvY2FsIGFscGhhID0gRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzLmFscGhhDQoJCWxvY2FsIHdpZHRoID0gRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzLndpZHRoDQoJCWxvY2FsIHNhbXBsaW5nID0gRERyYXcuY2ZnLmRyYXdpbmcucmFuZ2VzQ29sb3JzLnNhbXBsaW5nDQoJCWZvciBpID0gMSwgc3BlbGxzLm4gZG8NCgkJbG9jYWwgc3BlbGwgPSBzcGVsbHNbaV0NCgkJICAgIGlmIHNwZWxsIGFuZCBERHJhdy5jZmcuZHJhd2luZy5yYW5nZXNDb2xvcnNbImRyYXdSYW5nZSIuLnNwZWxsLmlkeF0gYW5kIG15SGVybzpDYW5Vc2VTcGVsbChzcGVsbC5pZHgpID09IFJFQURZIHRoZW4NCgkJCQlsb2NhbCBjb2xvciA9IEREcmF3LmNmZy5kcmF3aW5nLnJhbmdlc0NvbG9yc1siIi4uc3BlbGwuaWR4XQ0KCQkJCUREcmF3LmRyYXdMRlMobXlIZXJvLngsIG15SGVyby55LCBteUhlcm8ueiwgc3BlbGwucmFuZ2Usd2lkdGgsQVJHQihhbHBoYSxjb2xvclsyXSxjb2xvclszXSxjb2xvcls0XSksc2FtcGxpbmcsZmFsc2UsdHJ1ZSkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQogIGVuZA0KICANCiAgDQogIEREcmF3LmdldEhlYXRDb2xvciA9IGZ1bmN0aW9uICh2YWx1ZSxtaW4sbWF4LGFscGhhKSAgICAgDQoJbG9jYWwgdmFsID0gKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pOw0KCXJldHVybiBBUkdCKGFscGhhLCBGTE9PUigyNTUgKiB2YWwpLEZMT09SKDI1NSAqICgxIC0gdmFsKSksIDApOw0KICBlbmQNCiAgDQogRERyYXcuZHJhd0xpbmVzID0gZnVuY3Rpb24ocHRzLHdpZHRoLGNvbG9yLCBzZWdMZW5ndGgpDQogIGxvY2FsIHNlZ0NvdW50ZXIgPSAwDQogIGxvY2FsIGRyYXcgPSBmYWxzZQ0KICBmb3IgaSA9IDIsI3B0cyBkbw0KICAgaWYgc2VnTGVuZ3RoIHRoZW4NCiAgICAgIGlmIHNlZ0NvdW50ZXIgPT0gc2VnTGVuZ3RoIHRoZW4NCiAgICAgICAgZHJhdyA9IG5vdCBkcmF3DQogICAgICAgIHNlZ0NvdW50ZXIgPSAwDQogICAgICBlbHNlDQogICAgICAgIHNlZ0NvdW50ZXIgPSBzZWdDb3VudGVyICsgMSANCiAgICAgIGVuZA0KICAgIGVuZA0KICAgIA0KICAgIGlmIChub3Qgc2VnTGVuZ3RoKSBvciAoZHJhdykgdGhlbg0KICAgICAgRHJhd0xpbmUzRChwdHNbaV0ueCxwdHNbaV0ueSxwdHNbaV0ueixwdHNbaS0xXS54LHB0c1tpLTFdLnkscHRzW2ktMV0ueix3aWR0aCxjb2xvcikNCiAgICAgLS1EcmF3TGluZShwdHNbaV0ueCwgcHRzW2ldLnksIHB0c1tpIC0gMV0ueCwgcHRzW2kgLSAxXS55LCB3aWR0aCxjb2xvcikNCiAgICBlbmQgDQogIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIEREcmF3LmdldFRyYW5zQ29sb3IodHJhbnMsY29sb3IpDQoJcmV0dXJuICB0b251bWJlcihzdHJpbmcuZm9ybWF0KCIlMDJYIiwiMHgiLi50cmFucy4uY29sb3IpLDE2KQ0KZW5kDQoNCkREcmF3LkRyYXdDaXJjbGVDdXN0b20gPSBmdW5jdGlvbih4LCB5LCB6LCByYWRpdXMsIHdpZHRoLCBjb2xvciwgY2hvcmRsZW5ndGgsdmlzaW9uQ2FyZSwgc2VnTGVuZ3RoKQ0KICByYWRpdXMgPSByYWRpdXMgb3IgMzAwDQogIHF1YWxpdHkgPSBtYXRoLm1heCg4LHJvdW5kKDE4MC9tYXRoLmRlZygobWF0aC5hc2luKChjaG9yZGxlbmd0aC8oMipyYWRpdXMpKSkpKSkpDQogIHF1YWxpdHkgPSAyICogbWF0aC5waSAvIHF1YWxpdHkNCiAgcmFkaXVzID0gcmFkaXVzKi45Mg0KICBsb2NhbCBwb2ludHMgPSB7fQ0KICBmb3IgdGhldGEgPSAwLCAyICogbWF0aC5waSArIHF1YWxpdHksIHF1YWxpdHkgZG8NCiAgICBsb2NhbCBwb3M9IEQzRFhWRUNUT1IzKHggKyByYWRpdXMgKiBtYXRoLmNvcyh0aGV0YSksIHksIHogLSByYWRpdXMgKiBtYXRoLnNpbih0aGV0YSkpDQogICAgaWYgdmlzaW9uQ2FyZSB0aGVuDQogICAgICBsb2NhbCBibG9ja2VkID0gdHJ1ZQ0KICAgICAgZm9yIGkgPSAyMDAscmFkaXVzLDE1IGRvDQogICAgICAgIGxvY2FsIHZhbGlkUG9zID0gRDNEWFZFQ1RPUjMoeCArIGkgKiBtYXRoLmNvcyh0aGV0YSksIHksIHogLSBpICogbWF0aC5zaW4odGhldGEpKQ0KICAgICAgICBpZiBibG9ja2VkIGFuZCAoSXNHcmFzcyh2YWxpZFBvcykgIG9yIElzV2FsbCh2YWxpZFBvcykpIHRoZW4NCiAgICAgICAgICBwb3MgPSB2YWxpZFBvcw0KICAgICAgICAgIGJsb2NrZWQgPSBmYWxzZQ0KICAgICAgICBlbmQNCiAgICAgIGVuZA0KICAgIGVuZA0KICAgLS0gbG9jYWwgYyA9IFdvcmxkVG9TY3JlZW4ocG9zKQ0KICAgIHBvaW50c1sjcG9pbnRzICsgMV0gPSBEM0RYVkVDVE9SMyhwb3MueCwgcG9zLnkscG9zLnopDQogIGVuZA0KICBERHJhdy5kcmF3TGluZXMocG9pbnRzLCB3aWR0aCBvciAxLCBjb2xvciBvciAgMHhCQmZmNjYwMCxzZWdMZW5ndGgpDQplbmQNCg0KZnVuY3Rpb24gcm91bmQobnVtKQ0KICBpZiBudW0gPj0gMCB0aGVuIHJldHVybiBtYXRoLmZsb29yKG51bSsuNSkgZWxzZSByZXR1cm4gbWF0aC5jZWlsKG51bS0uNSkgZW5kDQplbmQNCg0KIEREcmF3LmRyYXdMRlMgPSBmdW5jdGlvbih4LCB5LCB6LCByYWRpdXMsd2lkdGgsY29sb3IsY2hvcmRMZW5ndGgsdmlzaW9uQ2FyZSxhbHdheXNEcmF3LHNlZ0xlbmd0aCkNCiAgbG9jYWwgdlBvczEgPSBWZWN0b3IoeCwgeSwgeikNCiAgbG9jYWwgdlBvczIgPSBWZWN0b3IoY2FtZXJhUG9zLngsIGNhbWVyYVBvcy55LCBjYW1lcmFQb3MueikNCiAgbG9jYWwgdFBvcyA9IHZQb3MxIC0gKHZQb3MxIC0gdlBvczIpOm5vcm1hbGl6ZWQoKSAqIHJhZGl1cw0KICBsb2NhbCBzUG9zID0gV29ybGRUb1NjcmVlbihEM0RYVkVDVE9SMyh0UG9zLngsIHRQb3MueSwgdFBvcy56KSkNCiAgaWYgYWx3YXlzRHJhdyBvciBPblNjcmVlbih7IHggPSBzUG9zLngsIHkgPSBzUG9zLnkgfSwgeyB4ID0gc1Bvcy54LCB5ID0gc1Bvcy55IH0pICB0aGVuDQogICAgRERyYXcuRHJhd0NpcmNsZUN1c3RvbSh4LCB5LCB6LCByYWRpdXMsIHdpZHRoLCBjb2xvcixjaG9yZExlbmd0aCx2aXNpb25DYXJlLHNlZ0xlbmd0aCkNCiAgZW5kDQplbmQNCmNsYXNzICdEUHJlZGljdGlvbnMnDQogDQoJRFByZWRpY3Rpb25zLmRQcmVkLERQcmVkaWN0aW9ucy5rUHJlZCxEUHJlZGljdGlvbnMuZmhQcmVkLERQcmVkaWN0aW9ucy52UHJlZCA9IG5pbCxuaWwsbmlsLG5pbA0KCURQcmVkaWN0aW9ucy5pbmNsdWRlUHJlZCA9IGZhbHNlDQoJRFByZWRpY3Rpb25zLnNlbGVjdGVkUHJlZGljdGlvbiA9IG5pbA0KCURQcmVkaWN0aW9ucy5sb2FkZWRQcmVkTGlicyA9IHtkcHJlZCA9IGZhbHNlLGtwcmVkID0gZmFsc2UsZmggPSBmYWxzZSwgdnByZWQgPSBmYWxzZX0NCglEUHJlZGljdGlvbnMuaW5jbHVkZVByZWRpY3Rpb24gPSBmdW5jdGlvbihjZmcpICANCgkJRFByZWRpY3Rpb25zLmNmZyA9IGNmZw0KCQlEUHJlZGljdGlvbnMuaW5jbHVkZVByZWQgPSB0cnVlDQoJCURQcmVkaWN0aW9ucy5jZmc6YWRkU3ViTWVudSgiUHJlZGljdGlvbiIsInByZWQiKQ0KCQlEUHJlZGljdGlvbnMuY2ZnLnByZWQ6YWRkUGFyYW0oInByZWRpY3Rpb24iLCAiU2VsZWN0ICIsIFNDUklQVF9QQVJBTV9MSVNULCAzLCB7ICJEaXZpbmUgUHJlZCIsIkZIIFByZWQiLCJWUHJlZCJ9KQ0KCQlEUHJlZGljdGlvbnMuY2ZnLnByZWQ6YWRkUGFyYW0oImhpdGNoYW5jZSIsIlEgSGl0Q2hhbmNlICUgPj0iLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsNTAsMSwxMDAsMCkNCgkJQWRkVGlja0NhbGxiYWNrKGZ1bmN0aW9uKCkNCgkJCWlmIERQcmVkaWN0aW9ucy5pbmNsdWRlUHJlZCB0aGVuIA0KCQkJCWlmIERQcmVkaWN0aW9ucy5jZmcucHJlZC5wcmVkaWN0aW9uID09IDEgdGhlbiANCgkJCQkJaWYgbm90IERQcmVkaWN0aW9ucy5sb2FkZWRQcmVkTGlicy5kcHJlZCB0aGVuDQoJCQkJCQlpZiBGaWxlRXhpc3QoTElCX1BBVEggLi4gIkRpdmluZVByZWQubHVhIikgYW5kIEZpbGVFeGlzdChMSUJfUEFUSCAuLiAiRGl2aW5lUHJlZC5sdWFjIikgdGhlbiANCgkJCQkJCQlyZXF1aXJlICgiRGl2aW5lUHJlZCIpDQoJCQkJCQkJRFByZWRpY3Rpb25zLmRQcmVkID0gRGl2aW5lUHJlZCgpDQoJCQkJCQkJLS1sb2dETCgiTG9hZGVkIERpdmluZSBQcmVkaWNpdG9uLiIpDQoJCQkJCQkJRFByZWRpY3Rpb25zLmxvYWRlZFByZWRMaWJzLmRwcmVkID0gdHJ1ZQ0KCQkJCQkJCURQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPSBEUHJlZGljdGlvbnMuY2ZnLnByZWQucHJlZGljdGlvbiANCg0KCQkJCQkJZWxzZQ0KCQkJCQkJCWxvZ0RMKCJDb3VsZG4ndCBmaW5kIERpdmluZSBQcmVkaWN0aW9uIExpYiwgcGxlYXNlIG1ha2Ugc3VyZSBpdHMgZG93bmxvYWRlZCBhbmQgdGhhdCBpdCBoYXMgdGhlIHNhbWUgb3JpZ2luYWwgZmlsZSBuYW1lIG9yIGNob29zZSBhbm90aGVyIHByZWRpY3Rpb24uIikNCgkJCQkJCQktLURlbGF5QWN0aW9uKGZ1bmN0aW9uKCkgZW5kLDEpDQoJCQkJCQkJRFByZWRpY3Rpb25zLnNlbGVjdGVkUHJlZGljdGlvbiA9IG5pbA0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCURQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPSBEUHJlZGljdGlvbnMuY2ZnLnByZWQucHJlZGljdGlvbiANCgkJCQkJZW5kDQoJCQkJCQ0KCQkJLS1bWwllbHNlaWYgRFByZWRpY3Rpb25zLmNmZy5wcmVkLnByZWRpY3Rpb24gPT0gMiB0aGVuDQoJCQkJCWlmIG5vdCBEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMua3ByZWQgdGhlbg0KCQkJCQkJaWYgRmlsZUV4aXN0KExJQl9QQVRIIC4uICJLUHJlZGljdGlvbi5sdWEiKSB0aGVuIA0KCQkJCQkJCQlyZXF1aXJlICgiS1ByZWRpY3Rpb24iKQ0KCQkJCQkJCQlEUHJlZGljdGlvbnMua1ByZWQgPSBLUHJlZGljdGlvbigpDQoJCQkJCQkJCWxvZ0RMKCJMb2FkZWQgS1ByZWRpY3Rpb24iKQ0KCQkJCQkJCQlEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMua3ByZWQgPSB0cnVlDQoJCQkJCQkJCURQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPSBEUHJlZGljdGlvbnMuY2ZnLnByZWQucHJlZGljdGlvbiANCgkJCQkJCWVsc2UNCgkJCQkJCQkJbG9nREwoIkNvdWxkbid0IGZpbmQgS1ByZWRpY3Rpb24gTGliLCBwbGVhc2UgbWFrZSBzdXJlIGl0cyBkb3dubG9hZGVkIGFuZCB0aGF0IGl0IGhhcyB0aGUgc2FtZSBvcmlnaW5hbCBmaWxlIG5hbWUgb3IgY2hvb3NlIGFub3RoZXIgcHJlZGljdGlvbi4iKQ0KCQkJCQkJCQktLURlbGF5QWN0aW9uKGZ1bmN0aW9uKCkgZW5kLDEpDQoJCQkJCQkJCURQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPSBuaWwNCgkJCQkJCWVuZA0KCQkJCQllbHNlDQoJCQkJCQlEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID0gRFByZWRpY3Rpb25zLmNmZy5wcmVkLnByZWRpY3Rpb24gDQoJCQkJCWVuZF1dLS0NCgkJCQllbHNlaWYgRFByZWRpY3Rpb25zLmNmZy5wcmVkLnByZWRpY3Rpb24gPT0gMiB0aGVuDQoJCQkJCWlmIG5vdCBEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMuZmggdGhlbg0KCQkJCQkJaWYgRkhQcmVkaWN0aW9uIHRoZW4gDQoJCQkJCQkJCS0tcmVxdWlyZSAoIkZIUHJlZGljdGlvbiIpDQoJCQkJCQkJCWxvZ0RMKCJEZXRlY3RlZCBhbmQgc2V0IEZIUHJlZGljdGlvbiIpDQoJCQkJCQkJCURQcmVkaWN0aW9ucy5maFByZWQgPSBGSFByZWRpY3Rpb24NCgkJCQkJCQkJRFByZWRpY3Rpb25zLmxvYWRlZFByZWRMaWJzLmZoID0gdHJ1ZQ0KCQkJCQkJCQlEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID0gRFByZWRpY3Rpb25zLmNmZy5wcmVkLnByZWRpY3Rpb24gDQoJCQkJCQllbHNlDQoJCQkJCQkJCWxvZ0RMKCJQbGVhc2UgTWFrZSBzdXJlIHRvIHBsYWNlIEZIUHJlZGljdGlvbi5sdWEgaW4gU2NyaXB0cyBmb2xkZXIgYW5kIHJ1biBpdCBhcyBhIHN0YW5kYWxvbmUgc2NyaXB0IHRvIGJlIGFibGUgdG8gdXNlIGl0IG9yIHNlbGVjdCBhbm90aGVyIHByZWRpY3Rpb24uIikNCgkJCQkJCQkJLS1EZWxheUFjdGlvbihmdW5jdGlvbigpIGVuZCwxKQ0KCQkJCQkJCQlEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID0gbmlsDQoJCQkJCQllbmQNCgkJCQkJZWxzZQ0KCQkJCQkJRFByZWRpY3Rpb25zLnNlbGVjdGVkUHJlZGljdGlvbiA9IERQcmVkaWN0aW9ucy5jZmcucHJlZC5wcmVkaWN0aW9uIA0KCQkJCQllbmQNCgkJCQkJDQoJCQkJZWxzZWlmIERQcmVkaWN0aW9ucy5jZmcucHJlZC5wcmVkaWN0aW9uID09IDMgdGhlbg0KCQkJCQlpZiBub3QgRFByZWRpY3Rpb25zLmxvYWRlZFByZWRMaWJzLnZwcmVkIHRoZW4NCgkJCQkJCWlmIEZpbGVFeGlzdChMSUJfUEFUSCAuLiAiVlByZWRpY3Rpb24ubHVhIikgdGhlbiANCgkJCQkJCQkJcmVxdWlyZSAoIlZQcmVkaWN0aW9uIikNCgkJCQkJCQkJRFByZWRpY3Rpb25zLnZQcmVkID0gVlByZWRpY3Rpb24oKQ0KCQkJCQkJCQktLWxvZ0RMKCJMb2FkZWQgVlByZWRpY3Rpb24iKQ0KCQkJCQkJCQlEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMudnByZWQgPSB0cnVlDQoJCQkJCQkJCURQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPSBEUHJlZGljdGlvbnMuY2ZnLnByZWQucHJlZGljdGlvbiANCgkJCQkJCWVsc2UNCgkJCQkJCQkJLS1sb2dETCgiQ291bGRuJ3QgZmluZCBWUHJlZGljdGlvbiBMaWIsIHBsZWFzZSBtYWtlIHN1cmUgaXRzIGRvd25sb2FkZWQgYW5kIHRoYXQgaXQgaGFzIHRoZSBzYW1lIG9yaWdpbmFsIGZpbGUgbmFtZSBvciBjaG9vc2UgYW5vdGhlciBwcmVkaWN0aW9uLiIpDQoJCQkJCQkJCS0tRGVsYXlBY3Rpb24oZnVuY3Rpb24oKSBlbmQsMSkNCgkJCQkJCQkJRFByZWRpY3Rpb25zLnNlbGVjdGVkUHJlZGljdGlvbiA9IG5pbA0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCURQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPSBEUHJlZGljdGlvbnMuY2ZnLnByZWQucHJlZGljdGlvbiANCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kICkNCgllbmQNCgkNCgktLURpdmluZVByZWQ6cHJlZGljdChzcGVsbEJpbmRpbmcsdGFyZ2V0LGZyb20sc3NUeXBlLHNwZWVkLHJhbmdlLHJhZGl1cyxkZWxheSxhbGxvd2VkQ29sbGlzaW9ucyxjb2xUeXBlKQ0KCURQcmVkaWN0aW9ucy5wcmVkaWN0ID0gZnVuY3Rpb24oZGF0YSx0YXJnZXQsc3JjLGRlZmF1bHRQZXJjKQ0KCQlpZiBEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMuZHByZWQgYW5kIERQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPT0gMSB0aGVuIC0tIERpdmluZSBQcmVkDQoJCQkgIERQcmVkaWN0aW9ucy5kUHJlZDpiaW5kU1MoZGF0YS5iaW5kaW5nLGRlZmF1bHRQZXJjIG9yIDYwKSAgDQoJCQlsb2NhbCBzdGF0ZSxjYXN0UG9zLGhpdGNoYW5jZSA9IERQcmVkaWN0aW9ucy5kUHJlZDpwcmVkaWN0KGRhdGEuYmluZGluZywgdGFyZ2V0LCBzcmMsZGF0YS5kdHlwZSwgZGF0YS5zcGVlZCxkYXRhLnJhbmdlLGRhdGEud2lkdGgsZGF0YS5kZWxheSxkYXRhLmFsbG93ZWRDb2xsaXNpb25zLGRhdGEuY29sVHlwZSkNCgkJCXJldHVybiBjYXN0UG9zLGhpdGNoYW5jZSANCgkJLS1bW2Vsc2VpZiBEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMua3ByZWQgYW5kIERQcmVkaWN0aW9ucy5zZWxlY3RlZFByZWRpY3Rpb24gPT0gMiB0aGVuIC0tIEtQcmVkDQoJCQlsb2NhbCBjYXN0UG9zLGhpdGNoYW5jZSA9IERQcmVkaWN0aW9ucy5rUHJlZDpHZXRQcmVkaWN0aW9uKHt0eXBlID0gZGF0YS5rdHlwZSwgZGVsYXkgPSBkYXRhLmRlbGF5LzEwMDAsIHJhbmdlID0gZGF0YS5yYW5nZSwgc3BlZWQgPSBkYXRhLnNwZWVkLCBjb2xsaXNpb25NID0gZGF0YS5hbGxvd2VkQ29sbGlzaW9ucyA9PSBIVUdFIGFuZCBmYWxzZSBvciAoKG5vdCBkYXRhLmNvbFR5cGUpIG9yIGRhdGEuY29sVHlwZS5NaW5pb25zKSwgY29sbGlzaW9uSCA9IGRhdGEuYWxsb3dlZENvbGxpc2lvbnMgPT0gSFVHRSBhbmQgZmFsc2Ugb3IgKChub3QgZGF0YS5jb2xUeXBlKSBvciBkYXRhLmNvbFR5cGUuQ2hhbXBpb25zKSwgd2lkdGggPSBkYXRhLndpZHRoKjJ9LCB0YXJnZXQsIHNyYyAsIGRhdGEuYWxsb3dlZENvbGxpc2lvbnMgPT0gSFVHRSBhbmQgdHJ1ZSBvciBmYWxzZSApDQoJCQlyZXR1cm4gY2FzdFBvcyxoaXRjaGFuY2UqMTAwLzQgXV0tLQ0KCQllbHNlaWYgRFByZWRpY3Rpb25zLmxvYWRlZFByZWRMaWJzLmZoIGFuZCBEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID09IDIgdGhlbiAtLSBGSCBQcmVkDQoJCQkJbG9jYWwgY2FzdFBvcyxoaXRjaGFuY2UgPSBEUHJlZGljdGlvbnMuZmhQcmVkLkdldFByZWRpY3Rpb24oe3R5cGUgPSBkYXRhLmZodHlwZSAscmFuZ2UgPSBkYXRhLnJhbmdlLCBzcGVlZCA9IGRhdGEuc3BlZWQsIHJhZGl1cyA9IGRhdGEud2lkdGgsIGRlbGF5ID0gZGF0YS5kZWxheS8xMDAwLCBjb2xsaXNpb24gPSAgeyBbQ29sbGlzaW9uT2JqZWN0VHlwZXMuTWluaW9uXSA9IGRhdGEuYWxsb3dlZENvbGxpc2lvbnMgPT0gSFVHRSBhbmQgZmFsc2Ugb3IgKChub3QgZGF0YS5jb2xUeXBlKSBvciBkYXRhLmNvbFR5cGUuTWluaW9ucyksW0NvbGxpc2lvbk9iamVjdFR5cGVzLkNoYW1waW9uXSA9IGRhdGEuYWxsb3dlZENvbGxpc2lvbnMgPT0gSFVHRSBhbmQgZmFsc2Ugb3IgKChub3QgZGF0YS5jb2xUeXBlKSBvciBkYXRhLmNvbFR5cGUuQ2hhbXBpb25zKX0sdHlwZSA9IGRhdGEuZmhUeXBlfSx0YXJnZXQsc3JjKQ0KCQkJCXJldHVybiBjYXN0UG9zLGhpdGNoYW5jZSoxMDAvMg0KCQllbHNlaWYgRFByZWRpY3Rpb25zLmxvYWRlZFByZWRMaWJzLnZwcmVkIGFuZCBEUHJlZGljdGlvbnMuc2VsZWN0ZWRQcmVkaWN0aW9uID09IDN0aGVuIC0tIFZQcmVkDQoJCQkJbG9jYWwgY2FzdFBvcyxoaXRjaGFuY2UgPSBEUHJlZGljdGlvbnMudlByZWQ6R2V0QmVzdENhc3RQb3NpdGlvbih0YXJnZXQsIGRhdGEuZGVsYXkvMTAwMCwgZGF0YS53aWR0aCwgZGF0YS5yYW5nZSwgZGF0YS5zcGVlZCwgc3JjLCBkYXRhLmFsbG93ZWRDb2xsaXNpb25zID09IEhVR0UgYW5kIGZhbHNlIG9yIHRydWUsIGRhdGEudnR5cGUgKQ0KCQkJCWlmIGhpdGNoYW5jZSB0aGVuDQoJCQkJCWlmIGhpdGNoYW5jZSA9PSAxIHRoZW4gaGl0Y2hhbmNlID0gMzMuMw0KCQkJCQllbHNlaWYgaGl0Y2hhbmNlID09IDIgdGhlbiBoaXRjaGFuY2UgPSA2Ni42DQoJCQkJCWVsc2VpZiBoaXRjaGFuY2UgPT0gMyB0aGVuIGhpdGNoYW5jZSA9IDEwMA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCQlyZXR1cm4gY2FzdFBvcyxoaXRjaGFuY2UNCgkJZW5kDQoJCXJldHVybiBuaWwNCgllbmQNCiANCg0KY2xhc3MgICdEVGltZXInDQotLSBDb25zdHJ1Y3Rvcg0KZnVuY3Rpb24gRFRpbWVyOl9faW5pdChsaW1pdCkNCiAgc2VsZi5yZWFkb25seSA9IHt9DQogIHNlbGY6c2V0TGltaXQobGltaXQpDQogIHNlbGYucmVhZG9ubHkuc3RhcnQgPSBvcy5jbG9jaygpKjEwMDANCiAgc2VsZi5yZWFkb25seS5wYXVzZWQgPSBmYWxzZQ0KICBzZWxmLnJlYWRvbmx5LnBhdXNlVGltZSA9IC0xDQplbmQNCg0KLS1GdW5jdGlvbnMNCg0KZnVuY3Rpb24gRFRpbWVyOnNldExpbWl0KGxpbWl0KQ0KICBzZWxmLnJlYWRvbmx5LmxpbWl0ID0gbGltaXQ7DQplbmQNCg0KZnVuY3Rpb24gRFRpbWVyOmdldExpbWl0KCkNCiAgcmV0dXJuIHNlbGYucmVhZG9ubHkubGltaXQNCmVuZA0KDQpmdW5jdGlvbiBEVGltZXI6Z2V0RWxhcHNlZCgpDQogIGxvY2FsIHRpbWVTaW5jZVBhdXNlID0gMDsNCiAgaWYgc2VsZi5yZWFkb25seS5wYXVzZWQgdGhlbg0KICAgIHRpbWVTaW5jZVBhdXNlID0gb3MuY2xvY2soKSoxMDAwIC0gc2VsZi5yZWFkb25seS5wYXVzZVRpbWUNCiAgZW5kDQogIHJldHVybiBvcy5jbG9jaygpKjEwMDAgLSAoc2VsZi5yZWFkb25seS5zdGFydCArIHRpbWVTaW5jZVBhdXNlKQ0KZW5kDQoNCmZ1bmN0aW9uIERUaW1lcjpnZXRSZW1haW5pbmcoKQ0KICByZXR1cm4gc2VsZi5yZWFkb25seS5saW1pdCAtIHNlbGY6Z2V0RWxhcHNlZCgpDQplbmQNCg0KZnVuY3Rpb24gRFRpbWVyOmdldFJlbWFpbmluZ1BlcmNlbnRhZ2UoKQ0KICByZXR1cm4gKHNlbGY6Z2V0UmVtYWluaW5nKCkqMTAwKS9zZWxmLnJlYWRvbmx5LmxpbWl0DQplbmQNCg0KZnVuY3Rpb24gRFRpbWVyOmlzUnVubmluZygpDQogIHJldHVybiBzZWxmOmdldFJlbWFpbmluZygpID4gMA0KZW5kDQoNCmZ1bmN0aW9uIERUaW1lcjppc1VwKCkNCiAgcmV0dXJuIHNlbGY6Z2V0UmVtYWluaW5nKCkgPD0gMA0KZW5kDQoNCmZ1bmN0aW9uIERUaW1lcjpyZXNldChsaW1pdCkNCiAgbGltaXQgPSBsaW1pdCBhbmQgbGltaXQgb3Igc2VsZi5yZWFkb25seS5saW1pdA0KICBzZWxmOnNldExpbWl0KGxpbWl0KTsNCiAgc2VsZi5yZWFkb25seS5zdGFydCA9IG9zLmNsb2NrKCkqMTAwMDsNCiAgcmV0dXJuIHNlbGYNCmVuZA0KDQpmdW5jdGlvbiBEVGltZXI6cGF1c2UoKQ0KICBpZiBub3Qgc2VsZi5yZWFkb25seS5wYXVzZWQgdGhlbg0KICAgIHNlbGYucmVhZG9ubHkucGF1c2VkID0gdHJ1ZTsNCiAgICBzZWxmLnJlYWRvbmx5LnBhdXNlVGltZSA9IG9zLmNsb2NrKCkqMTAwMDsNCiAgICByZXR1cm4gdHJ1ZQ0KICBlbmQNCiAgcmV0dXJuIGZhbHNlCQ0KZW5kDQoNCmZ1bmN0aW9uIERUaW1lcjpyZXN1bWUoKQ0KICBpZiBzZWxmLnJlYWRvbmx5LnBhdXNlZCB0aGVuDQogICAgc2VsZi5yZWFkb25seS5zdGFydCA9IHNlbGYucmVhZG9ubHkuc3RhcnQgKyAoKG9zLmNsb2NrKCkqMTAwMCkgLSBzZWxmLnJlYWRvbmx5LnBhdXNlVGltZSkNCiAgICBzZWxmLnJlYWRvbmx5LnBhdXNlZCA9IGZhbHNlOw0KICAgIHJldHVybiB0cnVlDQogIGVuZA0KICByZXR1cm4gZmFsc2UNCmVuZA0KDQoNCmZ1bmN0aW9uIERUaW1lcjpnZXRMaW1pdFN0cmluZygpDQogIGxvY2FsIHNlY29uZHMgPSAgc2VsZjpnZXRMaW1pdCgpIC8gMTAwMA0KICBsb2NhbCBvdXRwdXQgPSAiIg0KDQoNCiAgbG9jYWwgbXMgPSBzZWxmOmdldExpbWl0KCkgJSAxMDAwDQogIGxvY2FsIHNlYyA9IHNlY29uZHMNCiAgbG9jYWwgbWluID0gc2VjIC8gNjANCiAgbG9jYWwgaG91ciA9IG1pbiAvIDYwDQogIGxvY2FsIHR0bHNlY29uZCA9IHNlY29uZHMgPCAwIGFuZCAwIG9yIG1hdGguZmxvb3Ioc2VjICUgNjApDQogIGxvY2FsIHR0bG1pbnV0ZSA9IHNlY29uZHMgPCAwIGFuZCAwIG9yIG1hdGguZmxvb3IobWluICUgNjApDQogIGxvY2FsIHR0bGhvdXIgPSBzZWNvbmRzIDwgMCBhbmQgMCBvciBtYXRoLmZsb29yKGhvdXIpDQoNCiAgaWYgdHRsaG91ciA+PTEgdGhlbiBvdXRwdXQgPSBvdXRwdXQuLih0dGxob3VyPDEwIGFuZCAwIG9yICIiKS4udHRsaG91ci4uIjoiIGVuZA0KICBvdXRwdXQgPSBvdXRwdXQuLih0dGxtaW51dGU8MTAgYW5kIDAgb3IgIiIpLi50dGxtaW51dGUuLiI6Ig0KICBvdXRwdXQgPSBvdXRwdXQuLih0dGxzZWNvbmQ8MTAgYW5kIDAgb3IgIiIpLi50dGxzZWNvbmQNCg0KICByZXR1cm4gb3V0cHV0Ow0KZW5kDQoNCmZ1bmN0aW9uIERUaW1lcjpnZXRSZW1haW5pbmdTdHJpbmcoYXV0aCkNCiAgbG9jYWwgc2Vjb25kcyA9IG1hdGguZmxvb3Ioc2VsZjpnZXRSZW1haW5pbmcoKSAvIDEwMDApDQogIGxvY2FsIG91dHB1dCA9ICIiDQoNCg0KICBsb2NhbCBtcyA9IG1hdGguZmxvb3Ioc2VsZjpnZXRSZW1haW5pbmcoKSAlIDEwMDApDQogIGxvY2FsIHNlYyA9IHNlY29uZHMNCiAgbG9jYWwgbWluID0gbWF0aC5mbG9vcihzZWMgLyA2MCkNCiAgbG9jYWwgaG91ciA9IG1hdGguZmxvb3IobWluIC8gNjApDQogIGxvY2FsIHR0bHNlY29uZCA9IHNlY29uZHMgPCAwIGFuZCAwIG9yIG1hdGguZmxvb3Ioc2VjICUgNjApDQogIGxvY2FsIHR0bG1pbnV0ZSA9IHNlY29uZHMgPCAwIGFuZCAwIG9yIG1hdGguZmxvb3IobWluICUgNjApDQogIGxvY2FsIHR0bGhvdXIgPSBzZWNvbmRzIDwgMCBhbmQgMCBvciBtYXRoLmZsb29yKGhvdXIpDQoNCiAgaWYgdHRsaG91ciA+PTEgdGhlbiBvdXRwdXQgPSBvdXRwdXQuLih0dGxob3VyPDEwIGFuZCAwIG9yICIiKS4udHRsaG91ci4uIjoiIGVuZA0KICBpZihhdXRoKSB0aGVuIG91dHB1dCA9IG91dHB1dC4uKHR0bGhvdXI8MTAgYW5kIDAgb3IgIiIpLi50dGxob3VyLi4iOiIgZW5kDQogIG91dHB1dCA9IG91dHB1dC4uKHR0bG1pbnV0ZTwxMCBhbmQgMCBvciAiIikuLnR0bG1pbnV0ZS4uIjoiDQogIG91dHB1dCA9IG91dHB1dC4uKHR0bHNlY29uZDwxMCBhbmQgMCBvciAiIikuLnR0bHNlY29uZA0KDQogIHJldHVybiBvdXRwdXQ7DQplbmQNCg0KZnVuY3Rpb24gRFRpbWVyOmdldEVsYXBzZWRTdHJpbmcoKQ0KICBsb2NhbCBzZWNvbmRzID0gbWF0aC5mbG9vcihzZWxmOmdldEVsYXBzZWQoKSAvIDEwMDApDQogIGxvY2FsIG91dHB1dCA9ICIiDQoNCg0KICBsb2NhbCBtcyA9IG1hdGguZmxvb3Ioc2VsZjpnZXRFbGFwc2VkKCkgJSAxMDAwKQ0KICBsb2NhbCBzZWMgPSBzZWNvbmRzDQogIGxvY2FsIG1pbiA9IG1hdGguZmxvb3Ioc2VjIC8gNjApDQogIGxvY2FsIGhvdXIgPSBtYXRoLmZsb29yKG1pbiAvIDYwKQ0KICBsb2NhbCB0dGxzZWNvbmQgPSBzZWNvbmRzIDwgMCBhbmQgMCBvciBtYXRoLmZsb29yKHNlYyAlIDYwKQ0KICBsb2NhbCB0dGxtaW51dGUgPSBzZWNvbmRzIDwgMCBhbmQgMCBvciBtYXRoLmZsb29yKG1pbiAlIDYwKQ0KICBsb2NhbCB0dGxob3VyID0gc2Vjb25kcyA8IDAgYW5kIDAgb3IgbWF0aC5mbG9vcihob3VyKQ0KDQogIGlmIHR0bGhvdXIgPj0xIHRoZW4gb3V0cHV0ID0gb3V0cHV0Li4odHRsaG91cjwxMCBhbmQgMCBvciAiIikuLnR0bGhvdXIuLiI6IiBlbmQNCiAgb3V0cHV0ID0gb3V0cHV0Li4odHRsbWludXRlPDEwIGFuZCAwIG9yICIiKS4udHRsbWludXRlLi4iOiINCiAgb3V0cHV0ID0gb3V0cHV0Li4odHRsc2Vjb25kPDEwIGFuZCAwIG9yICIiKS4udHRsc2Vjb25kDQoNCiAgcmV0dXJuIG91dHB1dDsNCmVuZA0KDQoNCmZ1bmN0aW9uIERUaW1lcjppc1VwVGhlblJlc2V0KCkNCiAgaWYgc2VsZjppc1VwKCkgdGhlbg0KICAgIHNlbGY6cmVzZXQoKQ0KICAgIHJldHVybiB0cnVlDQogIGVuZA0KICByZXR1cm4gZmFsc2UNCmVuZA0KDQoNCmNsYXNzICdET3Jid2Fsa2luZycNCkRPcmJ3YWxraW5nLk1vZGUgPSB7Q09NQk8gPSAwLCBIQVJSQVMgPSAxLCBMQU5FX0NMRUFSID0gMiwgTEFTVF9ISVQgPSAzfQ0KRE9yYndhbGtpbmcub3Jid2Fsa2VycyA9IHtTQUMgPSAwICwgUGVXYWxrID0gMSwgc3hPcmJXYWxrID0gMn0NCkRPcmJ3YWxraW5nLmFjdGl2ZU9yYndhbGtlciA9IG5pbA0KRE9yYndhbGtpbmcuc2FjQ2hlY2tBdHRlbXB0cyA9IDANCkRPcmJ3YWxraW5nLmxvYWROb25TYWMgPSBmdW5jdGlvbihjZmcpDQpEZWxheUFjdGlvbihmdW5jdGlvbigpDQoNCglpZiBfUGV3YWxrIHRoZW4NCgkJbG9nREwoIlBld2FsayBEZXRlY3RlZCBSdW5uaW5nISIpDQoJCURlbGF5QWN0aW9uKGZ1bmN0aW9uKCkNCgkJX1Bld2Fsay5EaXNhYmxlU2tpbGxGYXJtKF9RKQ0KCQlfUGV3YWxrLkRpc2FibGVTa2lsbEZhcm0oX1cpDQoJCV9QZXdhbGsuRGlzYWJsZVNraWxsRmFybShfRSkNCgkJX1Bld2Fsay5EaXNhYmxlU2tpbGxGYXJtKF9SKQ0KCQllbmQsMikNCgkJRE9yYndhbGtpbmcuY2ZnLm9yYjphZGRQYXJhbSgib3JiV2Fsa0luZm8iLCJQZVdhbGsgSW4gQWN0aW9uLCBUd2VhayBzZXR0aW5ncyBpbiBQZXdhbGsgbWVudS4iLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KCWVsc2VpZiBfRy5NTUFfSXNMb2FkZWQgdGhlbiANCgkJRE9yYndhbGtpbmcuY2ZnLm9yYjphZGRQYXJhbSgib3JiV2Fsa0luZm8iLCJNTUEgSW4gQWN0aW9uLCBUd2VhayBzZXR0aW5ncyBpbiBNTUEgbWVudS4iLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KCWVsc2UNCg0KCQlsb2dETCgiTm8gYWN0aXZlIG9yYndhbGtlciBmb3VuZCwgc3dpdGNoaW5nIHRvIFN4T3JiV2FsayBMaWIiKQ0KCQlpZiBub3QgRmlsZUV4aXN0KExJQl9QQVRIIC4uICJTeE9yYldhbGsubHVhIikgdGhlbg0KCQkJRFNjcmlwdFVwZGF0ZSgNCgkJIlN4T3JiV2FsayIsDQoJCTAsDQoJCXRydWUsDQoJCURJbmZvLkhPU1RfVVJMLCANCgkJIi9OYWRlci1TbC9Cb0xTdHVkaW8vbWFzdGVyL1ZlcnNpb25zL3ZlcnNpb25kdW1teS52ZXJzaW9uIiwgDQoJCSIvU3VwZXJ4MzIxL0JvTC9tYXN0ZXIvY29tbW9uL1N4T3JiV2Fsay5sdWEiLCANCgkJTElCX1BBVEguLiJTeE9yYldhbGsubHVhIiwgDQoJCWZ1bmN0aW9uKCkgDQoJCXJlcXVpcmUoJ1N4T3JiV2FsaycpDQoJCQlET3Jid2Fsa2luZy5zeCA9IFN4T3JiV2FsaygpDQoJCQlET3Jid2Fsa2luZy5zeDpMb2FkVG9NZW51KERPcmJ3YWxraW5nLmNmZy5vcmIpDQoJCWVuZCwgDQoJCWZ1bmN0aW9uKCkgICBlbmQsIC0tbG9hZCBjb21wbGV0ZQ0KCQlmdW5jdGlvbigpICAgZW5kLCAtLW5ldyB2ZXJzaW9uDQoJCWZ1bmN0aW9uKCkgbG9nREwoJ0FuIEVycm9yIE9jY3VyZWQgaW4gZHVyaW5nIFN4T3Jid2FsayBkb3dubG9hZCwgcGxlYXNlIHJlc3RhcnQgdGhlIHNjcmlwdCAoRjkgeCBGOSknKSBlbmQNCgkpDQoJCWVsc2UNCgkJCXJlcXVpcmUoJ1N4T3JiV2FsaycpDQoJCQlET3Jid2Fsa2luZy5zeCA9IFN4T3JiV2FsaygpDQoJCQlET3Jid2Fsa2luZy5zeDpMb2FkVG9NZW51KERPcmJ3YWxraW5nLmNmZy5vcmIpDQoJCWVuZA0KCSAgZW5kDQoJICBlbmQsNSkNCgllbmQNCiANCg0KRE9yYndhbGtpbmcuaW5jbHVkZSA9IGZ1bmN0aW9uKGNmZykNCg0KCURPcmJ3YWxraW5nLmNmZyA9IGNmZyANCglET3Jid2Fsa2luZy5zeCA9IHt9DQoJRE9yYndhbGtpbmcuY2ZnOmFkZFN1Yk1lbnUoIk9yYndhbGtpbmciLCJvcmIiKQ0KCURPcmJ3YWxraW5nLnNhY0ZhaWxlZCxET3Jid2Fsa2luZy5zYWNMb2FkZWQgPSBmYWxzZSxmYWxzZQkNCglET3Jid2Fsa2luZy5zYWNUID0gRFRpbWVyKDEwMDApDQoJaWYgX0cuUmVib3JuX0xvYWRlZCB0aGVuDQoJCQlsb2dETCgiU0FDIERldGVjdGVkIFJ1bm5pbmchIFtXYWl0aW5nIGZvciBJbml0aWFsaXphdGlvbl0gLi4uIikNCgkJQWRkVGlja0NhbGxiYWNrKGZ1bmN0aW9uKCkNCgkJaWYgbm90IERPcmJ3YWxraW5nLnNhY1Q6aXNVcCgpIG9yIERPcmJ3YWxraW5nLnNhY0ZhaWxlZCBvciBET3Jid2Fsa2luZy5zYWNMb2FkZWQgdGhlbiByZXR1cm4gZW5kDQoJCWlmIF9HLlJlYm9ybl9Jbml0aWFsaXNlZCB0aGVuDQoJCSAgbG9nREwoIlVzaW5nIFNBQyEgW2luaXRpYWxpemVkXSIpDQoJCSAgRE9yYndhbGtpbmcuYWN0aXZlT3Jid2Fsa2VyID0gRE9yYndhbGtpbmcub3Jid2Fsa2Vycy5TQUMNCgkJICBET3Jid2Fsa2luZy5jZmcub3JiOmFkZFBhcmFtKCJvcmJXYWxrSW5mbyIsIlNBQyBJbiBBY3Rpb24sIFR3ZWFrIFNzZXR0aW5ncyBpbiBTQUMgTWVudS4iLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KCQkgIERPcmJ3YWxraW5nLnNhY0xvYWRlZCA9IHRydWUNCgkJZWxzZQ0KCQkgIGlmIERPcmJ3YWxraW5nLnNhY0NoZWNrQXR0ZW1wdHMgPj0gMTAgdGhlbiANCgkJCWxvZ0RMKCJTQUMgZmFpbGVkIHRvIGluaXRpYWxpemUgYWZ0ZXIgIi4uRE9yYndhbGtpbmcuc2FjQ2hlY2tBdHRlbXB0cy4uIiBhdHRlbXB0cywgc3dpdGNoaW5nIHRvIGFub3RoZXIgb3Jid2Fsa2VyLiIpIDsNCgkJCURPcmJ3YWxraW5nLnNhY0ZhaWxlZCA9IHRydWUNCgkJCURPcmJ3YWxraW5nLmxvYWROb25TYWMoY2ZnKQ0KCQkgIGVsc2UgDQoJCQlET3Jid2Fsa2luZy5zYWNDaGVja0F0dGVtcHRzID0gRE9yYndhbGtpbmcuc2FjQ2hlY2tBdHRlbXB0cyArIDENCgkJCURPcmJ3YWxraW5nLnNhY1Q6cmVzZXQoMTAwMCkNCgkJICBlbmQNCgkJIGVuZA0KCQllbmQpDQoJZWxzZQ0KCQlET3Jid2Fsa2luZy5sb2FkTm9uU2FjKGNmZykNCgllbmQNCgkgDQplbmQNCg0KRE9yYndhbGtpbmcuaXNBQVJlYWR5ID0gZnVuY3Rpb24oKQ0KCWlmIF9HLlJlYm9ybl9Jbml0aWFsaXNlZCB0aGVuDQoJCQktLXByaW50KF9HLkF1dG9DYXJyeS5PcmJ3YWxrZXI6Q2FuU2hvb3QoKSkNCgkJcmV0dXJuIF9HLkF1dG9DYXJyeS5PcmJ3YWxrZXI6Q2FuU2hvb3QoKQ0KCWVsc2VpZiBfUGV3YWxrIHRoZW4NCgkJIC0tcHJpbnQoX1Bld2Fsay5DYW5BdHRhY2soKSkNCgkJcmV0dXJuIF9QZXdhbGsuQ2FuQXR0YWNrIGFuZCBfUGV3YWxrLkNhbkF0dGFjaygpIG9yIGZhbHNlDQoJZWxzZWlmIF9HLlN4T3JiIHRoZW4NCgkJLS0gcHJpbnQoInNzc3MiLi4oKERPcmJ3YWxraW5nLnN4OkNhbkF0dGFjaygpKSBhbmQgInRydWUiIG9yICJmYWxzZSIpKQ0KCQlyZXR1cm4gRE9yYndhbGtpbmcuc3guQ2FuQXR0YWNrIGFuZCBET3Jid2Fsa2luZy5zeDpDYW5BdHRhY2soKSBvciBmYWxzZQ0KCWVuZA0KZW5kDQoNCkRPcmJ3YWxraW5nLmdldEFjdGl2ZU1vZGUgPSBmdW5jdGlvbihzcGVsbCkNCglpZiBzcGVsbCBhbmQgbXlIZXJvOkNhblVzZVNwZWxsKHNwZWxsKSB+PSBSRUFEWSB0aGVuIHJldHVybiBuaWwgZW5kDQoJaWYgX0cuUmVib3JuX0luaXRpYWxpc2VkIGFuZCBfRy5BdXRvQ2FycnkuS2V5cyB0aGVuDQoJCWlmIF9HLkF1dG9DYXJyeS5LZXlzLkF1dG9DYXJyeSB0aGVuIHJldHVybiBET3Jid2Fsa2luZy5Nb2RlLkNPTUJPDQoJCWVsc2VpZiBfRy5BdXRvQ2FycnkuS2V5cy5NaXhlZE1vZGUgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5IQVJSQVMNCgkJZWxzZWlmIF9HLkF1dG9DYXJyeS5LZXlzLkxhbmVDbGVhciB0aGVuIHJldHVybiBET3Jid2Fsa2luZy5Nb2RlLkxBTkVfQ0xFQVINCgkJZWxzZWlmIF9HLkF1dG9DYXJyeS5LZXlzLkxhc3RIaXQgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5MQVNUX0hJVA0KCQllbmQNCgllbHNlaWYgX0cuTU1BX0lzTG9hZGVkIHRoZW4NCgkNCgkJaWYgX0cuTU1BX0lzT3Jid2Fsa2luZygpIHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuQ09NQk8NCgkJZWxzZWlmIF9HLk1NQV9Jc0R1YWxDYXJyeWluZygpICB0aGVuIHJldHVybiBET3Jid2Fsa2luZy5Nb2RlLkhBUlJBUw0KCQllbHNlaWYgX0cuTU1BX0lzTGFuZUNsZWFyaW5nKCkgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5MQU5FX0NMRUFSDQoJCWVsc2VpZiBfRy5NTUFfSXNMYXN0SGl0dGluZygpIHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuTEFTVF9ISVQgZW5kDQoJZWxzZWlmIF9QZXdhbGsgYW5kIF9QZXdhbGsuR2V0QWN0aXZlTW9kZSB0aGVuDQoJCWxvY2FsIGFjdGl2ZU1vZGVzID0gX1Bld2Fsay5HZXRBY3RpdmVNb2RlKCkNCgkJaWYgYWN0aXZlTW9kZXMuQ2FycnkgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5DT01CTw0KCQllbHNlaWYgYWN0aXZlTW9kZXMuTWl4ZWQgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5IQVJSQVMNCgkJZWxzZWlmIGFjdGl2ZU1vZGVzLkxhbmVDbGVhciB0aGVuIHJldHVybiBET3Jid2Fsa2luZy5Nb2RlLkxBTkVfQ0xFQVINCgkJZWxzZWlmIGFjdGl2ZU1vZGVzLkZhcm0gdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5MQVNUX0hJVCBlbmQNCgllbHNlaWYgX0cuU3hPcmIgdGhlbg0KIA0KCQlpZiBET3Jid2Fsa2luZy5zeC5pc0ZpZ2h0IHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuQ09NQk8NCgkJZWxzZWlmIERPcmJ3YWxraW5nLnN4LmlzSGFyYXNzIHRoZW4gcmV0dXJuIERPcmJ3YWxraW5nLk1vZGUuSEFSUkFTDQoJCWVsc2VpZiBET3Jid2Fsa2luZy5zeC5pc0xhbmVDbGVhciB0aGVuIHJldHVybiBET3Jid2Fsa2luZy5Nb2RlLkxBTkVfQ0xFQVINCgkJZWxzZWlmIERPcmJ3YWxraW5nLnN4LmlzTGFzdEhpdCAgdGhlbiByZXR1cm4gRE9yYndhbGtpbmcuTW9kZS5MQVNUX0hJVCBlbmQNCgllbmQNCnJldHVybiBuaWwNCmVuZA0KDQpjbGFzcyAnRFN0cnVjdHMnDQpEU3RydWN0cy5TcGVsbFR5cGUgPSB7QVAgPSAwLCBBRCA9IDF9DQoNCg0KY2xhc3MgJ0RHZW9tJyANCkRHZW9tLnByb2plY3QgPSBmdW5jdGlvbih2MSx2MikNCiAgcmV0dXJuIFZlY3Rvcih2MiAqICh2MTpkb3RQKHYyKSAvICh2MjpsZW4yKCkpKSk7DQplbmQNCg0KREdlb20ucmVqZWN0ID0gZnVuY3Rpb24odjEsdjIpDQogICByZXR1cm4gdjEgLSBER2VvbS5wcm9qZWN0KHYxLHYyKQ0KZW5kDQoNCkRHZW9tLmdldERpc3RTUSA9IGZ1bmN0aW9uKHYxLHYyKQ0KCSBsb2NhbCB4LCB6ID0gdjEueC12Mi54LCAgdjEuei12Mi56Ow0KCSByZXR1cm4geCp4ICArIHoqeiANCmVuZA0KDQpER2VvbS5hcmVDb2xsaW5lYXIgPSBmdW5jdGlvbihhLGIsYykNCi0tWyBBeCAqIChCeSAtIEN5KSArIEJ4ICogKEN5IC0gQXkpICsgQ3ggKiAoQXkgLSBCeSkgXSAvIDINCiAgcmV0dXJuIChGTE9PUigoYS54KihiLnotYy56KSArIGIueCooYy56LWEueikgKyBjLngqKGEuei1iLnopKS8yKSkgPT0gIDANCmVuZA0KDQpER2VvbS5nZXRJbnRlcnNlY3Rpb24yID0gZnVuY3Rpb24oIHgxLHkxLCB4Mix5MiwgIHgzLCAgeTMsICB4NCwgeTQpIA0KICAgIGxvY2FsIGQgPSAoeDEteDIpKih5My15NCkgLSAoeTEteTIpKih4My14NCkNCiAgICBpZiAoZCA9PSAwKSB0aGVuIHJldHVybiBuaWwgZW5kDQogICAgDQogICAgbG9jYWwgeGkgPSAoKHgzLXg0KSooeDEqeTIteTEqeDIpLSh4MS14MikqKHgzKnk0LXkzKng0KSkvZDsNCiAgICBsb2NhbCB5aSA9ICgoeTMteTQpKih4MSp5Mi15MSp4MiktKHkxLXkyKSooeDMqeTQteTMqeDQpKS9kOw0KICAgIA0KICAgIHJldHVybiBWZWN0b3IoeGksMCx5aSk7DQogZW5kDQogDQpER2VvbS5nZXRJbnRlcnNlY3Rpb24gPSBmdW5jdGlvbiggdjFTdGFydCwgIHYxRW5kLCB2MlN0YXJ0LCAgdjJFbmQpDQogICAgbG9jYWwgczFfeCwgczFfeSwgczJfeCwgczJfeSA9ICB2MUVuZC54IC0gdjFTdGFydC54LHYxRW5kLnogLSB2MVN0YXJ0LnosdjJFbmQueCAtIHYyU3RhcnQueCx2MkVuZC56IC0gdjJTdGFydC56DQogICAgbG9jYWwgZGl2ID0gKC1zMl94ICogczFfeSArIHMxX3ggKiBzMl95KQ0KCWlmIGRpdiA9PSAwIHRoZW4gcmV0dXJuIG5pbCBlbmQNCiAgICBsb2NhbCBzID0gKC1zMV95ICogKHYxU3RhcnQueCAtIHYyU3RhcnQueCkgKyBzMV94ICogKHYxU3RhcnQueiAtIHYyU3RhcnQueikpIC9kaXY7DQogICAgbG9jYWwgdCA9ICggczJfeCAqICh2MVN0YXJ0LnogLSB2MlN0YXJ0LnopIC0gczJfeSAqICh2MVN0YXJ0LnggLSB2MlN0YXJ0LngpKSAvIGRpdjsNCnJldHVybiAocyA+PSAwIGFuZCBzIDw9IDEgYW5kIHQgPj0gMCBhbmQgdCA8PSAxKSBhbmQgKFZlY3Rvcih2MVN0YXJ0LnggKyAodCAqIHMxX3gpLDAsdjFTdGFydC56ICsgKHQgKiBzMV95KSkgb3IgbmlsKQ0KZW5kDQoNCkRHZW9tLmludGVyc2VjdHMgPSBmdW5jdGlvbiggdjFTdGFydCwgIHYxRW5kLCB2MlN0YXJ0LCAgdjJFbmQpDQogLS1pZiB2MVN0YXJ0Lnkgfj0gMCBvciB2MUVuZC55IH49IDAgb3IgdjJTdGFydC55IH49IDAgb3IgdjJFbmQueSB+PTAgdGhlbiBwcmludCgiV0FBQUFBQUFBQUFBVCIpIGVuZA0KICAgIGxvY2FsIHMxX3gsIHMxX3ksIHMyX3gsIHMyX3kgPSAgdjFFbmQueCAtIHYxU3RhcnQueCx2MUVuZC56IC0gdjFTdGFydC56LHYyRW5kLnggLSB2MlN0YXJ0LngsdjJFbmQueiAtIHYyU3RhcnQueg0KICAgIGxvY2FsIGRpdiA9ICgtczJfeCAqIHMxX3kgKyBzMV94ICogczJfeSkNCglpZiBkaXYgPT0gMCB0aGVuIHJldHVybiBuaWwgZW5kDQogICAgbG9jYWwgcyA9ICgtczFfeSAqICh2MVN0YXJ0LnggLSB2MlN0YXJ0LngpICsgczFfeCAqICh2MVN0YXJ0LnogLSB2MlN0YXJ0LnopKSAvZGl2Ow0KICAgIGxvY2FsIHQgPSAoIHMyX3ggKiAodjFTdGFydC56IC0gdjJTdGFydC56KSAtIHMyX3kgKiAodjFTdGFydC54IC0gdjJTdGFydC54KSkgLyBkaXY7DQpyZXR1cm4gKHMgPj0gMCBhbmQgcyA8PSAxIGFuZCB0ID49IDAgYW5kIHQgPD0gMSkNCmVuZA0KDQoNCkRHZW9tLnBvbHlJbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihwb2x5MSxwb2x5MikNCglmb3IgaSA9IDEsI3BvbHkxICAtIDEgZG8NCgkJZm9yIGogPSAxLCNwb2x5MiAtIDEgZG8NCgkJCWxvY2FsIGludGVyID0gaW50ZXJzZWN0cyhwb2x5MVtpXSxwb2x5MVtpKzFdLHBvbHkyW2pdLHBvbHkyW2orMV0pDQoJCQlpZiBpbnRlciB0aGVuIGludGVyID0gbmlsIDsgcmV0dXJuIHRydWUgZW5kDQoJCWVuZA0KCWVuZA0KCXJldHVybiBmYWxzZQ0KZW5kDQoNCkRHZW9tLnBvbHlJbnRlckxpbmVzID0gZnVuY3Rpb24ocG9seSxsaW5lcykNCglmb3IgaSA9IDEsI3BvbHkxICAtIDEgZG8NCgkJZm9yIGogPSAxLCNwb2x5MiAtIDEgZG8NCgkJCWxvY2FsIGludGVyID0gaW50ZXJzZWN0cyhwb2x5MVtpXSxwb2x5MVtpKzFdLHBvbHkyW2pdLHBvbHkyW2orMV0pDQoJCQlpZiBpbnRlciB0aGVuIHJldHVybiB0cnVlIGVuZA0KCQllbmQNCgllbmQNCglyZXR1cm4gZmFsc2UNCmVuZA0KDQpER2VvbS5wb2x5T3ZlcmxhcCA9IGZ1bmN0aW9uKHBvbHkxLHBvbHkyKQ0KbG9jYWwgaW50ZXIgPSBwb2x5SW50ZXJzZWN0aW9uKHBvbHkxLHBvbHkyKQ0KbG9jYWwgcG9seTJ2MSA9IHBvbHkyWzFdDQpsb2NhbCBwb2x5MXYxID0gcG9seTFbMV0NCnJldHVybiBpbnRlciBhbmQgaW50ZXIgb3IgKGluc2lkZVBvbHkocG9seTEscG9seTJ2MS54LHBvbHkydjEueikgb3IgaW5zaWRlUG9seShwb2x5Mixwb2x5MXYxLngscG9seTF2MS56KSkgIA0KZW5kDQoNCkRHZW9tLmluc2lkZVJlY3QgPSBmdW5jdGlvbih0b3BMZWZ0LGJvdFJpZ2h0LHRlc3RYLHRlc3RZKQ0KCSByZXR1cm4gdGVzdFggPj0gdG9wTGVmdC54IGFuZCB0ZXN0WCA8PSBib3RSaWdodC54IGFuZCB0ZXN0WSA8PSB0b3BMZWZ0LnkgYW5kIHRlc3RZPj0gYm90UmlnaHQueQ0KZW5kDQoNCkRHZW9tLmluc2lkZVBvbHkgPSBmdW5jdGlvbihwdHMsICB0ZXN0eCwgdGVzdHkpDQogIGxvY2FsIGksIGosIGMgPSAwLCNwdHMsMA0KICBmb3IgaSA9IDAsICAjcHRzIGRvDQogICAgIGlmIHB0cyBhbmQgcHRzW2ldIGFuZCBwdHNbal0gdGhlbg0KICAgIGlmICggKChwdHNbaV0uej50ZXN0eSkgfj0gKHB0c1tqXS56PnRlc3R5KSkgYW5kDQogICAgICh0ZXN0eCA8IChwdHNbal0ueC1wdHNbaV0ueCkgKiAodGVzdHktcHRzW2ldLnopIC8gKHB0c1tqXS56LXB0c1tpXS56KSArIHB0c1tpXS54KSApIHRoZW4NCiAgICAgICBjID0gbm90IGM7DQoJICBlbmQNCgkgIGogPSBpDQogICBlbmQNCiAgZW5kDQpyZXR1cm4gbm90IGMNCmVuZA0KDQpER2VvbS5nZXRQb2x5Q2VudGVyID0gZnVuY3Rpb24ocG9pbnRzKQ0KCWxvY2FsIHBvaW50c1N1bSA9IFZlY3RvcigwLDAsMCkNCglsb2NhbCBwb2x5U2l6ZSA9ICNwb2ludHMNCiAgICBmb3IgaSA9IDEsIHBvbHlTaXplIGRvIHBvaW50c1N1bS54ID0gcG9pbnRzU3VtLnggKyBwb2ludHNbaV0ueDsgcG9pbnRzU3VtLnkgPSBwb2ludHNTdW0ueSsgcG9pbnRzW2ldLnk7cG9pbnRzU3VtLnogPSBwb2ludHNTdW0ueiArIHBvaW50c1tpXS56IGVuZA0KICAgIHJldHVybiBWZWN0b3IoIHBvaW50c1N1bS54IC8gcG9seVNpemUsIHBvaW50c1N1bS55IC8gcG9seVNpemUsIHBvaW50c1N1bS56IC9wb2x5U2l6ZSkNCmVuZA0KDQpER2VvbS5nZXRMaW5lQm91bmRzID0gZnVuY3Rpb24oc3RhcnRQb3MsZW5kUG9zLHdpZHRoKQ0KICAgc3RhcnRQb3MueSA9IDANCiAgIGVuZFBvcy55ID0gMA0KCWxvY2FsIHBlcnBhPSBlbmRQb3MgKyAod2lkdGgqKCgobm9ybWFsVmVjOmNyb3NzUChlbmRQb3MgLSBzdGFydFBvcykpOm5vcm1hbGl6ZWQoKSkpKQ0KCWxvY2FsIHBlcnBiID0gZW5kUG9zICsgKHdpZHRoKigoKGVuZFBvcyAtc3RhcnRQb3MpOmNyb3NzUChub3JtYWxWZWMpKTpub3JtYWxpemVkKCkpKQ0KCWxvY2FsIHBlcnAyYT0gc3RhcnRQb3MrICh3aWR0aCooKChub3JtYWxWZWM6Y3Jvc3NQKGVuZFBvcyAtIHN0YXJ0UG9zKSk6bm9ybWFsaXplZCgpKSkpDQoJbG9jYWwgcGVycDJiID0gc3RhcnRQb3MrICh3aWR0aCooKChlbmRQb3MgLXN0YXJ0UG9zKTpjcm9zc1Aobm9ybWFsVmVjKSk6bm9ybWFsaXplZCgpKSkNCgktLQlpZiBwZXJwYS55IH49MCBvciBwZXJwMmEueSB+PSAwIG9yIHBlcnBiIH49IDAgb3IgcGVycDJiLnkgfj0gMCB0aGVuIHByaW50KCJTREFTREFTREEiKSBlbmQNCgkJcGVycGEueSA9IDANCgkJcGVycDJhLnkgPTANCgkJcGVycGIueSA9MA0KCQlwZXJwMmIueSA9IDANCglyZXR1cm4ge3BlcnAyYSxwZXJwYSxwZXJwYixwZXJwMmIscGVycDJhfQ0KZW5kDQoNCmNsYXNzICdEVXRpbCcNCkRVdGlsLmludlNsb3RzID0ge19HLklURU1fMSAsDQoJX0cuSVRFTV8yLA0KCV9HLklURU1fMywNCglfRy5JVEVNXzQsDQoJX0cuSVRFTV81LA0KCV9HLklURU1fNiwNCglfRy5JVEVNXzd9DQoJDQpEVXRpbC5jZmcgPSBuaWwNCkRVdGlsLnNraW5JZHggPSAwDQpEVXRpbC5jaGFuZ2VTa2luID0gZmFsc2UNCmZ1bmN0aW9uIERVdGlsOl9faW5pdCgpDQplbmQNCiANCkRVdGlsLmdldFN1bW1vbmVyU2xvdCA9IGZ1bmN0aW9uKHNwZWxsTmFtZSkNCglzcGVsbE5hbWUgPSBzcGVsbE5hbWU6bG93ZXIoKQ0KCWxvY2FsIHMxRGF0YSAgPSBteUhlcm86R2V0U3BlbGxEYXRhKFNVTU1PTkVSXzEpDQoJbG9jYWwgczJEYXRhICA9IG15SGVybzpHZXRTcGVsbERhdGEoU1VNTU9ORVJfMikJDQoJaWYgczFEYXRhLm5hbWU6bG93ZXIoKSA9PSBzcGVsbE5hbWUgdGhlbiByZXR1cm4gU1VNTU9ORVJfMSBlbmQNCglpZiBzMkRhdGEubmFtZTpsb3dlcigpID09IHNwZWxsTmFtZSB0aGVuIHJldHVybiBTVU1NT05FUl8yIGVuZA0KCXJldHVybiBuaWwNCmVuZA0KRFV0aWwuaXNQYXJraW5nID0gZnVuY3Rpb24odW5pdCkNCiByZXR1cm4gKHNlbGYudW5pdC5wYXRoLmNvdW50IDwgMiApICBvciAobm90IHNlbGYudW5pdC5pc01vdmluZykNCmVuZA0KDQpEVXRpbC5nZXRNYW5hUGVyYyA9IGZ1bmN0aW9uKHVuaXQpDQoJaWYgbm90IHVuaXQgdGhlbiB1bml0ID0gbXlIZXJvIGVuZA0KCXJldHVybiAodW5pdC5tYW5hKjEwMCkvdW5pdC5tYXhNYW5hIA0KZW5kDQoNCkRVdGlsLmdldEhlYWx0aFBlcmMgPSBmdW5jdGlvbih1bml0KQ0KCWlmIG5vdCB1bml0IHRoZW4gdW5pdCA9IG15SGVybyBlbmQNCglyZXR1cm4gKHVuaXQuaGVhbHRoKjEwMCkvdW5pdC5tYXhIZWFsdGgNCmVuZA0KDQpEVXRpbC5nZXRJbnZTbG90QnlJRCA9IGZ1bmN0aW9uKGlkKQ0KCWZvciBpID0gMSwgI0RVdGlsLmludlNsb3RzIGRvDQoJCWxvY2FsIHNsb3QgPSBEVXRpbC5pbnZTbG90c1tpXQ0KCQlpZiBteUhlcm86Z2V0SW52ZW50b3J5U2xvdChzbG90KSA9PSBpZCB0aGVuIHJldHVybiBzbG90IGVuZA0KCWVuZA0KCXJldHVybiBuaWwNCmVuZA0KDQpEVXRpbC5wcm9jZXNzT2JqZWN0cyA9IGZ1bmN0aW9uKG9iamVjdHMscHJvY0Z1bmMsIC4uLikNCiAgICBmb3IgaT0xLChvYmplY3RzIGFuZCAjb2JqZWN0cyBvciBvYmpNYW5hZ2VyLmlDb3VudCkgZG8NCiAgICAgICAgICAgIGxvY2FsIG9iaiA9IG9iamVjdHMgYW5kIG9iamVjdHNbaV0gb3Igb2JqTWFuYWdlcjpnZXRPYmplY3QoaSkNCiAgICAgICAgICAgICAgaWYgb2JqIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCBhcmdzID0gdGFibGUucGFjayguLi4pDQogICAgICAgICAgICAgICAgbG9jYWwgc3VjY2Vzc0NvdW50ID0gMA0KICAgICAgICAgICAgICAgIGZvciBqPTEsYXJncy5uIGRvDQogICAgICAgICAgICAgICAgICAgaWYgYXJnc1tqXShvYmopIHRoZW4gc3VjY2Vzc0NvdW50ID0gc3VjY2Vzc0NvdW50ICsgMSBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBpZihzdWNjZXNzQ291bnQgPT0gYXJncy5uKSB0aGVuDQogICAgICAgICAgICAgICAgICBwcm9jRnVuYyhvYmopDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgIGVuZA0KICAgIGVuZCAgICAgICAgICAgIA0KZW5kDQoNCkRVdGlsLnN0YXJ0c1dpdGggPSBmdW5jdGlvbihTdHJpbmcsU3RhcnQpDQogICByZXR1cm4gc3RyaW5nLnN1YihTdHJpbmcsMSxzdHJpbmcubGVuKFN0YXJ0KSk9PVN0YXJ0DQplbmQNCg0KRFV0aWwucHJvY2Vzc01pbmlvbnMgPSBmdW5jdGlvbihtaW5pb25zLHByb2NGdW5jLCAuLi4pDQogLS0gbG9jYWwgYXJncyA9IHRhYmxlLnBhY2soLi4uKQ0KICBEVXRpbC5wcm9jZXNzT2JqZWN0cyhtaW5pb25zLHByb2NGdW5jLC4uLixmdW5jdGlvbihvYmopIHJldHVybiBvYmoudHlwZSBhbmQgb2JqLnR5cGUgPT0gIm9ial9BSV9NaW5pb24iIGFuZCAobm90IG9iai5kZWFkKSBhbmQgRFV0aWwuc3RhcnRzV2l0aChvYmoubmFtZSwiTWluaW9uIikgZW5kKSAgICAgICAgDQplbmQNCg0KRFV0aWwuaW52dWxTcGVsbHMgPSANCnsidW5keWluZ3JhZ2UiLA0KICJzaW9ucGFzc2l2ZXpvbWJpZSIsDQogIlphY1JlYmlydGhSZWFkeSIsDQogIkZlcm9jaW91c0hvd2wiLA0KICJWbGFkaW1pclNhbmd1aW5lUG9vbCIsDQogImFhdHJveHBhc3NpdmVkZWF0aCIsDQogImNocm9ub3NoaWZ0IiwgDQogIkNocm9ub1Jldml2ZSIsIA0KICJqdWRpY2F0b3JpbnRlcnZlbnRpb24iLA0KICJLYXJ0aHVzRGVhdGhEZWZpZWRCdWZmIiwNCiAiemhvbnlhc3JpbmdzaGllbGQiLA0KICJsaXNzYW5kcmFyc2VsZiIsDQogImJhbnNoZWVzdmVpbCIsDQogIlNpdmlyRSIsDQogIk5vY3R1cm5lVyIsDQogImtpbmRyZWRybm9kZWF0aGJ1ZmYiDQogfQ0KLS0gb2JqZWN0cywgLi4uIGZpbHRlcnMNCkRVdGlsLmdldE9iamVjdHMgPSBmdW5jdGlvbiguLi4pDQogIGxvY2FsIHN1YnNldCA9IHt9DQogIGxvY2FsIGlkeCA9IDENCiAgbG9jYWwgYXJncyA9IHRhYmxlLnBhY2soLi4uKQ0KICAgICAgZm9yIGk9MSwgb2JqTWFuYWdlci5pQ291bnQgZG8NCiAgICAgICAgICAgIGxvY2FsIG9iaiA9IG9iak1hbmFnZXI6Z2V0T2JqZWN0KGkpDQogICAgICAgICAgICAgIGlmIG9iaiB0aGVuDQogICAgICAgICAgICAgICAgbG9jYWwgdmFsaWQgPSB0cnVlDQogICAgICAgICAgICAgICAgZm9yIGo9MSxhcmdzLm4gZG8NCiAgICAgICAgICAgICAgICAgIGlmIG5vdCBhcmdzW2pdKG9iaikgdGhlbiB2YWxpZCA9IGZhbHNlIDsgYnJlYWs7IGVuZA0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGlmIHZhbGlkIHRoZW4gc3Vic2V0W2lkeF0gPSBvYmogOyBpZHggPSBpZHggKyAxIGVuZA0KICAgICAgICAgICAgICBlbmQNCiAgICAgIGVuZA0KICAgICAgcmV0dXJuIHN1YnNldA0KZW5kDQoNCkRVdGlsLmdldE1pbmlvbnMgPSBmdW5jdGlvbiguLi4pDQogIC0tbG9jYWwgYXJncyA9IHRhYmxlLnBhY2soLi4uKQ0KIA0KICByZXR1cm4gRFV0aWwuZ2V0T2JqZWN0cyguLi4sZnVuY3Rpb24ob2JqKQ0KICAgIC0taWYgb2JqLnZpc2libGUgYW5kIG9iai50eXBlIGFuZCBvYmoudHlwZSA9PSAib2JqX0FJX01pbmlvbiIgYW5kIChub3Qgb2JqLmRlYWQpIHRoZW4gcHJpbnQob2JqLm5hbWUpIGVuZA0KICByZXR1cm4gb2JqLnZpc2libGUgYW5kIG9iai50eXBlIGFuZCBvYmoudHlwZSA9PSAib2JqX0FJX01pbmlvbiIgYW5kIG9iai5uYW1lIH49ICJQb28iIGFuZCAobm90IG9iai5kZWFkKSBlbmQpDQplbmQNCg0KRFV0aWwucHJvY2Vzc0NoYW1wcyA9IGZ1bmN0aW9uKHByb2NGdW5jLCBmaWx0ZXIpDQogIGZvciBpID0gMSwgaGVyb01hbmFnZXIuaUNvdW50IGRvIC0tIEFkZCBFbmVteSBDaGFtcHMgQ29sbGlzaW9uIA0KCQkJCQkJCQlsb2NhbCBoZXJvID0gaGVyb01hbmFnZXI6R2V0SGVybyhpKQ0KICAgICAgICAgICAgICAgIGlmIGhlcm8gYW5kIGhlcm8udmFsaWQgYW5kIChmaWx0ZXIgPT0gbmlsIGFuZCB0cnVlIG9yIGZpbHRlcihoZXJvKSkgdGhlbg0KICAgICAgICAgICAgICAgICAgcHJvY0Z1bmMoaGVybykNCiAgICAgICAgICAgICAgICBlbmQNCiAgZW5kDQplbmQNCg0KRFV0aWwuaGFzQnVmZiA9IGZ1bmN0aW9uKHVuaXQsYnVmZk5hbWUpDQoJaWYgbm90IHVuaXQgdGhlbiB1bml0ID0gbXlIZXJvIGVuZA0KCWZvciBpPTEsdW5pdC5idWZmQ291bnQgZG8NCgkJCWxvY2FsIGJ1ZmYgPSB1bml0OmdldEJ1ZmYoaSkNCgkJCS0taWYgYnVmZiBhbmQgYnVmZi52YWxpZCB0aGVuIHByaW50KGJ1ZmYubmFtZSkgZW5kDQoJCQktLXByaW50KGJ1ZmYubmFtZSkNCgkJCWlmIGJ1ZmYgYW5kIGJ1ZmYudmFsaWQgYW5kICh0eXBlKGJ1ZmZOYW1lKSA9PSAidGFibGUiIGFuZCBidWZmTmFtZVtidWZmLm5hbWVdIG9yIGJ1ZmZOYW1lID09IGJ1ZmYubmFtZSkgdGhlbiByZXR1cm4gdHJ1ZSBlbmQNCgllbmQNCglyZXR1cm4gZmFsc2UNCmVuZA0KDQpEVXRpbC5pc0ludnVsbmVyYWJsZSA9IGZ1bmN0aW9uKHVuaXQpDQogIGZvciBrLHYgaW4gcGFpcnMoRFV0aWwuaW52dWxTcGVsbHMpIGRvDQogICAgaWYgRFV0aWwuaGFzQnVmZih1bml0LHYpIHRoZW4NCiAgICAgIHJldHVybiB0cnVlDQogICAgZW5kDQogIGVuZA0KICAgIHJldHVybiBmYWxzZQ0KZW5kDQogDQoNCkRVdGlsLmdhcENsb3NlcnMgPSANCnsNCiAgICAgICAgICAgICAiTGVvbmFaZW5pdGhCbGFkZSIsDQoJCQkiQWF0cm94USIsDQoJCQkiQWthbGlTaGFkb3dEYW5jZSIsDQoJCQkiSGVhZGJ1dHQiLA0KCQkJIkZpb3JhUSIsDQoJCQkiRGlhbmFUZWxlcG9ydCIsDQoJCQkiRWxpc2VTcGlkZXJRQ2FzdCIsDQoJCQkiRml6elBpZXJjaW5nU3RyaWtlIiwNCgkJCSJHcmFnYXNFIiwNCgkJCSJIZWNhcmltVWx0IiwNCgkJCSJKYXJ2YW5JVkRyYWdvblN0cmlrZSIsDQoJCQkiSXJlbGlhR2F0b3RzdSIsDQoJCQkiSmF4TGVhcFN0cmlrZSIsDQoJCQkiS2hheml4RSIsDQoJCQkia2hheml4ZWxvbmciLA0KCQkJIkxlYmxhbmNTbGlkZSIsDQoJCQkiTGVibGFuY1NsaWRlTSIsDQoJCQkiQmxpbmRNb25rUVR3byIsDQoJCQkiTGVvbmFaZW5pdGhCbGFkZSIsDQoJCQkiVUZTbGFzaCIsDQoJCQkiUGFudGhlb25fTGVhcEJhc2giLA0KCQkJIlBvcHB5SGVyb2ljQ2hhcmdlIiwNCgkJCSJSZW5la3RvblNsaWNlQW5kRGljZSIsDQoJCQkiUml2ZW5UcmlDbGVhdmUiLA0KCQkJIlNlanVhbmlBcmN0aWNBc3NhdWx0IiwNCgkJCSJzbGFzaENhc3QiLA0KCQkJIlZpUSIsDQoJCQkiTW9ua2V5S2luZ05pbWJ1cyIsDQoJCQkiWGVuWmhhb1N3ZWVwIiwNCgkJCSJZYXN1b0Rhc2hXcmFwcGVyIiwNCgkJCSJzdW1tb25lcmZsYXNoIg0KfQ0KDQpEVXRpbC5pc0dhcENsb3NlciA9IGZ1bmN0aW9uKHNwZWxsTmFtZSkNCglyZXR1cm4gdGFibGUuY29udGFpbnMoRFV0aWwuZ2FwQ2xvc2VycyxzcGVsbE5hbWUpDQplbmQNCg0KRFV0aWwuaW50ZXJydXB0YWJsZXMgID0gew0KCQkgIkthdGFyaW5hUiINCgkJCSwiR2FsaW9JZG9sT2ZEdXJhbmQiDQoJCQksIkNyb3dzdG9ybSINCgkJCSwgIkRyYWluQ2hhbm5lbCINCgkJCSwiQWJzb2x1dGVaZXJvIg0KCQkJLCJTaGVuU3RhbmRVbml0ZWQiDQoJCQksIlVyZ290U3dhcDIiDQoJCQksIkFsWmFoYXJOZXRoZXJHcmFzcCINCgkJCSwiRmFsbGVuT25lIg0KCQkJLCJQYW50aGVvbl9HcmFuZFNreWZhbGxfSnVtcCINCgkJCSwiQ2FpdGx5bkFjZWludGhlSG9sZSINCgkJCSwiTWlzc0ZvcnR1bmVCdWxsZXRUaW1lIg0KCQkJLCJJbmZpbml0ZUR1cmVzcyINCgkJCSwiVGVsZXBvcnQiDQoJCQksIk1lZGl0YXRlIg0KCQkJLCJzdW1tb25lcnRlbGVwb3J0Ig0KCQkJDQp9DQoNCkRVdGlsLmluY2x1ZGVBdXRvTGV2ZWwgPSBmdW5jdGlvbihjZmcpDQpEVXRpbC5jZmcgPSBjZmcNCkRVdGlsLmxhc3RMZXZlbCA9IG15SGVyby5sZXZlbA0KDQpjZmc6YWRkU3ViTWVudSgiQXV0byBMZXZlbC1VcCIsImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZSkNCg0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWUsIkF1dG8gTGV2ZWwtVXAiLFNDUklQVF9QQVJBTV9PTk9GRixmYWxzZSkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWwxIiwiTDEgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSwwLDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDIiLCJMMiAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDAsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsMyIsIkwzICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWw0IiwiTDQgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSwwLDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDUiLCJMNSAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDAsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsNiIsIkw2ICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsNCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWw3IiwiTDcgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSwwLDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDgiLCJMOCAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDAsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsOSIsIkw5ICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWwxMCIsIkwxMCAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDAsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsMTEiLCJMMTEgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSw0LDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDEyIiwiTDEyICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWwxMyIsIkwxMyAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDAsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsMTQiLCJMMTQgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSwwLDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDE1IiwiTDE1ICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMCwwLDQsMCkNCmNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXTphZGRQYXJhbSgibGV2ZWwxNiIsIkwxNiAoMCA9IG9mZiwxPVEsIDI9VywgMz1FLCA0PVIpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLDQsMCw0LDApDQpjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV06YWRkUGFyYW0oImxldmVsMTciLCJMMTcgKDAgPSBvZmYsMT1RLCAyPVcsIDM9RSwgND1SKSIsIFNDUklQVF9QQVJBTV9TTElDRSwwLDAsNCwwKQ0KY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdOmFkZFBhcmFtKCJsZXZlbDE4IiwiTDE4ICgwID0gb2ZmLDE9USwgMj1XLCAzPUUsIDQ9UikiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsMCwwLDQsMCkNCmlmIG15SGVyby5sZXZlbCA9PSAxIHRoZW4gDQoJbG9jYWwgaWR4ID0gY2ZnWyJhdXRvbGV2ZWwiLi5teUhlcm8uY2hhck5hbWVdWyJsZXZlbDEiXQ0KCWlmIChjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV1bImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV0gKSBhbmQgaWR4IH49IDAgdGhlbiANCgkJX0cuTGV2ZWxTcGVsbChpZHggLSAxKQ0KCWVuZA0KIGVuZCANCkFkZFRpY2tDYWxsYmFjayhmdW5jdGlvbigpIA0KCWlmIG15SGVyby5sZXZlbCB+PSBEVXRpbC5sYXN0TGV2ZWwgdGhlbiANCglsb2NhbCBpZHggPSBjZmdbImF1dG9sZXZlbCIuLm15SGVyby5jaGFyTmFtZV1bImxldmVsIi4uKG15SGVyby5sZXZlbCldDQoJaWYgKGNmZ1siYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXVsiYXV0b2xldmVsIi4ubXlIZXJvLmNoYXJOYW1lXSApIGFuZCBpZHggfj0gMCB0aGVuIA0KCQlfRy5MZXZlbFNwZWxsKGlkeCAtIDEpDQoJZW5kDQoJRFV0aWwubGFzdExldmVsID0gbXlIZXJvLmxldmVsIA0KCWVuZA0KZW5kKQ0KDQplbmQNCg0KRFV0aWwuaW5jbHVkZVNraW5DaGFuZ2VyID0gZnVuY3Rpb24oY2ZnKQ0KCURVdGlsLmNmZyA9IGNmZw0KCWNmZzphZGRTdWJNZW51KCJTa2luIENoYW5nZXIiLCJza2luQ2hhbmdlciIpDQoJY2ZnLnNraW5DaGFuZ2VyOmFkZFBhcmFtKCJkb0NoYW5nZSIsIkNoYW5nZSIsU0NSSVBUX1BBUkFNX09OT0ZGLHRydWUpDQoJY2ZnLnNraW5DaGFuZ2VyOmFkZFBhcmFtKCJza2luIiwgIkN1cnJlbnQgU2tpbiIsIFNDUklQVF9QQVJBTV9MSVNULCAxLHNraW5zW215SGVyby5jaGFyTmFtZV0pDQoJRFV0aWwuc2tpbklkeCA9IGNmZy5za2luQ2hhbmdlci5za2luIC0xDQoJRFV0aWwuY2hhbmdlU2tpbiA9IGNmZy5za2luQ2hhbmdlci5kb0NoYW5nZQ0KCS0tcHJpbnQoRFV0aWwuc2tpbklkeCAuLiAiIHZzICIuLmNmZy5za2luQ2hhbmdlci5za2luKQ0KCVNldFNraW4obXlIZXJvLGNmZy5za2luQ2hhbmdlci5kb0NoYW5nZSBhbmQgRFV0aWwuc2tpbklkeCBvciAtIDEpDQoJQWRkVGlja0NhbGxiYWNrKGZ1bmN0aW9uKCkNCgkJCWxvY2FsIGN1cnJJZHg9IGNmZy5za2luQ2hhbmdlci5za2luIC0gMQ0KCQkJbG9jYWwgY2hhbmdlID0gY2ZnLnNraW5DaGFuZ2VyLmRvQ2hhbmdlDQoJCQlpZiAoY3VycklkeCB+PSBEVXRpbC5za2luSWR4KSBvciAoIGNoYW5nZSB+PSBEVXRpbC5jaGFuZ2VTa2luKSB0aGVuIA0KCQkJICAgIFNldFNraW4obXlIZXJvLGNmZy5za2luQ2hhbmdlci5kb0NoYW5nZSBhbmQgY3VycklkeCBvciAtIDEpDQoJCQkJRFV0aWwuc2tpbklkeCA9IGN1cnJJZHgNCgkJCQlEVXRpbC5jaGFuZ2VTa2luID0gY2hhbmdlDQoJCQllbmQNCgkNCgllbmQpDQoJDQoJQWRkVW5sb2FkQ2FsbGJhY2soZnVuY3Rpb24oKQ0KCQlTZXRTa2luKG15SGVybywtIDEpDQoJZW5kKQ0KZW5kDQoNCkRVdGlsLmlzSW50ZXJydXB0YWJsZSA9IGZ1bmN0aW9uKHNwZWxsTmFtZSkNCgkJcmV0dXJuIHRhYmxlLmNvbnRhaW5zKERVdGlsLmludGVycnVwdGFibGVzLHNwZWxsTmFtZSkNCmVuZA0KDQogICAgbG9nREwoIkxvYWRlZCIpDQoJRFV0aWwuYWxsaWVzID0ge30NCglEVXRpbC5lbmVtaWVzID0ge30NCgkgZm9yIGkgPSAxLCBoZXJvTWFuYWdlci5pQ291bnQgZG8NCiAgICAgICAgbG9jYWwgaGVybyA9IGhlcm9NYW5hZ2VyOkdldEhlcm8oaSkNCiAgICAgICAgaWYgaGVyby50ZWFtID09IG15SGVyby50ZWFtIGFuZCBoZXJvLm5ldHdvcmtJRCB+PSBwbGF5ZXIubmV0d29ya0lEIHRoZW4NCgkJCURVdGlsLmFsbGllc1siIi4uaGVyby5uZXR3b3JrSURdID0gaGVybyANCgkJZWxzZWlmIGhlcm8udGVhbSB+PSBteUhlcm8udGVhbSB0aGVuDQoJCQlEVXRpbC5lbmVtaWVzWyIiLi5oZXJvLm5ldHdvcmtJRF0gPSBoZXJvDQoJCWVuZA0KCWVuZA0KCQ0KY2xhc3MgJ0RTZWxlY3RvcicNCkRTZWxlY3Rvci5QUklPUklUSUVTX1ZBTFMgPSB7IkVBU0lFU1QgVE8gS0lMTCIsIk1PU1QgQVRUQUNLSU5HIE1FIiwiTkVBUkVTVCIsIk5FQVJFU1QgdG8gQ1VSU09SIiwiTU9TVCBBUCIsIk1PU1QgQUQifQ0KRFNlbGVjdG9yLlBSSU9SSVRJRVNfREVCVUZfVkFMUyA9IHsiTU9TVCBBVFRBQ0tJTkcgTUUiLCJORUFSRVNUIiwiTkVBUkVTVCB0byBDVVJTT1IiLCJNT1NUIEFQIiwiTU9TVCBBRCJ9DQpEU2VsZWN0b3IuUFJJT1JJVElFUyA9IHtFQVNJRVNUX1RPX0tJTEwgPSBEU2VsZWN0b3IuUFJJT1JJVElFU19WQUxTWzFdLCBNT1NUX0FUVEFDS0lOR19NRSA9IERTZWxlY3Rvci5QUklPUklUSUVTX1ZBTFNbMl0sIE5FQVJFU1QgPSBEU2VsZWN0b3IuUFJJT1JJVElFU19WQUxTWzNdLE5FQVJfQ1VSU09SID0gRFNlbGVjdG9yLlBSSU9SSVRJRVNfVkFMU1s0XSxNT1NUX0FEID0gRFNlbGVjdG9yLlBSSU9SSVRJRVNfVkFMU1s1XSwgTU9TVF9BUCA9IERTZWxlY3Rvci5QUklPUklUSUVTX1ZBTFNbNl19DQpEU2VsZWN0b3IuYXR0YWNrZXJzID0ge30gLS0gZW5lbWllcyBhdHRhY2tpbmcgbWUgKyBjb3VudCBvZiBhdHRhY2tzIA0KRFNlbGVjdG9yLmF0dGFja2VkID0ge30gLS0gZW5lbWllcyBhdHRhY2tlZCBieSBhbGxpZXMgKyBjb3VudCBvZiBhdHRhY2tzDQpmdW5jdGlvbiBEU2VsZWN0b3I6X19pbml0KCkNCiAgc2VsZi5jZmcgPSBuaWwNCiAgc2VsZi5lbmVteUNvdW50ID0gMA0KICBzZWxmLnRhcmdldCA9IG5pbA0KICBzZWxmLnNlbGVjdGVkID0gbmlsDQogIHNlbGYuZW5lbWllcyA9IHt9DQogIHNlbGYuZHJhZ1BvcyA9IG5pbA0KICBzZWxmLnNlbGVjdGlvbklkeCA9IDANCiAgc2VsZi5vdmVycmlkZUJ5T3Jid2Fsa2VyID0gZmFsc2UNCiAgc2VsZi5vdmVycmlkZUJ5U2NyaXB0ID0gZmFsc2UNCiAgZm9yIGssdiBpbiBwYWlycyhEVXRpbC5lbmVtaWVzKSBkbyAgc2VsZi5lbmVteUNvdW50ID0gc2VsZi5lbmVteUNvdW50ICsgMSBlbmQNCiAgc2VsZi54LHNlbGYueSA9IChkTGliU2F2ZSBhbmQgZExpYlNhdmUudHNIVUQpIGFuZCBkTGliU2F2ZS50c0hVRC54IG9yIDc3OCwoZExpYlNhdmUgYW5kIGRMaWJTYXZlLnRzSFVEKSBhbmQgZExpYlNhdmUudHNIVUQueSBvciA2MTUgLS0gY2VudGVyIGNvb3JkcywgdXNlIGdldHNhdmUNCiAgbG9jYWwgZUlkeCA9IDENCiAgZm9yIGssdiBpbiBwYWlycyhEVXRpbC5lbmVtaWVzKSBkbyANCglzZWxmLmVuZW1pZXNbZUlkeF0gPSB2DQoJZUlkeCA9IGVJZHggKyAxDQogIGVuZA0KICANCiAgQWRkUHJvY2Vzc0F0dGFja0NhbGxiYWNrKGZ1bmN0aW9uKHVuaXQsc3BlbGwpDQogIGlmIG5vdCB1bml0IG9yIG5vdCBzcGVsbCBvciBub3Qgc3BlbGwudGFyZ2V0IHRoZW4gcmV0dXJuIGVuZA0KICBpZiBEVXRpbC5lbmVtaWVzWyIiLi51bml0Lm5ldHdvcmtJRF0gYW5kIHNwZWxsLnRhcmdldC5pc01lIHRoZW4NCglsb2NhbCBhdHRhY2tlciA9IERTZWxlY3Rvci5hdHRhY2tlcnNbIiIuLnVuaXQubmV0d29ya0lEXQ0KCWlmIG5vdCBhdHRhY2tlciB0aGVuIERTZWxlY3Rvci5hdHRhY2tlcnNbIiIuLnVuaXQubmV0d29ya0lEXSA9IHt0aW1lciA9IERUaW1lcigyNTAwKSwgYXR0YWNrcyA9IDF9IA0KCWVsc2UgCQ0KCQlhdHRhY2tlci5hdHRhY2tzID0gYXR0YWNrZXIudGltZXI6aXNVcCgpIGFuZCAwIG9yIChhdHRhY2tlci5hdHRhY2tzICsgMSkNCgkJYXR0YWNrZXIudGltZXI6cmVzZXQoMjUwMCkgDQoJZW5kDQogIGVsc2VpZiBEVXRpbC5hbGxpZXNbIiIuLnVuaXQubmV0d29ya0lEXSBhbmQgRFV0aWwuZW5lbWllc1siIi4uc3BlbGwudGFyZ2V0Lm5ldHdvcmtJRF0gdGhlbg0KCWxvY2FsIGF0dGFja2VkID0gRFNlbGVjdG9yLmF0dGFja2VkWyIiLi5zcGVsbC50YXJnZXQubmV0d29ya0lEXQ0KCWlmIG5vdCBhdHRhY2tlZCB0aGVuIERTZWxlY3Rvci5hdHRhY2tlZFsiIi4uc3BlbGwudGFyZ2V0Lm5ldHdvcmtJRF0gPSB7dGltZXIgPSBEVGltZXIoMjUwMCksIGF0dGFja3MgPSAxfSANCgllbHNlIAkNCgkJYXR0YWNrZWQuYXR0YWNrcyA9IGF0dGFja2VkLnRpbWVyOmlzVXAoKSBhbmQgMCBvciAoYXR0YWNrZWQuYXR0YWNrcyArIDEpDQoJCWF0dGFja2VkLnRpbWVyOnJlc2V0KDI1MDApIA0KCWVuZA0KICBlbmQNCiBlbmQpDQogDQogIEFkZE1zZ0NhbGxiYWNrKGZ1bmN0aW9uKGlNc2csIHdQYXJhbSkNCiAgaWYgbm90IHNlbGYuY2ZnLnRzLnNob3dTZWxlY3RvckhVRCB0aGVuIHJldHVybiBlbmQNCiAgLS1fcGFyYW1bY2ZnLmZsZWU6Z2V0UGFyYW1JbmRleCgiYmluZGluZyIpXS5rZXkNCiAgaWYgaU1zZyA9PSAyNTcgdGhlbiAtLXJlbGVhc2Uga2V5DQoJCWlmIHNlbGYuY2ZnLnRzLl9wYXJhbVtzZWxmLmNmZy50czpnZXRQYXJhbUluZGV4KCJzZWxlY3Rpb25LZXkiKV0ua2V5ID09IHdQYXJhbSAgdGhlbg0KCQktLXByaW50KHdQYXJhbSkNCgkJCXNlbGYuc2VsZWN0aW9uSWR4ID0gc2VsZi5zZWxlY3Rpb25JZHggPT0gc2VsZi5lbmVteUNvdW50IGFuZCAxIG9yIChzZWxmLnNlbGVjdGlvbklkeCArIDEpDQoJCQlzZWxmLnNlbGVjdGVkID0gc2VsZi5lbmVtaWVzW3NlbGYuc2VsZWN0aW9uSWR4XQ0KCQkJc2VsZi50YXJnZXQgPSBzZWxmLnNlbGVjdGVkDQoJCWVuZA0KICBlbmQNCi0tcHJpbnQoaU1zZy4uIiwiLi53UGFyYW0pDQogIGlmIGlNc2cgPT0gNTEzIHRoZW4gLS1sZWZ0IG1vdXNlIGJ0biBwcmVzcw0KCWlmIHNlbGYuc3ggdGhlbg0KCQlpZiBHZXRDdXJzb3JQb3MoKS54ID4gc2VsZi5zeCBhbmQgR2V0Q3Vyc29yUG9zKCkueCA8IHNlbGYuc3ggKyBzZWxmLmhhbGZXKjIgYW5kIEdldEN1cnNvclBvcygpLnkgPCBzZWxmLnN5IGFuZCBHZXRDdXJzb3JQb3MoKS55ID4gc2VsZi5zeSAtIHNlbGYuZWxlbWVudFdpZHRoIHRoZW4NCgkJCXNlbGYuZHJhZ1BvcyA9IFZlY3RvcihHZXRDdXJzb3JQb3MoKS54LEdldEN1cnNvclBvcygpLnkpDQoJCWVsc2VpZiBHZXRDdXJzb3JQb3MoKS54ID4gc2VsZi5zeCBhbmQgR2V0Q3Vyc29yUG9zKCkueCA8IHNlbGYuc3ggKyBzZWxmLmhhbGZXKjIgYW5kIEdldEN1cnNvclBvcygpLnkgPiBzZWxmLnN5IGFuZCBHZXRDdXJzb3JQb3MoKS55IDwgc2VsZi5zeSArIHNlbGYuaHVkSGVpZ2h0IHRoZW4NCgktLQlwcmludCgoR2V0Q3Vyc29yUG9zKCkueSAtIHNlbGYuc3kpL3NlbGYuZWxlbWVudFdpZHRoKQ0KICAgICAgbG9jYWwgZGVzZWxlY3RlZCA9IHNlbGYuc2VsZWN0ZWQgYW5kIHNlbGYuc2VsZWN0ZWQubmV0d29ya0lEICA9PSBzZWxmLmVuZW1pZXNbbWF0aC5jZWlsKChHZXRDdXJzb3JQb3MoKS55IC0gc2VsZi5zeSkvc2VsZi5lbGVtZW50V2lkdGgpXS5uZXR3b3JrSUQNCgkJCWlmIG5vdCBkZXNlbGVjdGVkIHRoZW4gDQoJCXNlbGYuc2VsZWN0aW9uSWR4ID0gbWF0aC5jZWlsKChHZXRDdXJzb3JQb3MoKS55IC0gc2VsZi5zeSkvc2VsZi5lbGVtZW50V2lkdGgpDQoJCXNlbGYuc2VsZWN0ZWQgPSBzZWxmLmVuZW1pZXNbc2VsZi5zZWxlY3Rpb25JZHhdIA0KICAgICAgICBzZWxmLnRhcmdldCA9IHNlbGYuc2VsZWN0ZWQNCiAgICAgICAgZW5kDQoJCQlsb2dETChzZWxmLnNlbGVjdGVkLmNoYXJOYW1lLi4iIGhhcyBiZWVuICIuLihkZXNlbGVjdGVkIGFuZCAiZGVzZWxlY3RlZCIgb3IgInNlbGVjdGVkIGFzIGVuZW15IHRhcmdldC4iKSkNCiAgICAgIGlmIGRlc2VsZWN0ZWQgdGhlbg0KICAgICAgICAgIHNlbGYuc2VsZWN0ZWQgPSBuaWwgDQogICAgICAgICAgc2VsZi50YXJnZXQgPSBuaWwNCiAgICAgICAgZW5kDQoJCWVuZA0KCWVuZA0KCQkNCiAgZWxzZWlmIGlNc2cgPT0gNTE0IHRoZW4gLS1sZWZ0IG1vdXNlIGJ0biByZWxlYXNlDQoJCXNlbGYuZHJhZ1BvcyA9IG5pbA0KCSAgICBkTGliU2F2ZS50c0hVRCA9IHt4ID0gc2VsZi54LHkgPSBzZWxmLnl9DQoJCWRMaWJTYXZlOlNhdmUoKQ0KCQktLXByaW50KHNlbGYueC4uIiwiLi5zZWxmLnkpDQogIGVsc2VpZiBpTXNnID09IDUxMiB0aGVuIC0tIG1vdXNlIG1vdmUNCiAgCS0tcHJpbnQoInlheSIpDQoJaWYgc2VsZi5kcmFnUG9zIHRoZW4NCiANCgkJc2VsZi54ID0gc2VsZi54ICsgR2V0Q3Vyc29yUG9zKCkueCAtIHNlbGYuZHJhZ1Bvcy54DQoJCXNlbGYueSA9IHNlbGYueSArIEdldEN1cnNvclBvcygpLnkgLSBzZWxmLmRyYWdQb3MueQ0KCQlzZWxmLmRyYWdQb3MueCA9IEdldEN1cnNvclBvcygpLnggDQoJCXNlbGYuZHJhZ1Bvcy55ID0gR2V0Q3Vyc29yUG9zKCkueQ0KCWVuZA0KICANCiAgLS1bWyAgbG9jYWwgbmV3VGFyZ2V0ID0gc2VsZjpnZXRUYXJnZXRDdXN0b20oZnVuY3Rpb24oaDEsaDIpIA0KICAgICAgICBsb2NhbCBoMURpc3QsaDJEaXN0ID0gOTk5OTksOTk5OTkNCiAgICAgICAgaWYgaDEgdGhlbiBoMURpc3QgPSBHZXREaXN0YW5jZVNxcihoMSxtb3VzZVBvcykgZW5kDQogICAgICAgIGlmIGgyIHRoZW4gaDJEaXN0ID0gR2V0RGlzdGFuY2VTcXIoaDIsbW91c2VQb3MpIGVuZA0KICAgICAgICBpZiAobm90IGgxRGlzdCBhbmQgbm90IGgyRGlzdCkgb3IgKGgxRGlzdCA+IDEwMDAwIGFuZCBoMkRpc3QgPiAxMDAwMCkgdGhlbiByZXR1cm4gbmlsIA0KICAgICAgICBlbHNlDQogICAgICAgICByZXR1cm4gaDFEaXN0IDwgaDJEaXN0IGFuZCBoMSBvciBoMg0KICAgICAgICBlbmQNCiAgICAgIGVuZCx0cnVlKSANCiAgICBpZiBzZWxmLnNlbGVjdGVkIGFuZCBuZXdUYXJnZXQgPT0gc2VsZi50YXJnZXQgdGhlbiBzZWxmLnRhcmdldCA9IG5pbCBlbHNlaWYgbmV3VGFyZ2V0IHRoZW4gc2VsZi50YXJnZXQgPSBuZXdUYXJnZXQgZW5kDQoJXV0tLQ0KIGVuZCANCmVuZCkNCmVuZA0KDQpmdW5jdGlvbiBEU2VsZWN0b3I6aW5jbHVkZShjZmcpDQogIC0tbG9jYWwgYXJncyA9IHRhYmxlLnBhY2soLi4uKQ0KICBzZWxmLmNmZyA9IGNmZw0KICBjZmc6YWRkU3ViTWVudSgiVGFyZ2V0IFNlbGVjdGlvbiIsInRzIikNCiAgY2ZnLnRzOmFkZFBhcmFtKCJpbmZvMSIsIiogVXNlIEZvcmNlZCBIVUQgU2VsZWN0b3IgdG8gZm9yY2UgYSB0YXJnZXQiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBjZmcudHM6YWRkUGFyYW0oImluZm8yIiwic2VsZWN0aW9uIG92ZXIgYW55dGhpbmcgZWxzZS4gcHJlc3MgYSB0YXJnZXQgb24iLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBjZmcudHM6YWRkUGFyYW0oImluZm8zIiwidGhlIEhVRCB0byBzZWxlY3QsIHByZXNzIGFnYWluIHRvIGRlc2VsZWN0LCIsU0NSSVBUX1BBUkFNX0lORk8sIiIpDQogIGNmZy50czphZGRQYXJhbSgiaW5mb3MzIiwieW91IGNhbiBhbHNvIHVzZSBhIGhvdGt5ZSBiaW5kaW5nIHRvIGl0ZXJhdGUgdGhyb3VnaCIsU0NSSVBUX1BBUkFNX0lORk8sIiIpDQogIGNmZy50czphZGRQYXJhbSgiaW5mbzNhIiwiY2hhbXBzKiIsU0NSSVBUX1BBUkFNX0lORk8sIiIpDQogIGNmZy50czphZGRQYXJhbSgiaW5mbzNiIiwiICIsU0NSSVBUX1BBUkFNX0lORk8sIiIpDQogIGNmZy50czphZGRQYXJhbSgic2hvd1NlbGVjdG9ySFVEIiwiU2hvdyBUYXJnZXQgU2VsZWN0b3IgSFVEIixTQ1JJUFRfUEFSQU1fT05PRkYsdHJ1ZSkNCiAgY2ZnLnRzOmFkZFBhcmFtKCJzZWxlY3Rpb25LZXkiLCAiQ2hhbXAgU2VsZWN0aW9uIEhvdGtleSIsIFNDUklQVF9QQVJBTV9PTktFWURPV04sIGZhbHNlLCA3MykNCiAgLS1jZmcudHM6YWRkUGFyYW0oIm92ZXJyaWRlQnlPcmJ3YWxrZXIiLCJGb3JjZSBPcmJ3YWxrZXIncyB0YXJnZXQiLFNDUklQVF9QQVJBTV9PTk9GRix0cnVlKQ0KICBjZmcudHM6YWRkUGFyYW0oImJyZWFrMSIsIiAgICAgICAgICAgICAgICAgICAgICAgICAiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBjZmcudHM6YWRkUGFyYW0oImluZm80IiwiICAgICA8PC0tLS0tLS0tLS0tLSBBdXRvbWF0aWMgVGFyZ2V0aW5nIC0tLS0tLS0tLS0tPj4iLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBjZmcudHM6YWRkUGFyYW0oImJyZWFrMiIsIiAgICAgICAgICAgICAgICAgICAgICAgICAiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KIC0tW1sgZm9yIGkgPSAxLCBhcmdzLm4gZG8NCiAgICBsb2NhbCBzcGVsbCAgPSBhcmdzW2ldDQogICAgbG9jYWwgbGlzdCA9IHsiTU9TVCBBVFRBQ0tJTkcgTUUiLCJORUFSRVNUIiwiTkVBUiBDVVJTT1IiICwiTU9TVCBBUCBvciBBRCIsICJNT1NUIEFQIn0NCiAgICBpZiBzcGVsbC5nZXREYW1hZ2UgdGhlbiB0YWJsZS5pbnNlcnQobGlzdCwxLCJFQVNJRVNUIFRPIEtJTEwiKSBlbmQNCiAgICBjZmcudHM6YWRkUGFyYW0oc3BlbGwuYmluZGluZy4uIk1vZGUiLCBzcGVsbC5iaW5kaW5nLi4iIE1vZGUiLCBTQ1JJUFRfUEFSQU1fTElTVCwgc3BlbGwucHJpb3JpdHkgb3IgMSxsaXN0KSAgICAgDQogIGVuZF1dLS0NCiAgY2ZnLnRzOmFkZFBhcmFtKCJpbmZvMTAiLCI+PiAgIEVuZW15IFByaW9yaXR5IDogMVtNT1NUXSAtPiAiLi5zZWxmLmVuZW15Q291bnQuLiJbTEVBU1RdIDoiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBmb3Igayx2IGluIHBhaXJzKERVdGlsLmVuZW1pZXMpIGRvDQoJY2ZnLnRzOmFkZFBhcmFtKHYuY2hhck5hbWUuLiJwcmlvcml0eSIsICB2LmNoYXJOYW1lICwgU0NSSVBUX1BBUkFNX1NMSUNFLDEsMSxzZWxmLmVuZW15Q291bnQsMCkNCiAgZW5kDQogICAgY2ZnLnRzOmFkZFBhcmFtKCJpbmZvMTEiLCIgIixTQ1JJUFRfUEFSQU1fSU5GTywiIikNCiAgY2ZnLnRzOmFkZFBhcmFtKCJpbmZvMTIiLCI+PiAgIFRhcmdldGluZyBBbGdvcml0aG0gOiIsU0NSSVBUX1BBUkFNX0lORk8sIiIpDQogIGNmZy50czphZGRQYXJhbSgiZW5lbXlBZ2dyZXNzaXZlTW9kZSIsIkFnZ3Jlc3NpdmUgVGFyZ2V0aW5nIiwgU0NSSVBUX1BBUkFNX0xJU1QsIDEsIERTZWxlY3Rvci5QUklPUklUSUVTX1ZBTFMpICAgDQogDQogIGNmZy50czphZGRQYXJhbSgiZW5lbXlEZWJ1ZmZNb2RlIiwiRGVidWZmIFRhcmdldGluZyIsIFNDUklQVF9QQVJBTV9MSVNULCAxLCBEU2VsZWN0b3IuUFJJT1JJVElFU19ERUJVRl9WQUxTKSANCg0KICAtLWNmZy50czphZGRQYXJhbSgiYXNzaXN0IiwiRm9yY2UgdGFyZ2V0IHRvIG1vc3QtYXR0YWNrZWQgYnkgYWxsaWVzIixTQ1JJUFRfUEFSQU1fT05PRkYsdHJ1ZSkNCg0KICBjZmcudHM6YWRkUGFyYW0oImJyZWFrMyIsIiAgICAgICAgICAgICAgICAgICAgICAgICAiLFNDUklQVF9QQVJBTV9JTkZPLCIiKQ0KICBjZmcudHM6YWRkUGFyYW0oImluZm81IiwiICAgICAtLS0tLS0tLS0tLS0gT3Jid2Fsa2VycyBDb21wYXRpYmlsaXR5IC0tLS0tLS0tLS0tIixTQ1JJUFRfUEFSQU1fSU5GTywiIikNCiAgY2ZnLnRzOmFkZFBhcmFtKCJicmVhazQiLCIgICAgICAgICAgICAgICAgICAgICAgICAgIixTQ1JJUFRfUEFSQU1fSU5GTywiIikNCiAgLS1jZmcudHM6YWRkUGFyYW0oImZvcmNlVGFyZ2V0IiwiRm9yY2UgdGFyZ2V0LXNlbGVjdGlvbiBvbiBvcmJ3YWxrZXIgIixTQ1JJUFRfUEFSQU1fT05PRkYsZmFsc2UpDQogIC0tY2ZnLnRzOmFkZFBhcmFtKCJvdmVycmlkZU1vZGUiLCAiTW9kZSIsIFNDUklQVF9QQVJBTV9MSVNULCAxLCB7ICJGb3JjZSBzY3JpcHQncyB0YXJnZXQgb24gb3Jid2Fsa2VyIiwiRm9yY2Ugb3Jid2Fsa2VyJ3MgdGFyZ2V0IG9uIHNjcmlwdCIgfSkNCiAgDQogLS0gc2VsZi5vdmVycmlkZUJ5T3Jid2Fsa2VyID0gY2ZnLnRzLm92ZXJyaWRlQnlPcmJ3YWxrZXINCiAtLSBzZWxmLm92ZXJyaWRlQnlTY3JpcHQgPSBjZmcudHMub3ZlcnJpZGVCeVNjcmlwdA0KZW5kDQoNCmZ1bmN0aW9uIERTZWxlY3RvcjpnZXRCZXN0VGFyZ2V0KHByaW9yaXR5LCBzcGVsbCwgcmFuZ2UpDQogICAgICANCiAgcmV0dXJuIHNlbGY6Z2V0VGFyZ2V0Q3VzdG9tKCAgDQogICAgZnVuY3Rpb24oZTEsZTIpDQogICAgICBsb2NhbCBkaXN0U3FyMSA9IEdldERpc3RhbmNlU3FyKG15SGVybyxlMSkgLSBlMS5ib3VuZGluZ1JhZGl1cyANCiAgICAgIGxvY2FsIGRpc3RTcXIyID0gR2V0RGlzdGFuY2VTcXIobXlIZXJvLGUyKSAtIGUyLmJvdW5kaW5nUmFkaXVzDQogICAgICBsb2NhbCBzcGVsbFJhbmdlU3FyID0gKHNwZWxsLnJhbmdlKnNwZWxsLnJhbmdlKSArIChyYW5nZSBhbmQgcmFuZ2UqcmFuZ2Ugb3IgMCkNCiAgICAgIA0KICAgICAgaWYgZGlzdFNxcjEgPiBzcGVsbFJhbmdlU3FyIGFuZCBkaXN0U3FyMiA+IHNwZWxsUmFuZ2VTcXIgdGhlbiByZXR1cm4gbmlsDQogICAgICBlbHNlaWYgZGlzdFNxcjEgPCBzcGVsbFJhbmdlU3FyIGFuZCBkaXN0U3FyMiA+IHNwZWxsUmFuZ2VTcXIgdGhlbiByZXR1cm4gZTENCiAgICAgIGVsc2VpZiBkaXN0U3FyMiA8IHNwZWxsUmFuZ2VTcXIgYW5kIGRpc3RTcXIxID4gc3BlbGxSYW5nZVNxciB0aGVuIHJldHVybiBlMiBlbmQNCgkgIA0KCSAgLS1bW2lmIGNmZy50cy5hc3Npc3QgdGhlbiANCgkgICAgaWYgbm90IERTZWxlY3Rvci5hdHRhY2tlZFsiIi4uZTEubmV0d29ya0lEXSBhbmQgDQoJICBlbmRdXS0tDQoJICBpZiBzZWxmLmNmZy50c1tlMS5jaGFyTmFtZS4uInByaW9yaXR5Il0gPCBzZWxmLmNmZy50c1tlMi5jaGFyTmFtZS4uInByaW9yaXR5Il0gdGhlbiByZXR1cm4gZTENCgkgIGVsc2VpZiBzZWxmLmNmZy50c1tlMS5jaGFyTmFtZS4uInByaW9yaXR5Il0gPiBzZWxmLmNmZy50c1tlMi5jaGFyTmFtZS4uInByaW9yaXR5Il0gdGhlbiByZXR1cm4gZTINCiAgICAgIGVsc2VpZiBwcmlvcml0eSA9PSBEU2VsZWN0b3IuUFJJT1JJVElFUy5FQVNJRVNUX1RPX0tJTEwgdGhlbg0KICAgICAgICAgIHJldHVybiBlMS5oZWFsdGggLSBzcGVsbC5nZXREYW1hZ2UoZTEpIDwgZTIuaGVhbHRoIC0gc3BlbGwuZ2V0RGFtYWdlKGUyKSBhbmQgZTEgb3IgZTINCiAgICAgIGVsc2VpZiBwcmlvcml0eSA9PSBEU2VsZWN0b3IuUFJJT1JJVElFUy5ORUFSRVNUIHRoZW4gICAgICANCiAgICAgICAgICByZXR1cm4gZGlzdFNxcjEgPCBkaXN0U3FyMiBhbmQgZTEgb3IgZTINCiAgICAgIGVsc2VpZiBwcmlvcml0eSA9PSBEU2VsZWN0b3IuUFJJT1JJVElFUy5NT1NUX0FUVEFDS0lOR19NRSB0aGVuDQoJCQlpZiBub3QgRFNlbGVjdG9yLmF0dGFja2Vyc1siIi4uZTEubmV0d29ya0lEXSBhbmQgbm90IERTZWxlY3Rvci5hdHRhY2tlcnNbIiIuLmUyLm5ldHdvcmtJRF0gdGhlbiANCgkJCQlpZiBzcGVsbC5nZXREYW1hZ2UgdGhlbiByZXR1cm4gKGUxLmhlYWx0aCAtIHNwZWxsLmdldERhbWFnZShlMSkgPCBlMi5oZWFsdGggLSBzcGVsbC5nZXREYW1hZ2UoZTIpKSBhbmQgZTEgb3IgZTINCgkJCQllbHNlIHJldHVybiBkaXN0U3FyMSA8IGRpc3RTcXIyIGFuZCBlMSBvciBlMiBlbmQNCgkJCWVsc2VpZiBEU2VsZWN0b3IuYXR0YWNrZXJzWyIiLi5lMS5uZXR3b3JrSURdIGFuZCBub3QgRFNlbGVjdG9yLmF0dGFja2Vyc1siIi4uZTIubmV0d29ya0lEXSB0aGVuIHJldHVybiBlMSANCgkJCWVsc2VpZiBub3QgRFNlbGVjdG9yLmF0dGFja2Vyc1siIi4uZTEubmV0d29ya0lEXSBhbmQgRFNlbGVjdG9yLmF0dGFja2Vyc1siIi4uZTIubmV0d29ya0lEXSB0aGVuIHJldHVybiBlMiBlbmQJCQkNCgkJCXJldHVybiBEU2VsZWN0b3IuYXR0YWNrZXJzWyIiLi5lMS5uZXR3b3JrSURdLmF0dGFja3MgPiBEU2VsZWN0b3IuYXR0YWNrZXJzWyIiLi5lMi5uZXR3b3JrSURdLmF0dGFja3MgYW5kIGUxIG9yIGUyDQoJICBlbHNlaWYgcHJpb3JpdHkgPT0gRFNlbGVjdG9yLlBSSU9SSVRJRVMuTkVBUl9DVVJTT1IgdGhlbg0KCQkJcmV0dXJuIEdldERpc3RhbmNlU3FyKG1vdXNlUG9zLGUxKSA8IEdldERpc3RhbmNlU3FyKG1vdXNlUG9zLGUyKSBhbmQgZTEgb3IgZTINCgkgIGVsc2VpZiBwcmlvcml0eSA9PSBEU2VsZWN0b3IuUFJJT1JJVElFUy5NT1NUX0FEIHRoZW4NCgkJCXJldHVybiBlMS5hcCA+IGUyLmFwIGFuZCBlMSBvciBlMg0KCSAgZWxzZWlmIHByaW9yaXR5ID09IERTZWxlY3Rvci5QUklPUklUSUVTLk1PU1RfQVAgdGhlbg0KCQkJcmV0dXJuIGUxLnRvdGFsRGFtYWdlID4gZTIudG90YWxEYW1hZ2UgYW5kIGUxIG9yIGUyDQoJICBlbmQNCiANCiAgICAgIHJldHVybiBuaWwNCiAgICBlbmQgDQogICAgLHRydWUpDQplbmQNCg0KZnVuY3Rpb24gRFNlbGVjdG9yOmdldFRhcmdldEN1c3RvbShjb21wYXJhdG9yLGlzRW5lbXkpDQogIGxvY2FsIGJlc3RDaGFtcCA9IG5pbA0KICBmb3IgaSA9IDEsIGhlcm9NYW5hZ2VyLmlDb3VudCBkbw0KICAgIGxvY2FsIGhlcm8gPSBoZXJvTWFuYWdlcjpHZXRIZXJvKGkpDQogICAgaWYgaGVybyBhbmQgaGVyby52YWxpZCBhbmQgKG5vdCBoZXJvLmRlYWQpIGFuZCBoZXJvLnZpc2libGUgYW5kIChub3QgRFV0aWwuaXNJbnZ1bG5lcmFibGUoaGVybykpIGFuZCAoKGlzRW5lbXkgPT0gdHJ1ZSBhbmQgaGVyby50ZWFtIH49IG15SGVyby50ZWFtKSBvciAoaXNFbmVteSA9PSBmYWxzZSBhbmQgbXlIZXJvLnRlYW0gPT0gaGVyby50ZWFtKSBvciAoaXNFbmVteSA9PSBuaWwgYW5kIHRydWUpKXRoZW4gDQogICAgICAgIGJlc3RDaGFtcCA9IGNvbXBhcmF0b3IoYmVzdENoYW1wIG9yIGhlcm8saGVybykgIA0KICAgIGVuZA0KICBlbmQNCiAgc2VsZi50YXJnZXQgPSBiZXN0Q2hhbXAgDQogIHJldHVybiBiZXN0Q2hhbXAtLSBvciBzZWxmLnRhcmdldA0KZW5kDQoNCmZ1bmN0aW9uIERTZWxlY3RvcjpnZXRUYXJnZXQoIHNwZWxsICxyYW5nZSApDQogICAgbG9jYWwgdGFyZ2V0ID0gc2VsZi5zZWxlY3RlZCANCglpZiBub3QgdGFyZ2V0IG9yIEdldERpc3RhbmNlU3FyKHRhcmdldCxteUhlcm8pID4gKHNwZWxsLnJhbmdlKnNwZWxsLnJhbmdlKSArIChyYW5nZSBhbmQgcmFuZ2UqcmFuZ2Ugb3IgMCkgdGhlbiANCgkJdGFyZ2V0ID0gc2VsZjpnZXRCZXN0VGFyZ2V0KHNwZWxsLmdldERhbWFnZSBhbmQgRFNlbGVjdG9yLlBSSU9SSVRJRVNfVkFMU1tzZWxmLmNmZy50cy5lbmVteUFnZ3Jlc3NpdmVNb2RlXSBvciBEU2VsZWN0b3IuUFJJT1JJVElFU19ERUJVRl9WQUxTW3NlbGYuY2ZnLnRzLmVuZW15RGVidWZmTW9kZV0gLHNwZWxsLHJhbmdlKSAgIA0KCWVuZA0KCWlmIHRhcmdldCBhbmQgdGFyZ2V0LnZpc2libGUgYW5kIChub3QgdGFyZ2V0LmRlYWQpIHRoZW4gcmV0dXJuIHRhcmdldCBlbHNlIHJldHVybiBuaWwgZW5kDQplbmQNCg0KZnVuY3Rpb24gRFNlbGVjdG9yOmRyYXdTZWxlY3RvckhVRChoYWxmVyx0cmFucykNCiBzZWxmLmhhbGZXID0gaGFsZlcNCiBzZWxmLmVsZW1lbnRXaWR0aCA9IDIwDQogDQpzZWxmLmh1ZEhlaWdodD0gc2VsZi5lbGVtZW50V2lkdGgqc2VsZi5lbmVteUNvdW50DQpzZWxmLnN4LHNlbGYuc3ksc2VsZi5leCxzZWxmLmV5ID0gIHNlbGYueCAtIGhhbGZXLCBzZWxmLnkgLSBzZWxmLmh1ZEhlaWdodC8yLCBzZWxmLnggKyBoYWxmVyxzZWxmLnkgLSBzZWxmLmh1ZEhlaWdodC8yDQoJRHJhd0xpbmUoc2VsZi5zeCxzZWxmLnksc2VsZi5leCxzZWxmLnksc2VsZi5odWRIZWlnaHQsRERyYXcuZ2V0VHJhbnNDb2xvcih0cmFucywiMDAwMDAwIikpIC0tIEhVRCBCYWNrZ3JvdW5kDQoJRHJhd1JlY3RhbmdsZShzZWxmLnN4LCBzZWxmLnN5IC0gc2VsZi5lbGVtZW50V2lkdGgsIHNlbGYuaGFsZlcqMixzZWxmLmVsZW1lbnRXaWR0aCwgRERyYXcuZ2V0VHJhbnNDb2xvcigiQ0MiLCIwMDAwMDAiKSkgLS0gdGl0bGUgYmFyDQoJRHJhd1RleHQoIkZvcmNlZCBUYXJnZXQgU2VsZWN0b3IiLDEyLHNlbGYuc3ggKyAxMCxzZWxmLnN5IC0gc2VsZi5lbGVtZW50V2lkdGgrIDUsRERyYXcuZ2V0VHJhbnNDb2xvcigiQ0MiLCJGRkZGRkYiKSkNCglsb2NhbCB5T2ZmID0gMA0KCWZvciBrLHYgaW4gcGFpcnMoRFV0aWwuZW5lbWllcykgZG8NCgkJaWYgc2VsZi5zZWxlY3RlZCBhbmQgc2VsZi5zZWxlY3RlZC5uZXR3b3JrSUQgPT0gdi5uZXR3b3JrSUQgdGhlbiANCgkJCSBEcmF3UmVjdGFuZ2xlKHNlbGYuc3gsIHNlbGYuc3kgKyB5T2ZmLCBzZWxmLmhhbGZXKjIsc2VsZi5lbGVtZW50V2lkdGgsIEREcmF3LmdldFRyYW5zQ29sb3IodHJhbnMsIkY2NjY2NiIpKQ0KCQllbmQNCgkJRHJhd1RleHQodi5jaGFyTmFtZSwxNCxzZWxmLnN4ICsgMTAsIHNlbGYuc3kgKyB5T2ZmICsgNSxERHJhdy5nZXRUcmFuc0NvbG9yKHRyYW5zLCJGRkZGRkYiKSkgDQoJCXlPZmYgPSB5T2ZmICsgc2VsZi5lbGVtZW50V2lkdGgNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBEU2VsZWN0b3I6ZHJhdygpDQotLVtbDQpmb3Igayx2IGluIHBhaXJzKERTZWxlY3Rvci5hdHRhY2tlcnMpIGRvDQoJbG9jYWwgdGFyZ2V0ID0gRFV0aWwuZW5lbWllc1trXQ0KCURyYXdUZXh0M0QoIkF0dGFja3MgOiAiLi4odi50aW1lcjppc1VwKCkgYW5kIDAgb3Igdi5hdHRhY2tzKSx0YXJnZXQueCx0YXJnZXQueSx0YXJnZXQueiwxMCwweEZGRkZGRkZGKQ0KZW5kDQoNCmZvciBrLHYgaW4gcGFpcnMoRFNlbGVjdG9yLmF0dGFja2VkKSBkbw0KCWxvY2FsIHRhcmdldCA9IERVdGlsLmVuZW1pZXNba10NCglEcmF3VGV4dDNEKCJBdHRhY2tlZCA6ICIuLih2LnRpbWVyOmlzVXAoKSBhbmQgMCBvciB2LmF0dGFja3MpLHRhcmdldC54LHRhcmdldC55KzUwLHRhcmdldC56LDEwLDB4RkZGRkZGRkYpDQplbmQNCl1dLS0NCmlmIHNlbGYuY2ZnLnRzLnNob3dTZWxlY3RvckhVRCB0aGVuIHNlbGY6ZHJhd1NlbGVjdG9ySFVEKDgwLCI4MCIpIGVuZA0KbG9jYWwgdGFyZ2V0ID0gc2VsZi5zZWxlY3RlZA0KaWYgdGFyZ2V0IGFuZCB0YXJnZXQudmlzaWJsZSBhbmQgKG5vdCB0YXJnZXQuZGVhZCkgdGhlbiBERHJhdy5kcmF3TEZTKHRhcmdldC54LHRhcmdldC55LHRhcmdldC56LCB0YXJnZXQuYm91bmRpbmdSYWRpdXMsIDIsIDB4RkZGRjAwMDAsIDIsZmFsc2UsZmFsc2UsMikgZW5kDQplbmQNCg0KDQpjbGFzcyAnREhlYWx0aEluZGljYXRvcicNCg0KCURIZWFsdGhJbmRpY2F0b3IueE9mZnNldHMgPSB7DQoJCVsnQW5pdmlhRWdnJ10gPSAtMC4xLA0KCQlbJ0Rhcml1cyddID0gLTAuMDUsDQoJCVsnSmhpbiddID0gMC4wNSwNCgkJWydSZW5la3RvbiddID0gLTAuMDUsDQoJCVsnU2lvbiddID0gLTAuMDUsDQoJCVsnVGhyZXNoJ10gPSAtMC4wMywNCgl9DQoJREhlYWx0aEluZGljYXRvci55T2Zmc2V0cyA9IHtbJ0poaW4nXSA9IDIyLH0NCg0KCURIZWFsdGhJbmRpY2F0b3IuZ2V0UmVhbEJhclBvcyA9IGZ1bmN0aW9uKHVuaXQpDQoJCWxvY2FsIHN0YXJ0UG9zID0gR2V0VW5pdEhQQmFyUG9zKHVuaXQpDQoJCWxvY2FsIHdpZHRoID0gMTAzDQoJCWxvY2FsIGJhck9mZiA9IEdldFVuaXRIUEJhck9mZnNldCh1bml0KQ0KCQlyZXR1cm4gVmVjdG9yKHN0YXJ0UG9zLnggKyAoKERIZWFsdGhJbmRpY2F0b3IueE9mZnNldHNbdW5pdC5jaGFyTmFtZV0gb3IgMCkgKiAxNDApIC0gNjUsIHN0YXJ0UG9zLnkgKyAoYmFyT2ZmLnkgKiA1MykgKyAzIC0gKERIZWFsdGhJbmRpY2F0b3IueU9mZnNldHNbdW5pdC5jaGFyTmFtZV0gb3IgMCkpLHdpZHRoDQoJZW5kDQoJIA0KCURIZWFsdGhJbmRpY2F0b3IuZHJhdyA9IGZ1bmN0aW9uKHVuaXQsIC4uLikNCgkJaWYgbm90IEREcmF3LmNmZy5kcmF3aW5nLmRyYXdISW5kaWNhdG9yIG9yIG5vdCB1bml0LnZpc2libGUgb3IgdW5pdC5kZWFkIHRoZW4gcmV0dXJuIGVuZA0KCQlsb2NhbCB3dHMgPSBXb3JsZFRvU2NyZWVuKEQzRFhWRUNUT1IzKHVuaXQueCx1bml0LnksdW5pdC56KSkNCgkJaWYgbm90IE9uU2NyZWVuKHd0cy54LHd0cy55KSB0aGVuIHJldHVybiBlbmQNCgkJbG9jYWwgc3BlbGxzID0gdGFibGUucGFjayguLi4pDQoJCWxvY2FsIHBvcyx3aWR0aCA9IERIZWFsdGhJbmRpY2F0b3IuZ2V0UmVhbEJhclBvcyh1bml0KQ0KCQlsb2NhbCB0b3RhbERhbWFnZSA9IDANCgkJbG9jYWwgY2hhclNpemUgPSBERHJhdy5jZmcuZHJhd2luZy5oSW5kaWNhdG9yU2V0dGluZ3Muc2l6ZQ0KCQlsb2NhbCB0eHRIZWlnaHQgPSBERHJhdy5jZmcuZHJhd2luZy5oSW5kaWNhdG9yU2V0dGluZ3MuaGVpZ2h0DQoJCWxvY2FsIGNoYXJXaWR0aCA9IGNoYXJTaXplIC8yDQoJCWxvY2FsIGNoYXJXaWR0aEhhbGYgPSBjaGFyV2lkdGggLzINCgkJbG9jYWwgeE9mZiA9IDANCgkJbG9jYWwgbGFzdERyYXdQb3NYID0gbmlsDQoJCWxvY2FsIGxhc3ROZXdQb3NYID0gbmlsDQoJCWZvciBpID0gMSwgc3BlbGxzLm4gZG8NCgkJICBsb2NhbCBzcGVsbCA9IHNwZWxsc1tpXQ0KCQkgIGxvY2FsIGNkQXJnLHJhbmdlQXJnID0gZmFsc2UsZmFsc2UNCgkJICBpZiBzcGVsbCB0aGVuDQoJCSAgaWYgRERyYXcuY2ZnLmRyYXdpbmcuaEluZGljYXRvclNldHRpbmdzLmRyYXdOb3RPbkNEIHRoZW4gY2RBcmcgPSBteUhlcm86Q2FuVXNlU3BlbGwoc3BlbGwuaWR4KSA9PSBSRUFEWQ0KCQkgIGVsc2UgY2RBcmcgPSBteUhlcm86Q2FuVXNlU3BlbGwoc3BlbGwuaWR4KSB+PSAxMiBlbmQNCgkJICANCgkJICAgaWYgRERyYXcuY2ZnLmRyYXdpbmcuaEluZGljYXRvclNldHRpbmdzLmRyYXdJblJhbmdlIHRoZW4gcmFuZ2VBcmcgPSBHZXREaXN0YW5jZVNxcih1bml0LG15SGVybykgPCBzcGVsbC5yYW5nZSpzcGVsbC5yYW5nZQ0KCQkgIGVsc2UgcmFuZ2VBcmcgPSB0cnVlIGVuZA0KCQkgIA0KCQkJaWYgc3BlbGwuZ2V0RGFtYWdlIGFuZCBzcGVsbC5yYW5nZSBhbmQgY2RBcmcgYW5kIHJhbmdlQXJnIHRoZW4NCgkJCQl0b3RhbERhbWFnZSA9IHRvdGFsRGFtYWdlICsgc3BlbGwuZ2V0RGFtYWdlKHVuaXQpDQoJCQkJZG1nUGVyYyA9ICgxMDAqdG90YWxEYW1hZ2UpL3VuaXQuaGVhbHRoDQoJCQkJY3VyckhlYWx0aFdpZHRoID0gKHVuaXQuaGVhbHRoKndpZHRoKS91bml0Lm1heEhlYWx0aA0KCQkJCWxvY2FsIGRtZ1hPZmYgPSAgKGRtZ1BlcmMqY3VyckhlYWx0aFdpZHRoKS8xMDANCgkJCQlsb2NhbCBuZXdQb3NYID0gTUFYKHBvcy54LHBvcy54ICsgY3VyckhlYWx0aFdpZHRoIC0gZG1nWE9mZikNCgkJCQlsb2NhbCBjb2xvclZhbCA9IHdpZHRoIC0gY3VyckhlYWx0aFdpZHRoICsgZG1nWE9mZg0KCQkJCWxvY2FsIGNvbG9yID0gRERyYXcuZ2V0SGVhdENvbG9yKE1JTih3aWR0aCxjb2xvclZhbCksMCwgd2lkdGgsMjU1KQ0KCQkJCWxvY2FsIGNvbG9yVHJhbnMgPSBERHJhdy5nZXRIZWF0Q29sb3IoTUlOKHdpZHRoLGNvbG9yVmFsKSwwLCB3aWR0aCxERHJhdy5jZmcuZHJhd2luZy5oSW5kaWNhdG9yU2V0dGluZ3MuYWxwaGEpDQoJCQkJRHJhd0xpbmUobmV3UG9zWCxwb3MueSxsYXN0TmV3UG9zWCBhbmQgKGxhc3ROZXdQb3NYIC0gMSkgb3IgKHBvcy54ICsgY3VyckhlYWx0aFdpZHRoKSxwb3MueSwxMCxjb2xvclRyYW5zKQ0KCQkJCURyYXdMaW5lKG5ld1Bvc1gsIHBvcy55ICsgMyAsIG5ld1Bvc1gsIHBvcy55IC0gMTAsMSxjb2xvcikNCgkJCQlEcmF3TGluZShuZXdQb3NYIC0gMSwgcG9zLnkgKyAzICwgbmV3UG9zWCAtIDEsIHBvcy55IC0gMTAgLSAxLDEsMHhGRjAwMDAwMCkNCgkJCQl4T2ZmID0gbGFzdERyYXdQb3NYIGFuZCAoKGxhc3REcmF3UG9zWCAtIG5ld1Bvc1ggPiBjaGFyV2lkdGggYW5kIDAgb3IgKHhPZmYgKyBjaGFyV2lkdGggLSAobGFzdE5ld1Bvc1ggLSBuZXdQb3NYKSkpKSBvciAwCQkNCgkJCQlEcmF3TGluZShuZXdQb3NYLCBwb3MueS0xMCAsIG5ld1Bvc1ggLSB4T2ZmLCBwb3MueSAtIHR4dEhlaWdodCwxLGNvbG9yKQ0KCQkJCS0tRHJhd0xpbmUobmV3UG9zWCAtIDEsIHBvcy55LTEwICwgbmV3UG9zWCAtIDEgLSB4T2ZmLCBwb3MueSAtIDE4LDEsMHhGRjAwMDAwMCkNCgkJCQlEcmF3VGV4dChzcGVsbC5iaW5kaW5nLGNoYXJTaXplLCBuZXdQb3NYIC0geE9mZiAtIGNoYXJXaWR0aEhhbGYgLSAxLCBwb3MueSAtICh0eHRIZWlnaHQgICsgOSksMHhGRjAwMDAwMCkgDQoJCQkJRHJhd1RleHQoc3BlbGwuYmluZGluZyxjaGFyU2l6ZSwgbmV3UG9zWCAtIHhPZmYgLSBjaGFyV2lkdGhIYWxmLCBwb3MueSAtICh0eHRIZWlnaHQgKyAxMCksY29sb3IpIA0KCQkgDQoJCQkJbGFzdE5ld1Bvc1ggPSBuZXdQb3NYDQoJCQkJbGFzdERyYXdQb3NYID0gbGFzdE5ld1Bvc1ggLSB4T2ZmDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoNCgllbmQNCiANCmNsYXNzICJEU2NyaXB0VXBkYXRlIg0KRFNjcmlwdFVwZGF0ZS51cGRhdGluZ0NvdW50ID0gMA0KRFNjcmlwdFVwZGF0ZS51cGRhdGluZyA9IHt9DQpmdW5jdGlvbiBEU2NyaXB0VXBkYXRlOl9faW5pdChuYW1lLExvY2FsVmVyc2lvbixVc2VIdHRwcywgSG9zdCwgVmVyc2lvblBhdGgsIFNjcmlwdFBhdGgsIFNhdmVQYXRoLCBDYWxsYmFja1VwZGF0ZSwgQ2FsbGJhY2tOb1VwZGF0ZSwgQ2FsbGJhY2tOZXdWZXJzaW9uLENhbGxiYWNrRXJyb3IpDQogICAgc2VsZi5Mb2NhbFZlcnNpb24gPSBMb2NhbFZlcnNpb24NCglEU2NyaXB0VXBkYXRlLnVwZGF0aW5nQ291bnQgPSBEU2NyaXB0VXBkYXRlLnVwZGF0aW5nQ291bnQgKyAxDQoJc2VsZi5pZHggPSBEU2NyaXB0VXBkYXRlLnVwZGF0aW5nQ291bnQNCglEU2NyaXB0VXBkYXRlLnVwZGF0aW5nW3NlbGYuaWR4XSA9IHNlbGYuaWR4DQoJc2VsZi5OYW1lID0gbmFtZQ0KICAgIHNlbGYuSG9zdCA9IEhvc3QNCiAgICBzZWxmLlZlcnNpb25QYXRoID0gJy9Cb0wvVENQVXBkYXRlci9HZXRTY3JpcHQnLi4oVXNlSHR0cHMgYW5kICc1JyBvciAnNicpLi4nLnBocD9zY3JpcHQ9Jy4uc2VsZjpCYXNlNjRFbmNvZGUoc2VsZi5Ib3N0Li5WZXJzaW9uUGF0aCkuLicmcmFuZD0nLi5tYXRoLnJhbmRvbSg5OTk5OTk5OSkNCiAgICBzZWxmLlNjcmlwdFBhdGggPSAnL0JvTC9UQ1BVcGRhdGVyL0dldFNjcmlwdCcuLihVc2VIdHRwcyBhbmQgJzUnIG9yICc2JykuLicucGhwP3NjcmlwdD0nLi5zZWxmOkJhc2U2NEVuY29kZShzZWxmLkhvc3QuLlNjcmlwdFBhdGgpLi4nJnJhbmQ9Jy4ubWF0aC5yYW5kb20oOTk5OTk5OTkpDQogICAgc2VsZi5TYXZlUGF0aCA9IFNhdmVQYXRoDQogICAgc2VsZi5DYWxsYmFja1VwZGF0ZSA9IENhbGxiYWNrVXBkYXRlDQogICAgc2VsZi5DYWxsYmFja05vVXBkYXRlID0gQ2FsbGJhY2tOb1VwZGF0ZQ0KICAgIHNlbGYuQ2FsbGJhY2tOZXdWZXJzaW9uID0gQ2FsbGJhY2tOZXdWZXJzaW9uDQogICAgc2VsZi5DYWxsYmFja0Vycm9yID0gQ2FsbGJhY2tFcnJvcg0KICAgIEFkZERyYXdDYWxsYmFjayhmdW5jdGlvbigpIHNlbGY6T25EcmF3KCkgZW5kKQ0KICAgIHNlbGY6Q3JlYXRlU29ja2V0KHNlbGYuVmVyc2lvblBhdGgpDQogICAgc2VsZi5Eb3dubG9hZFN0YXR1cyA9ICdDb25uZWN0IHRvIFNlcnZlciBmb3IgVmVyc2lvbkluZm8nDQoJc2VsZi5Eb3dubG9hZFBlcmMgPSAwDQogICAgQWRkVGlja0NhbGxiYWNrKGZ1bmN0aW9uKCkgc2VsZjpHZXRPbmxpbmVWZXJzaW9uKCkgZW5kKQ0KZW5kDQoNCmZ1bmN0aW9uIERTY3JpcHRVcGRhdGU6cHJpbnQoc3RyKQ0KICAgIHByaW50KCc8Zm9udCBjb2xvcj0iI0ZGRkZGRiI+Jy4ub3MuY2xvY2soKS4uJzogJy4uc3RyKQ0KZW5kDQoNCmZ1bmN0aW9uIERTY3JpcHRVcGRhdGU6T25EcmF3KCkNCglpZiBub3QgRFNjcmlwdFVwZGF0ZS51cGRhdGluZ1tzZWxmLmlkeF0gdGhlbiByZXR1cm4gZW5kDQogICAgaWYgc2VsZi5PbmxpbmVWZXJzaW9uIGFuZCBzZWxmLkxvY2FsVmVyc2lvbiBhbmQgc2VsZi5PbmxpbmVWZXJzaW9uID4gc2VsZi5Mb2NhbFZlcnNpb24gYW5kIHNlbGYuRG93bmxvYWRQZXJjIH49IDEwMCB0aGVuDQoJICAgIGxvY2FsIHcsaCx3MixoMiA9IDUwMCw1MCw0NzAsMzUNCgkJbG9jYWwgcGxhY2UgPSAwDQoJCWZvciBrLHYgaW4gcGFpcnMoRFNjcmlwdFVwZGF0ZS51cGRhdGluZykgZG8NCgkJCWlmIHYgfj0gbmlsIHRoZW4NCgkJCQlwbGFjZSA9IHBsYWNlICsgMQ0KCQkJCWlmIGsgPT0gc2VsZi5pZHggdGhlbiBicmVhayBlbmQNCgkJCWVuZA0KCQllbmQNCgkJbG9jYWwgeCx5LHgyLHkyID0gIFdJTkRPV19XLzIgLSB3LzIsV0lORE9XX0gvMS41IC0gcGxhY2UqKGggKyAzNSkgLSBoLzIsIFdJTkRPV19XLzIgLSB3Mi8yLFdJTkRPV19ILzEuNSAtIHBsYWNlKihoICsgMzUpLSBoMi8yDQoJCURyYXdSZWN0YW5nbGUoeCx5LHcsaCwweEZGRjM3NDE0MCktLWZmNjY2Ng0KCQlEcmF3UmVjdGFuZ2xlKHgseSAtIDIwLDEwMCwyMCwweEZGRjM3NDE0MCkNCgkJRHJhd1RleHQoJ0RpdmluZUxpYiBVcGRhdGVyJywxMyx4ICsgNCx5IC0gMTcsMHhGRjc1OEE3RikNCgkJRHJhd1RleHQoJ0RpdmluZUxpYiBVcGRhdGVyJywxMyx4ICsgNSx5IC0gMTcsMHhGRjc1OEE3RikNCgkJbG9jYWwgY3VyclcyID0gc2VsZi5Eb3dubG9hZFBlcmMqdzIvMTAwDQoJCURyYXdSZWN0YW5nbGUoeDIseTIsdzIsaDIsMHhGRjJBMkMyQikNCgkJRHJhd1JlY3RhbmdsZSh4Mix5MixjdXJyVzIsaDIsMHhGRkRDMzUyMikNCgkNCgkJLS1EcmF3VGV4dCgnRG93bmxvYWRpbmcgJy4uc2VsZi5OYW1lLi4iICIuLihzZWxmLkRvd25sb2FkU3RhdHVzIGFuZCBzZWxmLkRvd25sb2FkUGVyYyBvciAiPyIpLi4iJSIsMjAseCAtIDEgKyB3LzMseS0xICsgaCsxMCwweEZGRjM3NDE0MCkNCgkJCURyYXdUZXh0KCdEb3dubG9hZGluZyAnLi5zZWxmLk5hbWUuLiIgIi4uKHNlbGYuRG93bmxvYWRTdGF0dXMgYW5kIHNlbGYuRG93bmxvYWRQZXJjIG9yICI/IikuLiIlIiwyMCx4ICsgdy8zLHkgKyBoKzEwLDB4RkZEOUNCOUUpDQogICAgZWxzZWlmIHNlbGYuRG93bmxvYWRQZXJjID09IDEwMCB0aGVuDQoJCURTY3JpcHRVcGRhdGUudXBkYXRpbmdbc2VsZi5pZHhdID0gbmlsDQoJZW5kDQoJDQplbmQNCg0KZnVuY3Rpb24gRFNjcmlwdFVwZGF0ZTpDcmVhdGVTb2NrZXQodXJsKQ0KICAgIGlmIG5vdCBzZWxmLkx1YVNvY2tldCB0aGVuDQogICAgICAgIHNlbGYuTHVhU29ja2V0ID0gcmVxdWlyZSgic29ja2V0IikNCiAgICBlbHNlDQogICAgICAgIHNlbGYuU29ja2V0OmNsb3NlKCkNCiAgICAgICAgc2VsZi5Tb2NrZXQgPSBuaWwNCiAgICAgICAgc2VsZi5TaXplID0gbmlsDQogICAgICAgIHNlbGYuUmVjdlN0YXJ0ZWQgPSBmYWxzZQ0KICAgIGVuZA0KICAgIHNlbGYuTHVhU29ja2V0ID0gcmVxdWlyZSgic29ja2V0IikNCiAgICBzZWxmLlNvY2tldCA9IHNlbGYuTHVhU29ja2V0LnRjcCgpDQogICAgc2VsZi5Tb2NrZXQ6c2V0dGltZW91dCgwLCAnYicpDQogICAgc2VsZi5Tb2NrZXQ6c2V0dGltZW91dCg5OTk5OTk5OSwgJ3QnKQ0KICAgIHNlbGYuU29ja2V0OmNvbm5lY3QoJ3N4LWJvbC5ldScsIDgwKQ0KICAgIHNlbGYuVXJsID0gdXJsDQogICAgc2VsZi5TdGFydGVkID0gZmFsc2UNCiAgICBzZWxmLkxhc3RQcmludCA9ICIiDQogICAgc2VsZi5GaWxlID0gIiINCmVuZA0KDQpmdW5jdGlvbiBEU2NyaXB0VXBkYXRlOkJhc2U2NEVuY29kZShkYXRhKQ0KICAgIGxvY2FsIGI9J0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nDQogICAgcmV0dXJuICgoZGF0YTpnc3ViKCcuJywgZnVuY3Rpb24oeCkNCiAgICAgICAgbG9jYWwgcixiPScnLHg6Ynl0ZSgpDQogICAgICAgIGZvciBpPTgsMSwtMSBkbyByPXIuLihiJTJeaS1iJTJeKGktMSk+MCBhbmQgJzEnIG9yICcwJykgZW5kDQogICAgICAgIHJldHVybiByOw0KICAgIGVuZCkuLicwMDAwJyk6Z3N1YignJWQlZCVkPyVkPyVkPyVkPycsIGZ1bmN0aW9uKHgpDQogICAgICAgIGlmICgjeCA8IDYpIHRoZW4gcmV0dXJuICcnIGVuZA0KICAgICAgICBsb2NhbCBjPTANCiAgICAgICAgZm9yIGk9MSw2IGRvIGM9YysoeDpzdWIoaSxpKT09JzEnIGFuZCAyXig2LWkpIG9yIDApIGVuZA0KICAgICAgICByZXR1cm4gYjpzdWIoYysxLGMrMSkNCiAgICBlbmQpLi4oeyAnJywgJz09JywgJz0nIH0pWyNkYXRhJTMrMV0pDQplbmQNCg0KZnVuY3Rpb24gRFNjcmlwdFVwZGF0ZTpHZXRPbmxpbmVWZXJzaW9uKCkNCiAgICBpZiBzZWxmLkdvdFNjcmlwdFZlcnNpb24gdGhlbiByZXR1cm4gZW5kDQoNCiAgICBzZWxmLlJlY2VpdmUsIHNlbGYuU3RhdHVzLCBzZWxmLlNuaXBwZWQgPSBzZWxmLlNvY2tldDpyZWNlaXZlKDEwMjQpDQogICAgaWYgc2VsZi5TdGF0dXMgPT0gJ3RpbWVvdXQnIGFuZCBub3Qgc2VsZi5TdGFydGVkIHRoZW4NCiAgICAgICAgc2VsZi5TdGFydGVkID0gdHJ1ZQ0KICAgICAgICBzZWxmLlNvY2tldDpzZW5kKCJHRVQgIi4uc2VsZi5VcmwuLiIgSFRUUC8xLjFcclxuSG9zdDogc3gtYm9sLmV1XHJcblxyXG4iKQ0KICAgIGVuZA0KICAgIGlmIChzZWxmLlJlY2VpdmUgb3IgKCNzZWxmLlNuaXBwZWQgPiAwKSkgYW5kIG5vdCBzZWxmLlJlY3ZTdGFydGVkIHRoZW4NCiAgICAgICAgc2VsZi5SZWN2U3RhcnRlZCA9IHRydWUNCiAgICAgICAgc2VsZi5Eb3dubG9hZFN0YXR1cyA9ICdEb3dubG9hZGluZyBWZXJzaW9uSW5mbyAoMCUpJw0KICAgIGVuZA0KDQogICAgc2VsZi5GaWxlID0gc2VsZi5GaWxlIC4uIChzZWxmLlJlY2VpdmUgb3Igc2VsZi5TbmlwcGVkKQ0KICAgIGlmIHNlbGYuRmlsZTpmaW5kKCc8L3MnLi4naXplPicpIHRoZW4NCiAgICAgICAgaWYgbm90IHNlbGYuU2l6ZSB0aGVuDQogICAgICAgICAgICBzZWxmLlNpemUgPSB0b251bWJlcihzZWxmLkZpbGU6c3ViKHNlbGYuRmlsZTpmaW5kKCc8c2knLi4nemU+JykrNixzZWxmLkZpbGU6ZmluZCgnPC9zaScuLid6ZT4nKS0xKSkNCiAgICAgICAgZW5kDQogICAgICAgIGlmIHNlbGYuRmlsZTpmaW5kKCc8c2NyJy4uJ2lwdD4nKSB0aGVuDQogICAgICAgICAgICBsb2NhbCBfLFNjcmlwdEZpbmQgPSBzZWxmLkZpbGU6ZmluZCgnPHNjcicuLidpcHQ+JykNCiAgICAgICAgICAgIGxvY2FsIFNjcmlwdEVuZCA9IHNlbGYuRmlsZTpmaW5kKCc8L3NjcicuLidpcHQ+JykNCiAgICAgICAgICAgIGlmIFNjcmlwdEVuZCB0aGVuIFNjcmlwdEVuZCA9IFNjcmlwdEVuZCAtIDEgZW5kDQogICAgICAgICAgICBsb2NhbCBEb3dubG9hZGVkU2l6ZSA9IHNlbGYuRmlsZTpzdWIoU2NyaXB0RmluZCsxLFNjcmlwdEVuZCBvciAtMSk6bGVuKCkNCiAgICAgICAgICAgIHNlbGYuRG93bmxvYWRTdGF0dXMgPSAnRG93bmxvYWRpbmcgVmVyc2lvbkluZm8gKCcuLm1hdGgucm91bmQoMTAwL3NlbGYuU2l6ZSpEb3dubG9hZGVkU2l6ZSwyKS4uJyUpJw0KCQkJDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIGlmIHNlbGYuRmlsZTpmaW5kKCc8L3NjcicuLidpcHQ+JykgdGhlbg0KICAgICAgICBzZWxmLkRvd25sb2FkU3RhdHVzID0gJ0Rvd25sb2FkaW5nIFZlcnNpb25JbmZvICgxMDAlKScNCg0KICAgICAgICBsb2NhbCBhLGIgPSBzZWxmLkZpbGU6ZmluZCgnXHJcblxyXG4nKQ0KICAgICAgICBzZWxmLkZpbGUgPSBzZWxmLkZpbGU6c3ViKGEsLTEpDQogICAgICAgIHNlbGYuTmV3RmlsZSA9ICcnDQogICAgICAgIGZvciBsaW5lLGNvbnRlbnQgaW4gaXBhaXJzKHNlbGYuRmlsZTpzcGxpdCgnXG4nKSkgZG8NCiAgICAgICAgICAgIGlmIGNvbnRlbnQ6bGVuKCkgPiA1IHRoZW4NCiAgICAgICAgICAgICAgICBzZWxmLk5ld0ZpbGUgPSBzZWxmLk5ld0ZpbGUgLi4gY29udGVudA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICBsb2NhbCBIZWFkZXJFbmQsIENvbnRlbnRTdGFydCA9IHNlbGYuRmlsZTpmaW5kKCc8c2NyJy4uJ2lwdD4nKQ0KICAgICAgICBsb2NhbCBDb250ZW50RW5kLCBfID0gc2VsZi5GaWxlOmZpbmQoJzwvc2MnLi4ncmlwdD4nKQ0KICAgICAgICBpZiBub3QgQ29udGVudFN0YXJ0IG9yIG5vdCBDb250ZW50RW5kIHRoZW4NCiAgICAgICAgICAgIGlmIHNlbGYuQ2FsbGJhY2tFcnJvciBhbmQgdHlwZShzZWxmLkNhbGxiYWNrRXJyb3IpID09ICdmdW5jdGlvbicgdGhlbg0KICAgICAgICAgICAgICAgIHNlbGYuQ2FsbGJhY2tFcnJvcigpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgc2VsZi5PbmxpbmVWZXJzaW9uID0gKEJhc2U2NERlY29kZShzZWxmLkZpbGU6c3ViKENvbnRlbnRTdGFydCArIDEsQ29udGVudEVuZC0xKSkpDQogICAgICAgICAgICBzZWxmLk9ubGluZVZlcnNpb24gPSB0b251bWJlcihzZWxmLk9ubGluZVZlcnNpb24pDQogICAgICAgICAgICBpZiBzZWxmLk9ubGluZVZlcnNpb24gPiBzZWxmLkxvY2FsVmVyc2lvbiB0aGVuDQogICAgICAgICAgICAgICAgaWYgc2VsZi5DYWxsYmFja05ld1ZlcnNpb24gYW5kIHR5cGUoc2VsZi5DYWxsYmFja05ld1ZlcnNpb24pID09ICdmdW5jdGlvbicgdGhlbg0KICAgICAgICAgICAgICAgICAgICBzZWxmLkNhbGxiYWNrTmV3VmVyc2lvbihzZWxmLk9ubGluZVZlcnNpb24sc2VsZi5Mb2NhbFZlcnNpb24pDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgc2VsZjpDcmVhdGVTb2NrZXQoc2VsZi5TY3JpcHRQYXRoKQ0KICAgICAgICAgICAgICAgIHNlbGYuRG93bmxvYWRTdGF0dXMgPSAnQ29ubmVjdCB0byBTZXJ2ZXIgZm9yIFNjcmlwdERvd25sb2FkJw0KICAgICAgICAgICAgICAgIEFkZFRpY2tDYWxsYmFjayhmdW5jdGlvbigpIHNlbGY6RG93bmxvYWRVcGRhdGUoKSBlbmQpDQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgaWYgc2VsZi5DYWxsYmFja05vVXBkYXRlIGFuZCB0eXBlKHNlbGYuQ2FsbGJhY2tOb1VwZGF0ZSkgPT0gJ2Z1bmN0aW9uJyB0aGVuDQogICAgICAgICAgICAgICAgICAgIHNlbGYuQ2FsbGJhY2tOb1VwZGF0ZShzZWxmLkxvY2FsVmVyc2lvbikNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgc2VsZi5Hb3RTY3JpcHRWZXJzaW9uID0gdHJ1ZQ0KICAgIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIERTY3JpcHRVcGRhdGU6RG93bmxvYWRVcGRhdGUoKQ0KICAgIGlmIHNlbGYuR290RFNjcmlwdFVwZGF0ZSB0aGVuIHJldHVybiBlbmQNCiAgICBzZWxmLlJlY2VpdmUsIHNlbGYuU3RhdHVzLCBzZWxmLlNuaXBwZWQgPSBzZWxmLlNvY2tldDpyZWNlaXZlKDEwMjQpDQogICAgaWYgc2VsZi5TdGF0dXMgPT0gJ3RpbWVvdXQnIGFuZCBub3Qgc2VsZi5TdGFydGVkIHRoZW4NCiAgICAgICAgc2VsZi5TdGFydGVkID0gdHJ1ZQ0KICAgICAgICBzZWxmLlNvY2tldDpzZW5kKCJHRVQgIi4uc2VsZi5VcmwuLiIgSFRUUC8xLjFcclxuSG9zdDogc3gtYm9sLmV1XHJcblxyXG4iKQ0KICAgIGVuZA0KICAgIGlmIChzZWxmLlJlY2VpdmUgb3IgKCNzZWxmLlNuaXBwZWQgPiAwKSkgYW5kIG5vdCBzZWxmLlJlY3ZTdGFydGVkIHRoZW4NCiAgICAgICAgc2VsZi5SZWN2U3RhcnRlZCA9IHRydWUNCiAgICAgICAgc2VsZi5Eb3dubG9hZFN0YXR1cyA9ICdEb3dubG9hZGluZyBTY3JpcHQgKDAlKScNCiAgICBlbmQNCg0KICAgIHNlbGYuRmlsZSA9IHNlbGYuRmlsZSAuLiAoc2VsZi5SZWNlaXZlIG9yIHNlbGYuU25pcHBlZCkNCiAgICBpZiBzZWxmLkZpbGU6ZmluZCgnPC9zaScuLid6ZT4nKSB0aGVuDQogICAgICAgIGlmIG5vdCBzZWxmLlNpemUgdGhlbg0KICAgICAgICAgICAgc2VsZi5TaXplID0gdG9udW1iZXIoc2VsZi5GaWxlOnN1YihzZWxmLkZpbGU6ZmluZCgnPHNpJy4uJ3plPicpKzYsc2VsZi5GaWxlOmZpbmQoJzwvc2knLi4nemU+JyktMSkpDQogICAgICAgIGVuZA0KICAgICAgICBpZiBzZWxmLkZpbGU6ZmluZCgnPHNjcicuLidpcHQ+JykgdGhlbg0KICAgICAgICAgICAgbG9jYWwgXyxTY3JpcHRGaW5kID0gc2VsZi5GaWxlOmZpbmQoJzxzY3InLi4naXB0PicpDQogICAgICAgICAgICBsb2NhbCBTY3JpcHRFbmQgPSBzZWxmLkZpbGU6ZmluZCgnPC9zY3InLi4naXB0PicpDQogICAgICAgICAgICBpZiBTY3JpcHRFbmQgdGhlbiBTY3JpcHRFbmQgPSBTY3JpcHRFbmQgLSAxIGVuZA0KICAgICAgICAgICAgbG9jYWwgRG93bmxvYWRlZFNpemUgPSBzZWxmLkZpbGU6c3ViKFNjcmlwdEZpbmQrMSxTY3JpcHRFbmQgb3IgLTEpOmxlbigpDQogICAgICAgICAgICBzZWxmLkRvd25sb2FkU3RhdHVzID0gJ0Rvd25sb2FkaW5nIFNjcmlwdCAoJy4ubWF0aC5yb3VuZCgxMDAvc2VsZi5TaXplKkRvd25sb2FkZWRTaXplLDIpLi4nJSknDQoJCQlzZWxmLkRvd25sb2FkUGVyYyA9IEZMT09SKDEwMC9zZWxmLlNpemUqRG93bmxvYWRlZFNpemUsMikNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgaWYgc2VsZi5GaWxlOmZpbmQoJzwvc2NyJy4uJ2lwdD4nKSB0aGVuDQogICAgICAgIHNlbGYuRG93bmxvYWRTdGF0dXMgPSAnRG93bmxvYWRpbmcgU2NyaXB0ICgxMDAlKScNCgkJc2VsZi5Eb3dubG9hZFBlcmMgPSAxMDANCiAgICAgICAgbG9jYWwgYSxiID0gc2VsZi5GaWxlOmZpbmQoJ1xyXG5cclxuJykNCiAgICAgICAgc2VsZi5GaWxlID0gc2VsZi5GaWxlOnN1YihhLC0xKQ0KICAgICAgICBzZWxmLk5ld0ZpbGUgPSAnJw0KICAgICAgICBmb3IgbGluZSxjb250ZW50IGluIGlwYWlycyhzZWxmLkZpbGU6c3BsaXQoJ1xuJykpIGRvDQogICAgICAgICAgICBpZiBjb250ZW50OmxlbigpID4gNSB0aGVuDQogICAgICAgICAgICAgICAgc2VsZi5OZXdGaWxlID0gc2VsZi5OZXdGaWxlIC4uIGNvbnRlbnQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgbG9jYWwgSGVhZGVyRW5kLCBDb250ZW50U3RhcnQgPSBzZWxmLk5ld0ZpbGU6ZmluZCgnPHNjJy4uJ3JpcHQ+JykNCiAgICAgICAgbG9jYWwgQ29udGVudEVuZCwgXyA9IHNlbGYuTmV3RmlsZTpmaW5kKCc8L3NjcicuLidpcHQ+JykNCiAgICAgICAgaWYgbm90IENvbnRlbnRTdGFydCBvciBub3QgQ29udGVudEVuZCB0aGVuDQogICAgICAgICAgICBpZiBzZWxmLkNhbGxiYWNrRXJyb3IgYW5kIHR5cGUoc2VsZi5DYWxsYmFja0Vycm9yKSA9PSAnZnVuY3Rpb24nIHRoZW4NCiAgICAgICAgICAgICAgICBzZWxmLkNhbGxiYWNrRXJyb3IoKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIGxvY2FsIG5ld2YgPSBzZWxmLk5ld0ZpbGU6c3ViKENvbnRlbnRTdGFydCsxLENvbnRlbnRFbmQtMSkNCiAgICAgICAgICAgIGxvY2FsIG5ld2YgPSBuZXdmOmdzdWIoJ1xyJywnJykNCiAgICAgICAgICAgIGlmIG5ld2Y6bGVuKCkgfj0gc2VsZi5TaXplIHRoZW4NCiAgICAgICAgICAgICAgICBpZiBzZWxmLkNhbGxiYWNrRXJyb3IgYW5kIHR5cGUoc2VsZi5DYWxsYmFja0Vycm9yKSA9PSAnZnVuY3Rpb24nIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgc2VsZi5DYWxsYmFja0Vycm9yKCkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgbG9jYWwgbmV3ZiA9IEJhc2U2NERlY29kZShuZXdmKQ0KICAgICAgICAgICAgaWYgdHlwZShsb2FkKG5ld2YpKSB+PSAnZnVuY3Rpb24nIHRoZW4NCiAgICAgICAgICAgICAgICBpZiBzZWxmLkNhbGxiYWNrRXJyb3IgYW5kIHR5cGUoc2VsZi5DYWxsYmFja0Vycm9yKSA9PSAnZnVuY3Rpb24nIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgc2VsZi5DYWxsYmFja0Vycm9yKCkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBsb2NhbCBmID0gaW8ub3BlbihzZWxmLlNhdmVQYXRoLCJ3K2IiKQ0KICAgICAgICAgICAgICAgIGY6d3JpdGUobmV3ZikNCiAgICAgICAgICAgICAgICBmOmNsb3NlKCkNCiAgICAgICAgICAgICAgICBpZiBzZWxmLkNhbGxiYWNrVXBkYXRlIGFuZCB0eXBlKHNlbGYuQ2FsbGJhY2tVcGRhdGUpID09ICdmdW5jdGlvbicgdGhlbg0KICAgICAgICAgICAgICAgICAgICBzZWxmLkNhbGxiYWNrVXBkYXRlKHNlbGYuT25saW5lVmVyc2lvbixzZWxmLkxvY2FsVmVyc2lvbikNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgc2VsZi5Hb3REU2NyaXB0VXBkYXRlID0gdHJ1ZQ0KICAgIGVuZA0KZW5kDQoNCg0KQWRkTG9hZENhbGxiYWNrKGZ1bmN0aW9uKCkNCi0tdXBkYXRlIHNlbGYNCkRTY3JpcHRVcGRhdGUoDQoJCSJEaXZpbmVMaWIiLA0KCQlESW5mby5WRVJTSU9OLA0KCQlESW5mby5TU0wsDQoJCURJbmZvLkhPU1RfVVJMLCANCgkJIi9OYWRlci1TbC9Cb0xTdHVkaW8vbWFzdGVyL1ZlcnNpb25zL0RpdmluZUxpYi52ZXJzaW9uP25vLWNhY2hlPSIgLi4gbWF0aC5yYW5kb20oMSwgMjUwMDApLCANCgkJIi9OYWRlci1TbC9Cb0xTdHVkaW8vbWFzdGVyL1NjcmlwdHMvQ29tbW9uL0RpdmluZUxpYi5sdWE/bm8tY2FjaGU9IiAuLiBtYXRoLnJhbmRvbSgxLCAyNTAwMCksIA0KCQlMSUJfUEFUSC4uIkRpdmluZUxpYi5sdWEiLCANCgkJZnVuY3Rpb24oKSANCgkJCWxvZ0RMKCJVcGRhdGVkIHRvIGxhdGVzdCB2ZXJzaW9uLCBwbGVhc2UgcmVzdGFydCBzY3JpcHQgKEY5IEY5KSIpDQoJCWVuZCwgDQoJCWZ1bmN0aW9uKCkgICBlbmQsIC0tbG9hZCBjb21wbGV0ZQ0KCQlmdW5jdGlvbigpIGxvZ0RMKCJBIG5ldyB2ZXJzaW9uIGZvdW5kLCBhdHRlbXB0aW5nIHRvIGRvd25sb2FkIC4uLiIpICBlbmQsIC0tbmV3IHZlcnNpb24NCgkJZnVuY3Rpb24oKSBsb2dETCgnQW4gRXJyb3IgT2NjdXJlZCBkdXJpbmcgRGl2aW5lTGliIHVwZGF0ZSwgcGxlYXNlIHJlc3RhcnQgdGhlIHNjcmlwdCAoRjkgeCBGOSknKSBlbmQNCgkpDQoNCi0tdnByZWQgZG93bmxvYWQNCmlmIEZpbGVFeGlzdChMSUJfUEFUSCAuLiAiVlByZWRpY3Rpb24ubHVhIikgdGhlbiANCglyZXF1aXJlICgiVlByZWRpY3Rpb24iKQ0KCURQcmVkaWN0aW9ucy52UHJlZCA9IFZQcmVkaWN0aW9uKCkNCglEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMudnByZWQgPSB0cnVlDQplbHNlDQpEU2NyaXB0VXBkYXRlKA0KCQkiVlByZWRpY3Rpb24iLA0KCQkwLA0KCQl0cnVlLA0KCQlESW5mby5IT1NUX1VSTCwgDQoJCSIvTmFkZXItU2wvQm9MU3R1ZGlvL21hc3Rlci9WZXJzaW9ucy92ZXJzaW9uZHVtbXkudmVyc2lvbj9uby1jYWNoZT0iIC4uIG1hdGgucmFuZG9tKDEsIDI1MDAwKSwgDQoJCSIvU2lkYUJvTC9TY3JpcHRzL21hc3Rlci9Db21tb24vVlByZWRpY3Rpb24ubHVhP25vLWNhY2hlPSIgLi4gbWF0aC5yYW5kb20oMSwgMjUwMDApLCANCgkJTElCX1BBVEguLiJWUHJlZGljdGlvbi5sdWEiLCANCgkJZnVuY3Rpb24oKSANCgkJCXJlcXVpcmUgKCJWUHJlZGljdGlvbiIpDQoJCQlEUHJlZGljdGlvbnMudlByZWQgPSBWUHJlZGljdGlvbigpDQoJCQlEUHJlZGljdGlvbnMubG9hZGVkUHJlZExpYnMudnByZWQgPSB0cnVlDQoJCWVuZCwgDQoJCWZ1bmN0aW9uKCkgICBlbmQsIC0tbG9hZCBjb21wbGV0ZQ0KCQlmdW5jdGlvbigpICAgZW5kLCAtLW5ldyB2ZXJzaW9uDQoJCWZ1bmN0aW9uKCkgbG9nREwoJ0FuIEVycm9yIE9jY3VyZWQgZHVyaW5nIFZQcmVkaWN0aW9uIGRvd25sb2FkLCBwbGVhc2UgcmVzdGFydCB0aGUgc2NyaXB0IChGOSB4IEY5KScpIGVuZA0KCSkNCmVuZA0KLS1bWw0KLS1tZW51IGNvbmZpZyAobmV3KSANCmlmIEZpbGVFeGlzdChMSUJfUEFUSCAuLiAiTWVudUNvbmZpZy5sdWEiKSB0aGVuIA0KCWFzc2VydChsb2FkKFJlYWRGaWxlKExJQl9QQVRILi4iTWVudUNvbmZpZy5sdWEiKSwgIk1lbnVDb25maWciLCAidCIsIF9FTlYpKSgpDQoJCQlEU2NyaXB0VXBkYXRlLm1lbnVDb25maWdMb2FkZWQgPSB0cnVlDQplbHNlDQpEU2NyaXB0VXBkYXRlKA0KCQkiTmV3IEJvTCBNZW51Q29uZmlnIiwNCgkJMCwNCgkJdHJ1ZSwNCgkJREluZm8uSE9TVF9VUkwsIA0KCQkiL05hZGVyLVNsL0JvTFN0dWRpby9tYXN0ZXIvVmVyc2lvbnMvdmVyc2lvbmR1bW15LnZlcnNpb24iLCANCgkJIi9saW5rcGFkL0JvTC9tYXN0ZXIvQ29tbW9uL01lbnVDb25maWcubHVhIiwgDQoJCUxJQl9QQVRILi4iTWVudUNvbmZpZy5sdWEiLCANCgkJZnVuY3Rpb24oKSANCgkJCWFzc2VydChsb2FkKFJlYWRGaWxlKExJQl9QQVRILi4iTWVudUNvbmZpZy5sdWEiKSwgIk1lbnVDb25maWciLCAidCIsIF9FTlYpKSgpDQoJCQlEU2NyaXB0VXBkYXRlLm1lbnVDb25maWdMb2FkZWQgPSB0cnVlDQoJCWVuZCwgDQoJCWZ1bmN0aW9uKCkgICBlbmQsIC0tbG9hZCBjb21wbGV0ZQ0KCQlmdW5jdGlvbigpICAgZW5kLCAtLW5ldyB2ZXJzaW9uDQoJCWZ1bmN0aW9uKCkgcHJpbnQoJ0FuIEVycm9yIE9jY3VyZWQgaW4gZHVyaW5nIE5ldyBNZW51Q29uZmlnIGRvd25sb2FkLCBXaWxsIHN3aXRjaCB0byBkZWZhdWx0IE1lbnVDb25maWcuJykgZW5kDQoJKQ0KZW5kXV0tLQ0KIC0tW1sNCkRTY3JpcHRVcGRhdGUoDQoJCURJbmZvLk5BTUUsDQoJCURJbmZvLlZFUlNJT04gLA0KCQlESW5mby5TU0wsDQoJCURJbmZvLkhPU1RfVVJMLCANCgkJREluZm8uVkVSU0lPTl9QQVRILCANCgkJREluZm8uU0NSSVBUX1BBVEgsIA0KCQlESW5mby5TQVZFX1BBVEgsIA0KCQlmdW5jdGlvbigpIHByaW50KCdVcGRhdGUgQ29tcGxldGUuIFJlbG9hZChGOSBGOSknKSBlbmQsIA0KCQlmdW5jdGlvbigpIHByaW50KCdMb2FkIENvbXBsZXRlJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnTmV3IHZlcnNpb24gZm91bmQnKSBlbmQsIA0KCQlmdW5jdGlvbigpIHByaW50KCdBbiBFcnJvciBPY2N1cmVkIGluIFVwZGF0ZS4nKSBlbmQNCgkpDQoJRFNjcmlwdFVwZGF0ZSgNCgkJIkRpdmluZSBQcmVkaWN0aW9uIiwNCgkJREluZm8uVkVSU0lPTiAsDQoJCURJbmZvLlNTTCwNCgkJREluZm8uSE9TVF9VUkwsIA0KCQlESW5mby5WRVJTSU9OX1BBVEgsIA0KCQkiL1Bld1Bld1BldzIvQm9ML21hc3Rlci9EYW5jaW5nU2hvZXMubHVhIiwNCgkJREluZm8uU0FWRV9QQVRILCANCgkJZnVuY3Rpb24oKSBwcmludCgnVXBkYXRlIENvbXBsZXRlLiBSZWxvYWQoRjkgRjkpJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnTG9hZCBDb21wbGV0ZScpIGVuZCwgDQoJCWZ1bmN0aW9uKCkgcHJpbnQoJ05ldyB2ZXJzaW9uIGZvdW5kJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnQW4gRXJyb3IgT2NjdXJlZCBpbiBVcGRhdGUuJykgZW5kDQoJKQ0KCURTY3JpcHRVcGRhdGUoDQoJCSJEYW5jaW5nU2hvZXMiLA0KCQlESW5mby5WRVJTSU9OICwNCgkJREluZm8uU1NMLA0KCQlESW5mby5IT1NUX1VSTCwgDQoJCURJbmZvLlZFUlNJT05fUEFUSCwgDQoJCSIvUGV3UGV3UGV3Mi9Cb0wvbWFzdGVyL0RhbmNpbmdTaG9lcy5sdWEiLCANCgkJREluZm8uU0FWRV9QQVRILCANCgkJZnVuY3Rpb24oKSBwcmludCgnVXBkYXRlIENvbXBsZXRlLiBSZWxvYWQoRjkgRjkpJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnTG9hZCBDb21wbGV0ZScpIGVuZCwgDQoJCWZ1bmN0aW9uKCkgcHJpbnQoJ05ldyB2ZXJzaW9uIGZvdW5kJykgZW5kLCANCgkJZnVuY3Rpb24oKSBwcmludCgnQW4gRXJyb3IgT2NjdXJlZCBpbiBVcGRhdGUuJykgZW5kDQoJKQ0KCQlEU2NyaXB0VXBkYXRlKA0KCQkic3hPcmJXYWxrIiwNCgkJREluZm8uVkVSU0lPTiAsDQoJCURJbmZvLlNTTCwNCgkJREluZm8uSE9TVF9VUkwsIA0KCQlESW5mby5WRVJTSU9OX1BBVEgsIA0KCQkiL1N1cGVyeDMyMS9Cb0wvbWFzdGVyL2NvbW1vbi9TeE9yYldhbGsubHVhIiwgDQoJCURJbmZvLlNBVkVfUEFUSCwgDQoJCWZ1bmN0aW9uKCkgcHJpbnQoJ1VwZGF0ZSBDb21wbGV0ZS4gUmVsb2FkKEY5IEY5KScpIGVuZCwgDQoJCWZ1bmN0aW9uKCkgcHJpbnQoJ0xvYWQgQ29tcGxldGUnKSBlbmQsIA0KCQlmdW5jdGlvbigpIHByaW50KCdOZXcgdmVyc2lvbiBmb3VuZCcpIGVuZCwgDQoJCWZ1bmN0aW9uKCkgcHJpbnQoJ0FuIEVycm9yIE9jY3VyZWQgaW4gVXBkYXRlLicpIGVuZA0KCSApXV0tLQ0KZW5kKQ0K"),FILE_NAME, "bt", _ENV)()